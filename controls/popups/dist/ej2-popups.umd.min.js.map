{"version":3,"file":"ej2-popups.umd.min.js","sources":["../src/common/position.js","../src/common/collision.js","../src/popup/popup.js","../src/spinner/spinner.js","../src/dialog/dialog.js","../src/tooltip/tooltip.js"],"sourcesContent":["/**\n * Position library\n */\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\nexport function calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\nexport function calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    return pos;\n}\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\nfunction getElementRight() {\n    return elementRect.right + getBodyScrollLeft() - (popupRect ? popupRect.width : 0);\n}\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n","/**\n * Collision module.\n */\nimport { calculatePosition } from './position';\nvar parentDocument;\nvar targetContainer;\nexport function fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\nexport function isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    var topData = '';\n    var leftData = '';\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\nexport function flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, axis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null };\n    var eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    };\n    var elementRect = element.getBoundingClientRect();\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\nfunction setPopup(element, pos, elementRect) {\n    var left = 0;\n    var top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\nfunction leftCollideCheck(left, right) {\n    var leftSide = false;\n    var rightSide = false;\n    if (((left - getBodyScrollLeft()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left >= ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom()) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\nfunction topCollideCheck(top, bottom) {\n    var topSide = false;\n    var bottomSide = false;\n    if ((top - getBodyScrollTop()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft() + getViewPortWidth());\n}\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop() + getViewPortHeight());\n}\nfunction getBodyScrollTop() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\nfunction getBodyScrollLeft() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\nfunction getViewPortWidth() {\n    return window.innerWidth;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { setStyleAttribute, addClass, removeClass, ChildProperty, Complex } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit } from '@syncfusion/ej2-base';\nimport { Browser } from '@syncfusion/ej2-base';\nimport { calculatePosition, calculateRelativeBasedPosition } from '../common/position';\nimport { Animation, Property, Event, Component } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { flip, fit, isCollide } from '../common/collision';\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\nexport { PositionData };\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     * @private\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     */\n    Popup.prototype.destroy = function () {\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL);\n        this.unwireEvents();\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n        this.wireEvents();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     */\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                this.element.appendChild(this.content);\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var display = this.element.style.display;\n            var parentDisplay = void 0;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                this.element.style.left = data.left + 'px';\n                this.element.style.top = data.top + 'px';\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     * @param { AnimationModel | Function } collisionOrAnimationOptions? - To pass animation options or collision function.\n     * @param { Function } collision? - To pass the collision function.\n     * @param { HTMLElement } relativeElement? - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     * @param { AnimationModel } animationOptions? - To give the animation options.\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY') {\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\nexport { Popup };\n/**\n * Gets scrollable parent elements for the given element.\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @private\n */\nexport function getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nexport function getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    //Body direct children element traversal\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                siblingsZindex.push(index);\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    // Checking the max-zindex value\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nexport function getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n","import { isNullOrUndefined, classList, createElement } from '@syncfusion/ej2-base';\nvar globalTimeOut = {};\nvar spinTemplate = null;\nvar spinCSSClass = null;\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n * @param args\n * @private\n */\nexport function createSpinner(args, internalCreateElement) {\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.textContent = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement);\n    mat_calculate_attributes(radius, container);\n}\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[uniqueID].timeOut = 0;\n    globalObject[uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    svg.style.width = svg.style.height = radius + 'px';\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    var increment = false;\n    var count = 1;\n    formSeries(start);\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        function boot_animate(radius) {\n            if (globalTimeOut[id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\nfunction calculateRadius(width, theme) {\n    var defaultSize = theme === 'Material' ? DEFT_MAT_WIDTH : theme === 'Fabric' ? DEFT_FAB_WIDTH : DEFT_BOOT_WIDTH;\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\nfunction create_material_element(innerContainer, uniqueID, makeElement) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgMaterial.setAttribute('class', CLS_MATERIALSPIN);\n    svgMaterial.setAttribute('id', uniqueID);\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    function updatePath(value, container) {\n        if ((!isNullOrUndefined(container.querySelector('svg.e-spin-material')))\n            && (!isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle')))) {\n            var svg = container.querySelector('svg.e-spin-material');\n            var path = svg.querySelector('path.e-path-circle');\n            path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n            path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n        }\n    }\n}\nfunction mat_calculate_attributes(radius, container) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.e-spin-material');\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n}\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    var startArc = 315;\n    var endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0,\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap = container.classList.contains(CLS_SPINWRAP) ? container :\n        container.querySelector('.' + CLS_SPINWRAP);\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck;\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n        !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n    if (spinCheck) {\n        var svgEle = spinnerWrap.querySelector('svg');\n        if (isNullOrUndefined(svgEle)) {\n            return;\n        }\n        var id = svgEle.getAttribute('id');\n        globalTimeOut[id].isAnimate = !isHide;\n        switch (globalTimeOut[id].type) {\n            case 'Material':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                break;\n            case 'Bootstrap':\n                isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                break;\n        }\n    }\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n}\n/**\n * Function to hide the Spinner.\n * @param container - Specify the target of the Spinner.\n * @private\n */\nexport function hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n/**\n * Function to change the Spinners in a page globally from application end.\n * ```\n * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n * ```\n * @param args\n * @private\n */\nexport function setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n    }\n}\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n        var id = svgElement.getAttribute('id');\n        clearTimeout(globalTimeOut[id].timeOut);\n    }\n    setTheme(theme, container, radius, makeEle);\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, Event, Collection, L10n, Browser, Complex, compile, createElement } from '@syncfusion/ej2-base';\nimport { addClass, removeClass, detach, attributes, prepend, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, ChildProperty } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, formatUnit, append } from '@syncfusion/ej2-base';\nimport { EventHandler } from '@syncfusion/ej2-base';\nimport { Draggable } from '@syncfusion/ej2-base';\nimport { Popup, PositionData, getZindexPartial } from '../popup/popup';\nimport { Button } from '@syncfusion/ej2-buttons';\nvar ButtonProps = /** @class */ (function (_super) {\n    __extends(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate([\n        Property()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\nexport { ButtonProps };\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @class */ (function (_super) {\n    __extends(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nexport { AnimationSettings };\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @class */ (function (_super) {\n    __extends(Dialog, _super);\n    /**\n     * Constructor for creating the widget\n     * @hidden\n     */\n    function Dialog(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n    };\n    /**\n     * Initialize the event handler\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.headerContent = null;\n        var classArray = [];\n        for (var j = 0; j < this.element.classList.length; j++) {\n            if (!isNullOrUndefined(this.element.classList[j].match('e-control')) ||\n                !isNullOrUndefined(this.element.classList[j].match(ROOT))) {\n                classArray.push(this.element.classList[j]);\n            }\n        }\n        removeClass([this.element], classArray);\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.trigger('overlayClick', event);\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    ;\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.hide(event);\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        addClass([this.element], ROOT);\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        this.setCSSClass();\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        attributes(this.element, { role: 'dialog' });\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        this.setTargetContent();\n        if (this.header !== '' && !isNullOrUndefined(this.header)) {\n            this.setHeader();\n        }\n        if (this.showCloseIcon) {\n            this.renderCloseIcon();\n        }\n        this.setContent();\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setFooterTemplate();\n        }\n        else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            this.setButton();\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n        if (this.isModal) {\n            this.setIsModal();\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            open: function (event) {\n                _this.focusContent();\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target\n                };\n                _this.trigger('open', eventArgs);\n            },\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                if (!isNullOrUndefined(_this.storeActiveElement)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        addClass([this.element], DLG_HIDE);\n        if (this.isModal) {\n            this.setOverlayZindex();\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (typeof (this.position.X) === 'number' && typeof (this.position.Y) === 'number') {\n                this.setPopupPosition();\n            }\n            else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n                (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        this.dragObj = new Draggable(this.element, {\n            clone: false,\n            abort: '.e-dlg-closeicon-btn',\n            handle: handleContent,\n            dragStart: function (event) {\n                _this.trigger('dragStart', event);\n            },\n            dragStop: function (event) {\n                if (_this.isModal) {\n                    if (!isNullOrUndefined(_this.position)) {\n                        _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                    }\n                    // Reset the dialog position after drag completion.\n                    _this.element.style.position = 'relative';\n                }\n                _this.trigger('dragStop', event);\n            },\n            drag: function (event) {\n                _this.trigger('drag', event);\n            }\n        });\n        if (!isNullOrUndefined(this.targetEle)) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        this.buttonContent = [];\n        this.btnObj = [];\n        var primaryBtnFlag = true;\n        for (var i = 0; i < this.buttons.length; i++) {\n            var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n            var btn = this.createElement('button', { attrs: { type: buttonType } });\n            this.buttonContent.push(btn.outerHTML);\n        }\n        this.setFooterTemplate();\n        for (var i = 0; i < this.buttons.length; i++) {\n            this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            if (typeof (this.buttons[i].click) === 'function') {\n                EventHandler.add(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click, this);\n            }\n            this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n            this.btnObj[i].element.classList.add('e-flat');\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n    };\n    Dialog.prototype.setContent = function () {\n        attributes(this.element, { 'aria-describedby': this.element.id + '_dialog-content' });\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            if (typeof (this.content) === 'string') {\n                this.contentEle.innerHTML = this.content;\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle);\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement) {\n        var templateFn = compile(template);\n        var fromElements = [];\n        for (var _i = 0, _a = templateFn({}); _i < _a.length; _i++) {\n            var item = _a[_i];\n            fromElements.push(item);\n        }\n        append([].slice.call(fromElements), toElement);\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    };\n    Dialog.prototype.setTargetContent = function () {\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                while (this.element.childNodes.length !== 0) {\n                    this.innerContentElement.appendChild(this.element.childNodes[0]);\n                }\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle);\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent);\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n        this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n        this.closeIconTitle();\n        if (!isNullOrUndefined(this.headerContent)) {\n            prepend([this.closeIcon], this.headerContent);\n        }\n        else {\n            this.createHeaderContent();\n            prepend([this.closeIcon], this.headerContent);\n            this.element.insertBefore(this.headerContent, this.element.children[0]);\n        }\n        this.closeIconBtnObj.appendTo(this.closeIcon);\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msMatchesSelector : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        node.focus();\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    /**\n     * Module required function\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     * @private\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            this.contentEle.innerHTML = '';\n                            typeof (this.content) === 'string' ?\n                                this.contentEle.innerHTML = this.content : this.contentEle.appendChild(this.content);\n                            this.setMaxHeight();\n                        }\n                        else {\n                            this.setContent();\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        this.setHeader();\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        this.setFooterTemplate();\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                    }\n                    else {\n                        this.renderCloseIcon();\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    this.calculatezIndex = false;\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons':\n                    if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                        if (!isNullOrUndefined(this.ftrTemplateContent)) {\n                            detach(this.ftrTemplateContent);\n                            this.ftrTemplateContent = null;\n                        }\n                        this.footerTemplate = '';\n                        this.setButton();\n                    }\n                    break;\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.popupObj.relateTo = newProp.target;\n                    break;\n                case 'position':\n                    if (this.isModal) {\n                        var positionX = isNullOrUndefined(oldProp.position.X) ? this.position.X : oldProp.position.X;\n                        var positionY = isNullOrUndefined(oldProp.position.Y) ? this.position.Y : oldProp.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            this.setIsModal();\n            this.element.style.top = '0px';\n            this.element.style.left = '0px';\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.targetEle.appendChild(this.dlgContainer);\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], SCROLL_DISABLED);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.zIndex = getZindexPartial(zIndexElement);\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}\n     * @memberof dialog\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.element.classList.contains(ROOT)) {\n            this.unWireEvents();\n            _super.prototype.destroy.call(this);\n            var classArray = [\n                ROOT, RTL, MODAL_DLG\n            ];\n            removeClass([this.element, this.element], classArray);\n            if (this.popupObj.element.classList.contains(POPUP_ROOT)) {\n                this.popupObj.destroy();\n            }\n            /* istanbul ignore next */\n            if (!isNullOrUndefined(this.btnObj)) {\n                for (var i = void 0; i < this.btnObj.length; i++) {\n                    this.btnObj[i].destroy();\n                }\n            }\n            if (this.isModal) {\n                detach(this.dlgOverlay);\n                this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n                detach(this.dlgContainer);\n            }\n            this.element.innerHTML = '';\n            while (this.element.attributes.length > 0) {\n                this.element.removeAttribute(this.element.attributes[0].name);\n            }\n            for (var k = 0; k < this.clonedEle.attributes.length; k++) {\n                this.element.setAttribute(this.clonedEle.attributes[k].name, this.clonedEle.attributes[k].value);\n            }\n        }\n    };\n    /**\n     * Binding event to the element while widget creation\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     * @return {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @return {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs = {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target\n            };\n            this.trigger('beforeOpen', eventArgs);\n            if (eventArgs.cancel) {\n                return;\n            }\n            this.storeActiveElement = document.activeElement;\n            this.element.tabIndex = -1;\n            if (this.isModal && (!isNullOrUndefined(this.dlgOverlay))) {\n                this.dlgOverlay.style.display = 'block';\n                this.dlgContainer.style.display = 'flex';\n                removeClass([this.dlgOverlay], 'e-fade');\n                if (!isNullOrUndefined(this.targetEle)) {\n                    if (this.targetEle === document.body) {\n                        this.dlgContainer.style.position = 'fixed';\n                    }\n                    else {\n                        this.dlgContainer.style.position = 'absolute';\n                    }\n                    this.dlgOverlay.style.position = 'absolute';\n                    this.element.style.position = 'relative';\n                    addClass([this.targetEle], SCROLL_DISABLED);\n                }\n                else {\n                    addClass([document.body], SCROLL_DISABLED);\n                }\n            }\n            var openAnimation = {\n                name: this.animationSettings.effect + 'In',\n                duration: this.animationSettings.duration,\n                delay: this.animationSettings.delay\n            };\n            var zIndexElement = (this.isModal) ? this.element.parentElement : this.element;\n            if (this.calculatezIndex) {\n                this.setzIndex(zIndexElement, true);\n                setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n                if (this.isModal) {\n                    this.setOverlayZindex(this.zIndex);\n                }\n            }\n            this.animationSettings.effect === 'None' ? this.popupObj.show() : this.popupObj.show(openAnimation);\n            this.dialogOpen = true;\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.visible = true;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     * @return {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        var eventArgs = {\n            cancel: false,\n            isInteraction: event ? true : false,\n            element: this.element,\n            target: this.target,\n            container: this.isModal ? this.dlgContainer : this.element,\n            event: event\n        };\n        this.trigger('beforeClose', eventArgs);\n        this.closeArgs = eventArgs;\n        if (eventArgs.cancel) {\n            return;\n        }\n        if (this.isModal) {\n            !isNullOrUndefined(this.targetEle) ? removeClass([this.targetEle], SCROLL_DISABLED) :\n                removeClass([document.body], SCROLL_DISABLED);\n        }\n        var closeAnimation = {\n            name: this.animationSettings.effect + 'Out',\n            duration: this.animationSettings.duration,\n            delay: this.animationSettings.delay\n        };\n        this.animationSettings.effect === 'None' ? this.popupObj.hide() : this.popupObj.hide(closeAnimation);\n        this.dialogOpen = false;\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        this.visible = false;\n        this.isProtectedOnChange = prevOnChange;\n    };\n    /**\n     * Specifies to view the Full screen Dialog.\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        if (args) {\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], SCROLL_DISABLED);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     * @param { number } index - Index of the button.\n     * @return {Button}\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    Dialog = __decorate([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\nexport { Dialog };\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\nexport var DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function alert(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    function confirm(args) {\n        var dialogComponent;\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        return options;\n    }\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, ChildProperty, Event, append, compile } from '@syncfusion/ej2-base';\nimport { EventHandler, Touch, Browser, Animation as PopupAnimation } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getUniqueID, formatUnit } from '@syncfusion/ej2-base';\nimport { attributes, closest, removeClass, addClass, remove } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges, Complex } from '@syncfusion/ej2-base';\nimport { Popup } from '../popup/popup';\nimport { calculatePosition } from '../common/position';\nimport { isCollide, fit } from '../common/collision';\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT = 'e-tooltip';\nvar RTL = 'e-rtl';\nvar DEVICE = 'e-bigger';\nvar ICON = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar Animation = /** @class */ (function (_super) {\n    __extends(Animation, _super);\n    function Animation() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation.prototype, \"open\", void 0);\n    __decorate([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation.prototype, \"close\", void 0);\n    return Animation;\n}(ChildProperty));\nexport { Animation };\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @class */ (function (_super) {\n    __extends(Tooltip, _super);\n    /**\n     * Constructor for creating the Tooltip Component\n     */\n    function Tooltip(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: {\n                X: elePos.left,\n                Y: elePos.top\n            },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'none';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY);\n        this.tooltipEle.style.display = '';\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var elePos = this.collisionFlipFit(target, pos.left + offsetPos.left, pos.top + offsetPos.top);\n        return elePos;\n    };\n    Tooltip.prototype.reposition = function (target) {\n        var elePos = this.getTooltipPosition(target);\n        this.popupObj.position = { X: elePos.left, Y: elePos.top };\n        this.popupObj.dataBind();\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        this.trigger('afterOpen', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = this.tooltipEle.querySelectorAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                leftValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = this.tooltipEle.querySelector('.' + CONTENT);\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                tooltipContent.innerHTML = this.content;\n            }\n            else {\n                var templateFunction = compile(this.content);\n                append(templateFunction(), tooltipContent);\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDescribedBy = function (target, id) {\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        if (describedby.indexOf(id) < 0) {\n            describedby.push(id);\n        }\n        attributes(target, { 'aria-describedby': describedby.join(' ').trim(), 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDescribedBy = function (target) {\n        var id = target.getAttribute('data-tooltip-id');\n        var describedby = (target.getAttribute('aria-describedby') || '').split(/\\s+/);\n        var index = describedby.indexOf(id);\n        if (index !== -1) {\n            describedby.splice(index, 1);\n        }\n        target.removeAttribute('data-tooltip-id');\n        var orgdescribedby = describedby.join(' ').trim();\n        if (orgdescribedby) {\n            target.setAttribute('aria-describedby', orgdescribedby);\n        }\n        else {\n            target.removeAttribute('aria-describedby');\n        }\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null) {\n            return;\n        }\n        var targetList = [].slice.call(document.querySelectorAll('[data-tooltip-id= ' + this.ctrlId + '_content]'));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n        this.wireMouseEvents(e, target);\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeRender', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        this.isHidden = false;\n        if (isNullOrUndefined(this.tooltipEle)) {\n            this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n            this.tooltipEle = this.createElement('div', {\n                className: TOOLTIP_WRAP + ' ' + POPUP_ROOT, attrs: {\n                    role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                }, styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n            });\n            if (this.cssClass) {\n                addClass([this.tooltipEle], this.cssClass.split(' '));\n            }\n            if (Browser.isDevice) {\n                addClass([this.tooltipEle], DEVICE);\n            }\n            if (this.width !== 'auto') {\n                this.tooltipEle.style.maxWidth = formatUnit(this.width);\n            }\n            this.tooltipEle.appendChild(this.createElement('div', { className: CONTENT }));\n            document.body.appendChild(this.tooltipEle);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            addClass([this.tooltipEle], POPUP_OPEN);\n            if (this.showTipPointer) {\n                this.renderArrow();\n            }\n            this.renderCloseIcon();\n            this.renderPopup(target);\n        }\n        else {\n            this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n            this.addDescribedBy(target, this.ctrlId + '_content');\n            this.renderContent(target);\n            PopupAnimation.stop(this.tooltipEle);\n            this.reposition(target);\n        }\n        removeClass([this.tooltipEle], POPUP_OPEN);\n        addClass([this.tooltipEle], POPUP_CLOSE);\n        this.tooltipEventArgs = e ? { type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle } :\n            { type: null, cancel: false, target: target, event: null, element: this.tooltipEle };\n        this.trigger('beforeOpen', this.tooltipEventArgs);\n        if (this.tooltipEventArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            return;\n        }\n        var openAnimation = {\n            name: showAnimation.effect, duration: showAnimation.duration, delay: showAnimation.delay, timingFunction: 'easeOut'\n        };\n        if (showAnimation.effect === 'None') {\n            openAnimation = undefined;\n        }\n        if (this.openDelay > 0) {\n            var show = function () {\n                if (_this.popupObj) {\n                    _this.popupObj.show(openAnimation, target);\n                }\n            };\n            this.showTimer = setTimeout(show, this.openDelay);\n        }\n        else {\n            this.popupObj.show(openAnimation, target);\n        }\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, (this.target ? this.element : null), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, this.tooltipPositionX, elePos.vertical);\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            elePos.position = newpos;\n            elePos.left = pos.left + offsetPos.left;\n            elePos.top = pos.top + offsetPos.top;\n        }\n        else {\n            this.adjustArrow(target, newpos, elePos.horizontal, elePos.vertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = fit(this.tooltipEle, (this.target ? this.element : null), { X: true, Y: false }, eleOffset).left;\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = this.tooltipEle.querySelector('.' + ARROW_TIP);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n            this.tooltipEventArgs = {\n                type: e.type, cancel: false, target: target, event: e, element: this.tooltipEle\n            };\n        }\n        else {\n            target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n            this.tooltipEventArgs = {\n                type: null, cancel: false, target: target, event: null, element: this.tooltipEle\n            };\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        this.trigger('beforeClose', this.tooltipEventArgs);\n        if (!this.tooltipEventArgs.cancel) {\n            this.restoreElement(target);\n            this.isHidden = true;\n            var closeAnimation_1 = {\n                name: hideAnimation.effect, duration: hideAnimation.duration, delay: hideAnimation.delay, timingFunction: 'easeIn'\n            };\n            if (hideAnimation.effect === 'None') {\n                closeAnimation_1 = undefined;\n            }\n            if (this.closeDelay > 0) {\n                var hide = function () {\n                    if (_this.popupObj) {\n                        _this.popupObj.hide(closeAnimation_1);\n                    }\n                };\n                this.hideTimer = setTimeout(hide, this.closeDelay);\n            }\n            else {\n                this.popupObj.hide(closeAnimation_1);\n            }\n        }\n        else {\n            this.isHidden = false;\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDescribedBy(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e);\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        PopupAnimation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT) === null) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            this.close();\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     * @private\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n    };\n    /**\n     * Initializes the values of private members.\n     * @private\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     * @hidden\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll', this.scrollHandler, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                var target = targetList_2[_i];\n                EventHandler.add(target, 'focus', this.targetHover, this);\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n            }\n            if (this.mouseTrail) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     * @hidden\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll', this.scrollHandler);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            var targetList = [].slice.call(this.element.querySelectorAll(this.target));\n            for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                var target = targetList_3[_i];\n                EventHandler.remove(target, 'focus', this.targetHover);\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = document.querySelector('[data-tooltip-id= ' + this.ctrlId + '_content]');\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     * @private\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     * @private\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     * @private\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = this.tooltipEle.querySelector('.' + ARROW_TIP_INNER);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL);\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     * @param element Target element where the Tooltip is to be displayed.\n     * @param animation Sets the specific animation, while showing the Tooltip on the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (animation === void 0) { animation = this.animation.open; }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     * @param animation Sets the specific animation when hiding Tooltip from the screen.\n     * @return {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (animation === void 0) { animation = this.animation.close; }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     * @param target Target element where the Tooltip content or position needs to be refreshed.\n     * @return {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @return {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        removeClass([this.element], ROOT);\n        this.unwireEvents(this.opensOn);\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        this.tooltipEle = null;\n        this.popupObj = null;\n    };\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate([\n        Complex({}, Animation)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(false)\n    ], Tooltip.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\nexport { Tooltip };\n"],"names":["calculateRelativeBasedPosition","anchor","element","fixedElement","anchorPos","left","top","tempAnchor","isNullOrUndefined","offsetParent","style","position","offsetLeft","offsetTop","scrollLeft","scrollTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","popupRect","fixedParent","parentDocument","ownerDocument","posX","posY","pos","elementRect","getBoundingClientRect","setPosx","getElementHCenter","setPosy","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","updatePosition","toLowerCase","value","getBodyScrollTop","documentElement","body","getBodyScrollLeft","bottom","height","right","width","fit","viewPortElement","axis","X","Y","elemData","targetContainer","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","x","y","elemOffset","data","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","push","rightSide","leftSide","bottomSide","flip","target","offsetX","offsetY","tEdge","TL","TR","BL","BR","eEdge","edge","updateElementData","setPosition","leftFlip","topFlip","getComputedStyle","setPopup","eStatus","deepCheck","collideSide","getTargetContainerLeft","getTargetContainerTop","window","innerHeight","innerWidth","getScrollableParent","eleStyle","scrollParents","overflowRegex","parent","tagName","parentStyle","test","overflow","overflowY","overflowX","document","getZindexPartial","parentZindex","index","defaultView","getPropertyValue","childrenZindex","i","children","length","isEqualNode","siblingsZindex","childNodes","slice","call","finalValue","concat","currentZindexValue","Math","max","apply","createMaterialSpinner","container","radius","makeElement","uniqueID","random_generator","globalTimeOut","timeOut","type","innerContainer","svgMaterial","createElementNS","setAttribute","CLS_MATERIALSPIN","matCirclePath","CLS_SPINCIRCLE","insertBefore","firstChild","appendChild","create_material_element","diameter","svg","querySelector","path","strokeSize","getStrokeSize","transformOrigin","offset","drawArc","PI","getDashOffset","mat_calculate_attributes","setTheme","theme","CLS_SPININWRAP","removeChild","create_fabric_element","CLS_FABRICSPIN","fb_calculate_attributes","createFabricSpinner","svgBoot","CLS_BOOTSPIN","item","bootCircle","defaultRadius","create_bootstrap_element","startArc","start","defineArcPoints","circleEle","boot_calculate_attributes","createBootstrapSpinner","CLS_HIGHCONTRASTSPIN","createHighContrastSpinner","generateSeries","begin","stop","formSeries","series","end","count","increment","parseFloat","toFixed","random","combine","charAt","floor","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","CLS_SPINARC","animateMaterial","spinnerInfo","easing","duration","mat_animation","currentTime","min","Date","getTime","startTime","updatePath","change","id","globalInfo","previousId","setTimeout","bind","getSize","rotate","createCircle","easeAnimation","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","circle","join","defineCircle","endArc","defineArc","angle","radians","cos","sin","showSpinner","showHideSpinner","isHide","spinnerWrap","classList","contains","CLS_SPINWRAP","inner","CLS_SPINTEMPLATE","CLS_HIDESPIN","CLS_SHOWSPIN","svgEle","getAttribute","isAnimate","clearTimeout","globalObject","globalVariables","timeOutVar","startMatAnimate","boot_animate","rotation","getElementsByClassName","animateBootstrap","hideSpinner","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","PositionData","_super","Property","ChildProperty","CLASSNAMES","Popup","options","onPropertyChanged","newProp","oldProp","_i","_a","keys","setStyleAttribute","formatUnit","zIndex","setEnableRtl","refreshPosition","parseInt","toString","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","getPersistData","addOnPersist","destroy","remove","unwireEvents","render","add","styles","wireEvents","Browser","isDevice","EventHandler","orientationOnChange","getRelateToElement","parent_1","scrollRefresh","parent_2","relateToElement","relateTo","setProperties","e","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","parent_3","isElementVisible","rect","checkGetBoundingClientRect","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","parent_4","preRender","reposition","enableRtl","content","innerHTML","textContent","_this","collision","checkFixedParent","checkCollision","display","parentDisplay","getAnchorPosition","error","anchorEle","eleRect","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","zIndexElement","showAnimation","removeClass","addClass","isDestroyed","Animation","animate","hideAnimation","Complex","Event","NotifyPropertyChanges","Component","ButtonProps","AnimationSettings","ROOT","DLG_HEADER_CONTENT","MODAL_DLG","DLG_CLOSE_ICON","SCROLL_DISABLED","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","Dialog","initialize","initRender","headerContent","classArray","j","match","clonedEle","cloneNode","closeIconClickEventHandler","event","dlgOverlayClickEventHandler","l10n","L10n","close","locale","prevOnChange","isProtectedOnChange","keyDown","keyCode","isModal","buttonObj","btnObj","activeElement","shiftKey","preventDefault","focusableElements","focus","isTagName","indexOf","isContentEdit","hasAttribute","closeOnEscape","ctrlKey","primaryButtonEle","buttonIndex_1","buttons","some","buttonModel","isPrimary","click","targetEle","setCSSClass","setMaxHeight","initialRender","attributes","role","setzIndex","calculatezIndex","setTargetContent","header","setHeader","showCloseIcon","renderCloseIcon","footerTemplate","setButton","setFooterTemplate","allowDragging","setAllowDragging","aria-modal","setIsModal","dlgContainer","popupObj","open","focusContent","eventArgs","dlgOverlay","unBindEvent","closeArgs","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","zIndexValue","setPopupPosition","dragObj","Draggable","clone","abort","handle","dragStart","dragStop","drag","dragArea","buttonContent","buttonType","btn","createElement","attrs","outerHTML","Button","ftrTemplateContent","appendTo","aria-describedby","contentEle","className","innerContentElement","HTMLElement","setTemplate","template","toElement","fromElements","compile","templateFn","append","maxHeight","offsetHeight","isContent","replace","createDocumentFragment","headerEle","createHeaderContent","aria-labelledby","closeIcon","closeIconBtnObj","cssClass","iconCss","closeIconTitle","prepend","setLocale","getConstant","oldCSSClass","split","parentNode","getValidFocusNode","items","node","u","clientHeight","tabIndex","disabled","disableElement","querySelectorAll","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msMatchesSelector","Element","bindEvent","detach","updateIsModal","setPopupZindex","unWireEvents","removeAttribute","name","k","isFullScreen","fullScreen","cancel","openAnimation","animationSettings","effect","delay","dialogOpen","isInteraction","closeAnimation","args","getButtons","Collection","DialogUtility","createDialog","dialogObject","formOptions","option","title","isDraggable","formButtonModel","buttonPropModel","buttonProps","text","icon","alert","dialogElement","alertDialogObj","alertButtonModel","okButton","setAlertButtonModel","alertOptions","confirm","confirmDialogObj","okButtonModel","cancelButtonModel","cancelButton","setConfirmButtonModel","confirmOptions","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_RIGHT","POPUP_OPEN","POPUP_CLOSE","Tooltip","formatPosition","_b","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionFlipFit","dataBind","tooltipEventArgs","clear","tooltipEleWidth","offsetWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","clientWidth","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","POINTER_ADJUST","renderContent","tooltipContent","templateFunction","isSticky","tipClose","ICON","touchStartEvent","onStickyClose","addDescribedBy","describedby","trim","data-tooltip-id","removeDescribedBy","splice","orgdescribedby","tapHoldHandler","evt","autoCloseTimer","targetHover","originalEvent","touchEndHandler","targetClick","closest","hideTooltip","animation","targetList_1","ctrlId","target_1","restoreElement","showTooltip","wireMouseEvents","showTimer","hideTimer","isHidden","getUniqueID","TOOLTIP_WRAP","aria-hidden","maxWidth","PopupAnimation","timingFunction","undefined","openDelay","horizontal","vertical","affectedPos","newpos","collidedPosition","eleOffset","arrowleft","targetElement","closeAnimation_1","closeDelay","unwireMouseEvents","onMouseOut","onMouseMove","eventPageX","eventPageY","touches","pageX","pageY","colpos","touchEnd","scrollHandler","opensOn","triggerList_1","getTriggerList","wireFocusEvents","touchModule","Touch","tapHoldThreshold","tapHold","touchEndEvent","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","findTarget","refresh","spinTemplate","spinCSSClass","DEFT_MAT_WIDTH","DEFT_FAB_WIDTH","DEFT_BOOT_WIDTH","CLS_SPINLABEL","maxZindex","elements","getElementsByTagName","i_1","internalCreateElement","spinnerContainer","spinnerInnerContainer","wrap","inner_wrap","create_spinner_container","getTheme","defaultSize","calculateRadius","label","labelEle","createLabel","replaceContent","makeEle","svgElement","replaceTheme","ensureTemplate"],"mappings":"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"}