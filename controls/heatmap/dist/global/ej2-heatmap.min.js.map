{"version":3,"file":"ej2-heatmap.min.js","sources":["../../src/heatmap/model/theme.js","../../src/heatmap/utils/helper.js","../../src/heatmap/model/base.js","../../src/heatmap/utils/colorMapping.js","../../src/heatmap/axis/axis.js","../../src/heatmap/axis/axis-helpers.js","../../src/heatmap/series/series.js","../../src/heatmap/utils/tooltip.js","../../src/heatmap/datasource/twodimensional.js","../../src/heatmap/legend/legend.js","../../src/heatmap/heatmap.js","../../src/heatmap/datasource/adaptor.js"],"sourcesContent":["/**\n * Specifies HeatMaps Themes\n */\nexport var Theme;\n(function (Theme) {\n    /** @private */\n    Theme.heatMapTitleFont = {\n        size: '15px',\n        fontWeight: '500',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisTitleFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.axisLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI'\n    };\n    /** @private */\n    Theme.legendLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n    /** @private */\n    Theme.rectLabelFont = {\n        size: '12px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n    /** @private */\n    Theme.tooltipFont = {\n        size: '13px',\n        fontWeight: 'Normal',\n        color: null,\n        fontStyle: 'Normal',\n        fontFamily: 'Segoe UI',\n        textOverflow: 'None',\n    };\n})(Theme || (Theme = {}));\n/** @private */\nexport function getThemeColor(theme) {\n    var style;\n    switch (theme.toLowerCase()) {\n        case 'highcontrastlight':\n        case 'highcontrast':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#ffffff',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        case 'materialdark':\n        case 'fabricdark':\n        case 'bootstrapdark':\n            style = {\n                heatMapTitle: '#ffffff',\n                axisTitle: '#ffffff',\n                axisLabel: '#DADADA',\n                cellBorder: '#EEEEEE',\n                background: '#000000',\n                cellTextColor: '#000000',\n                toggledColor: '#000000',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#ffffff',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n        default:\n            style = {\n                heatMapTitle: '#424242',\n                axisTitle: '#424242',\n                axisLabel: '#686868',\n                cellBorder: '#EEEEEE',\n                cellTextColor: '#000000',\n                toggledColor: '#ffffff',\n                background: '#FFFFFF',\n                emptyCellColor: '#EEEEEE',\n                legendLabel: '#353535',\n                palette: [{ 'color': '#BEE7EE' },\n                    { 'color': '#85c4cf' },\n                    { 'color': '#4CA1AF' }]\n            };\n            break;\n    }\n    return style;\n}\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { SvgRenderer, remove, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { RgbColor } from '../utils/colorMapping';\n/**\n * Helper method for heatmap\n */\n/** @private */\nexport function stringToNumber(value, containerSize) {\n    if (value !== null && value !== undefined) {\n        return value.indexOf('%') !== -1 ? (containerSize / 100) * parseInt(value, 10) : parseInt(value, 10);\n    }\n    return null;\n}\n/**\n * Function to measure the height and width of the text.\n * @private\n */\nexport function measureText(text, font) {\n    var htmlObject = document.getElementById('heatmapmeasuretext');\n    if (htmlObject === null) {\n        htmlObject = createElement('text', { id: 'heatmapmeasuretext' });\n        document.body.appendChild(htmlObject);\n    }\n    htmlObject.innerHTML = text;\n    htmlObject.style.position = 'absolute';\n    htmlObject.style.visibility = 'hidden';\n    htmlObject.style.fontSize = (font.size).indexOf('px') !== -1 ? font.size : font.size + 'px';\n    htmlObject.style.fontWeight = font.fontWeight;\n    htmlObject.style.fontStyle = font.fontStyle;\n    htmlObject.style.fontFamily = font.fontFamily;\n    htmlObject.style.top = '-100';\n    htmlObject.style.left = '0';\n    htmlObject.style.whiteSpace = 'nowrap';\n    // For bootstrap line height issue\n    htmlObject.style.lineHeight = 'normal';\n    return new Size(htmlObject.clientWidth, htmlObject.clientHeight);\n}\n/** @private */\nvar TextElement = /** @class */ (function () {\n    function TextElement(fontModel, fontColor) {\n        this['font-size'] = fontModel.size;\n        this['font-style'] = fontModel.fontStyle;\n        this['font-family'] = fontModel.fontFamily;\n        this['font-weight'] = fontModel.fontWeight;\n        this.fill = fontColor ? fontColor : '';\n    }\n    return TextElement;\n}());\nexport { TextElement };\nexport function titlePositionX(width, leftPadding, rightPadding, titleStyle) {\n    var positionX;\n    if (titleStyle.textAlignment === 'Near') {\n        positionX = leftPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionX = leftPadding + width / 2;\n    }\n    else {\n        positionX = width + leftPadding;\n    }\n    return positionX;\n}\n/**\n * Internal class size for height and width\n * @private\n */\nvar Size = /** @class */ (function () {\n    function Size(width, height) {\n        this.width = width;\n        this.height = height;\n    }\n    return Size;\n}());\nexport { Size };\n/** @private */\nvar CustomizeOption = /** @class */ (function () {\n    function CustomizeOption(id) {\n        this.id = id;\n    }\n    return CustomizeOption;\n}());\nexport { CustomizeOption };\n/** @private */\nvar PathOption = /** @class */ (function (_super) {\n    __extends(PathOption, _super);\n    function PathOption(id, fill, width, color, opacity, dashArray, d) {\n        var _this = _super.call(this, id) || this;\n        _this.opacity = opacity;\n        _this.fill = fill;\n        _this.stroke = color ? color : '';\n        _this['stroke-width'] = parseFloat(width.toString());\n        _this['stroke-dasharray'] = dashArray;\n        _this.d = d;\n        return _this;\n    }\n    return PathOption;\n}(CustomizeOption));\nexport { PathOption };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentRect = /** @class */ (function () {\n    function CurrentRect(x, y, width, height, value, id, xIndex, yIndex, xValue, yValue, visible, displayText, textId) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.id = id;\n        this.xIndex = xIndex;\n        this.yIndex = yIndex;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.visible = visible;\n        this.displayText = displayText;\n        this.textId = textId;\n    }\n    return CurrentRect;\n}());\nexport { CurrentRect };\n/**\n * Class to define the details of selected cell.\n * @private\n */\nvar SelectedCellDetails = /** @class */ (function () {\n    function SelectedCellDetails(value, xLabel, yLabel, xValue, yValue, cellElement) {\n        this.value = value;\n        this.xLabel = xLabel;\n        this.yLabel = yLabel;\n        this.xValue = xValue;\n        this.yValue = yValue;\n        this.cellElement = cellElement;\n    }\n    return SelectedCellDetails;\n}());\nexport { SelectedCellDetails };\n/**\n * Class to define property to draw rectangle.\n * @private\n */\nvar RectOption = /** @class */ (function (_super) {\n    __extends(RectOption, _super);\n    function RectOption(id, fill, border, opacity, rect, borderColor, rx, ry, transform, dashArray) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity, dashArray) || this;\n        _this.y = rect.y;\n        _this.x = rect.x;\n        _this.height = rect.height > 0 ? rect.height : 0;\n        _this.width = rect.width > 0 ? rect.width : 0;\n        _this.rx = rx ? rx : 0;\n        _this.ry = ry ? ry : 0;\n        _this.transform = transform ? transform : '';\n        return _this;\n    }\n    return RectOption;\n}(PathOption));\nexport { RectOption };\n/**\n * Class to define property to draw circle.\n * @private\n */\nvar CircleOption = /** @class */ (function (_super) {\n    __extends(CircleOption, _super);\n    function CircleOption(id, fill, border, opacity, borderColor, cx, cy, r) {\n        var _this = _super.call(this, id, fill, border.width, borderColor, opacity) || this;\n        _this.cx = cx ? cx : 0;\n        _this.cy = cy ? cy : 0;\n        _this.r = r ? r : 0;\n        return _this;\n    }\n    return CircleOption;\n}(PathOption));\nexport { CircleOption };\n/**\n * Helper Class to define property to draw rectangle.\n * @private\n */\nvar Rect = /** @class */ (function () {\n    function Rect(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    return Rect;\n}());\nexport { Rect };\n/**\n * Class to define property to draw text.\n * @private\n */\nvar TextOption = /** @class */ (function (_super) {\n    __extends(TextOption, _super);\n    function TextOption(id, basic, element, fontColor) {\n        var _this = _super.call(this, element, fontColor) || this;\n        _this.transform = '';\n        _this['dominant-baseline'] = 'auto';\n        _this.labelRotation = 0;\n        _this.baseline = 'auto';\n        _this.id = id;\n        _this.x = basic.x;\n        _this.y = basic.y;\n        _this['text-anchor'] = basic['text-anchor'];\n        _this.text = basic.text;\n        _this.transform = basic.transform;\n        _this.labelRotation = basic.labelRotation;\n        _this['dominant-baseline'] = basic['dominant-baseline'];\n        _this.baseline = basic.baseline;\n        _this.dy = basic.dy;\n        return _this;\n    }\n    return TextOption;\n}(TextElement));\nexport { TextOption };\n/**\n * Helper Class to define property to draw text.\n * @private\n */\nvar TextBasic = /** @class */ (function () {\n    function TextBasic(x, y, anchor, text, labelRotation, transform, baseLine, dy) {\n        this.transform = '';\n        this['dominant-baseline'] = 'auto';\n        this.labelRotation = 0;\n        this.baseline = 'auto';\n        this.x = x ? x : 0;\n        this.y = y ? y : 0;\n        this['text-anchor'] = anchor ? anchor : '';\n        this.text = text ? text : '';\n        this.transform = transform ? transform : '';\n        this.labelRotation = labelRotation;\n        this['dominant-baseline'] = baseLine ? baseLine : '';\n        this.baseline = baseLine ? baseLine : '';\n        this.dy = dy ? dy : '';\n    }\n    return TextBasic;\n}());\nexport { TextBasic };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar Line = /** @class */ (function () {\n    function Line(x1, y1, x2, y2) {\n        this.x1 = x1;\n        this.y1 = y1;\n        this.x2 = x2;\n        this.y2 = y2;\n    }\n    return Line;\n}());\nexport { Line };\n/**\n * Class to define property to draw line.\n * @private\n */\nvar LineOption = /** @class */ (function (_super) {\n    __extends(LineOption, _super);\n    function LineOption(id, line, stroke, strokewidth, opacity, dasharray) {\n        var _this = _super.call(this, id, null, strokewidth, stroke, opacity, dasharray, null) || this;\n        _this.x1 = line.x1;\n        _this.y1 = line.y1;\n        _this.x2 = line.x2;\n        _this.y2 = line.y2;\n        return _this;\n    }\n    return LineOption;\n}(PathOption));\nexport { LineOption };\n/**\n * Properties required to render path.\n * @private\n */\nvar PathAttributes = /** @class */ (function (_super) {\n    __extends(PathAttributes, _super);\n    function PathAttributes(id, path, fill, border, borderWidth, opacity, borderColor) {\n        var _this = _super.call(this, id, fill, borderWidth, borderColor, opacity, null) || this;\n        _this.d = path.d;\n        _this.x = path.x;\n        _this.y = path.y;\n        return _this;\n    }\n    return PathAttributes;\n}(PathOption));\nexport { PathAttributes };\n/**\n * Helper Class to define property to path.\n * @private\n */\nvar Path = /** @class */ (function () {\n    function Path(d, innerR, x, y, x1, y1, cx, cy, start, end, radius, counterClockWise) {\n        this.d = d;\n        this.innerR = innerR;\n        this.cx = cx;\n        this.cy = cy;\n        this.x = x;\n        this.y = y;\n        this.x1 = x1;\n        this.y1 = y1;\n        this.start = start;\n        this.end = end;\n        this.radius = radius;\n        this.counterClockWise = counterClockWise;\n    }\n    return Path;\n}());\nexport { Path };\n/** @private */\nexport function sum(values) {\n    var sum = 0;\n    for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\n        var value = values_1[_i];\n        sum += value;\n    }\n    return sum;\n}\n/** @private */\nexport function titlePositionY(heatmapSize, topPadding, bottomPadding, titleStyle) {\n    var positionY;\n    if (titleStyle.textAlignment === 'Near') {\n        positionY = heatmapSize.height - bottomPadding;\n    }\n    else if (titleStyle.textAlignment === 'Center') {\n        positionY = heatmapSize.height / 2;\n    }\n    else {\n        positionY = topPadding;\n    }\n    return positionY;\n}\n/** @private */\nexport function rotateTextSize(font, text, angle) {\n    var renderer = new SvgRenderer('heatmapMeasureRotateText');\n    var svgObject = renderer.createSvg({ id: 'heatmapMeasureRotateText_svg', width: 100, height: 100 });\n    var box;\n    var options;\n    var htmlObject;\n    options = {\n        'font-size': font.size,\n        'font-style': font.fontStyle,\n        'font-family': font.fontFamily,\n        'font-weight': font.fontWeight,\n        'transform': 'rotate(' + angle + ', 0, 0)',\n        'text-anchor': 'middle'\n    };\n    htmlObject = renderer.createText(options, text);\n    svgObject.appendChild(htmlObject);\n    document.body.appendChild(svgObject);\n    box = htmlObject.getBoundingClientRect();\n    remove(svgObject);\n    return new Size((box.right - box.left), (box.bottom - box.top));\n}\n/**\n * Class to draw SVG and Canvas Rectangle & Text.\n * @private\n */\nvar DrawSvgCanvas = /** @class */ (function () {\n    function DrawSvgCanvas(heatmap) {\n        this.heatMap = heatmap;\n    }\n    //Svg & Canvas Rectangle Part\n    DrawSvgCanvas.prototype.drawRectangle = function (properties, parentElement, isFromSeries) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawRectangle(properties));\n        }\n        else {\n            this.drawCanvasRectangle(this.heatMap.canvasRenderer, properties, isFromSeries);\n        }\n    };\n    //Svg & Canvas Bubble Part\n    DrawSvgCanvas.prototype.drawCircle = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawCircle(properties));\n        }\n        else {\n            this.drawCanvasCircle(this.heatMap.canvasRenderer, properties);\n        }\n    };\n    //Svg & Canvas Pie Part\n    DrawSvgCanvas.prototype.drawPath = function (properties, options, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawPath(properties));\n        }\n        else {\n            this.drawCanvasPath(this.heatMap.canvasRenderer, properties, options);\n        }\n    };\n    //Svg & Canvas Text Part\n    DrawSvgCanvas.prototype.createText = function (properties, parentElement, text) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.createText(properties, text));\n        }\n        else {\n            this.canvasDrawText(properties, text);\n        }\n    };\n    //Draw the wrapped text for both SVG & canvas\n    DrawSvgCanvas.prototype.createWrapText = function (options, font, parentElement) {\n        var renderOptions = {};\n        var htmlObject;\n        var tspanElement;\n        var text;\n        var height;\n        renderOptions = {\n            'id': options.id,\n            'x': options.x,\n            'y': options.y,\n            'fill': options.fill,\n            'font-size': font.size,\n            'font-style': font.fontStyle,\n            'font-family': font.fontFamily,\n            'font-weight': font.fontWeight,\n            'text-anchor': options['text-anchor'],\n            'transform': options.transform,\n            'dominant-baseline': options['dominant-baseline']\n        };\n        text = options.text[0];\n        if (!this.heatMap.enableCanvasRendering) {\n            htmlObject = this.heatMap.renderer.createText(renderOptions, text);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawText(options, text);\n        }\n        if (typeof options.text !== 'string' && options.text.length > 1) {\n            for (var i = 1, len = options.text.length; i < len; i++) {\n                height = (measureText(options.text[i], font).height);\n                if (!this.heatMap.enableCanvasRendering) {\n                    tspanElement = this.heatMap.renderer.createTSpan({\n                        'x': options.x, 'id': options.id + i,\n                        'y': (options.y) + (i * height)\n                    }, options.text[i]);\n                    htmlObject.appendChild(tspanElement);\n                }\n                else {\n                    options.id = options.id + i;\n                    options.y += height;\n                    this.heatMap.canvasRenderer.drawText(options, options.text[i]);\n                }\n            }\n        }\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(htmlObject);\n        }\n    };\n    DrawSvgCanvas.prototype.drawLine = function (properties, parentElement) {\n        if (!this.heatMap.enableCanvasRendering) {\n            parentElement.appendChild(this.heatMap.renderer.drawLine(properties));\n        }\n        else {\n            this.heatMap.canvasRenderer.drawLine(properties);\n        }\n    };\n    //Canvas Text Part\n    DrawSvgCanvas.prototype.canvasDrawText = function (options, label, translateX, translateY) {\n        var ctx = this.heatMap.canvasRenderer.ctx;\n        if (!translateX) {\n            translateX = options.x;\n        }\n        if (!translateY) {\n            translateY = options.y;\n        }\n        var fontWeight = this.getOptionValue(options, 'font-weight');\n        if (!isNullOrUndefined(fontWeight) && fontWeight.toLowerCase() === 'regular') {\n            fontWeight = 'normal';\n        }\n        var fontFamily = this.getOptionValue(options, 'font-family');\n        var fontSize = (options['font-size'].toString()).indexOf('px') === -1 ? options['font-size'] + 'px' : options['font-size'];\n        var anchor = this.getOptionValue(options, 'text-anchor');\n        var fontStyle = this.getOptionValue(options, 'font-style').toLowerCase();\n        var font = (fontStyle + ' ' + fontWeight + ' ' + fontSize + ' ' + fontFamily);\n        if (anchor === 'middle') {\n            anchor = 'center';\n        }\n        ctx.save();\n        ctx.fillStyle = options.fill;\n        ctx.font = font;\n        ctx.textAlign = anchor;\n        if (options.baseline) {\n            ctx.textBaseline = options.baseline;\n        }\n        ctx.translate(translateX, translateY);\n        ctx.rotate(options.labelRotation * Math.PI / 180);\n        ctx.fillText(label, options.x - translateX, options.y - translateY);\n        ctx.restore();\n    };\n    // method to get the attributes value\n    /* tslint:disable */\n    DrawSvgCanvas.prototype.getOptionValue = function (options, key) {\n        return options[key];\n    };\n    DrawSvgCanvas.prototype.setAttributes = function (canvas, options) {\n        canvas.ctx.lineWidth = options['stroke-width'];\n        var dashArray = options['stroke-dasharray'];\n        if (!isNullOrUndefined(dashArray)) {\n            var dashArrayString = dashArray.split(',');\n            canvas.ctx.setLineDash([parseInt(dashArrayString[0], 10), parseInt(dashArrayString[1], 10)]);\n        }\n        canvas.ctx.strokeStyle = options['stroke'];\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasRectangle = function (canvas, options, isFromSeries) {\n        var canvasCtx = canvas.ctx;\n        var cornerRadius = options.rx;\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = options['opacity'];\n        this.setAttributes(canvas, options);\n        this.drawCornerRadius(canvas, options);\n        if ((options['stroke-width'] && options['stroke-width'] != 0) || isFromSeries) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n        canvas.ctx = canvasCtx;\n    };\n    ;\n    // To draw the corner of a rectangle\n    DrawSvgCanvas.prototype.drawCornerRadius = function (canvas, options) {\n        var cornerRadius = options.rx;\n        var x = options.x;\n        var y = options.y;\n        var width = options.width;\n        var height = options.height;\n        if (options.fill === 'none') {\n            options.fill = 'transparent';\n        }\n        canvas.ctx.fillStyle = options.fill;\n        if (width < 2 * cornerRadius) {\n            cornerRadius = width / 2;\n        }\n        if (height < 2 * cornerRadius) {\n            cornerRadius = height / 2;\n        }\n        canvas.ctx.beginPath();\n        canvas.ctx.moveTo(x + width - cornerRadius, y);\n        canvas.ctx.arcTo(x + width, y, x + width, y + height, cornerRadius);\n        canvas.ctx.arcTo(x + width, y + height, x, y + height, cornerRadius);\n        canvas.ctx.arcTo(x, y + height, x, y, cornerRadius);\n        canvas.ctx.arcTo(x, y, x + width, y, cornerRadius);\n        canvas.ctx.closePath();\n        canvas.ctx.fill();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasCircle = function (canvas, options) {\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.arc(options.cx, options.cy, options.r, 0, 2 * Math.PI);\n        canvas.ctx.fillStyle = options.fill;\n        canvas.ctx.globalAlpha = options.opacity;\n        canvas.ctx.fill();\n        this.setAttributes(canvas, options);\n        if (options['stroke-width'] && options['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    DrawSvgCanvas.prototype.drawCanvasPath = function (canvas, properties, options) {\n        var path = properties.d;\n        var dataSplit = path.split(' ');\n        var borderWidth = this.getOptionValue(options, 'stroke-width');\n        canvas.ctx.save();\n        canvas.ctx.beginPath();\n        canvas.ctx.globalAlpha = properties.opacity;\n        canvas.ctx.fillStyle = properties.fill;\n        this.setAttributes(canvas, properties);\n        for (var i = 0; i < dataSplit.length; i = i + 3) {\n            var x1 = parseFloat(dataSplit[i + 1]);\n            var y1 = parseFloat(dataSplit[i + 2]);\n            switch (dataSplit[i]) {\n                case 'M':\n                    canvas.ctx.moveTo(x1, y1);\n                    break;\n                case 'L':\n                    canvas.ctx.lineTo(x1, y1);\n                    break;\n                case 'A':\n                case 'a':\n                    canvas.ctx.arc(options.x, options.y, options.radius, (options.start * 0.0174533), (options.end * 0.0174533), false);\n                    i = dataSplit[i] === 'a' ? i + 13 : i + 5;\n                    break;\n                case 'Z':\n                    canvas.ctx.closePath();\n                    break;\n            }\n        }\n        canvas.ctx.fill();\n        if (properties['stroke-width'] && properties['stroke-width'] !== 0) {\n            canvas.ctx.stroke();\n        }\n        canvas.ctx.restore();\n    };\n    ;\n    return DrawSvgCanvas;\n}());\nexport { DrawSvgCanvas };\nexport function getTitle(title, style, width) {\n    var titleCollection = [];\n    switch (style.textOverflow) {\n        case 'Wrap':\n            titleCollection = textWrap(title, width, style);\n            break;\n        case 'Trim':\n            titleCollection.push(textTrim(width, title, style));\n            break;\n        default:\n            titleCollection.push(textNone(width, title, style));\n            break;\n    }\n    return titleCollection;\n}\nexport function textWrap(currentLabel, maximumWidth, font) {\n    var textCollection = currentLabel.split(' ');\n    var label = '';\n    var labelCollection = [];\n    var text;\n    for (var i = 0, len = textCollection.length; i < len; i++) {\n        text = textCollection[i];\n        if (measureText(label.concat(text), font).width < maximumWidth) {\n            label = label.concat((label === '' ? '' : ' ') + text);\n        }\n        else {\n            if (label !== '') {\n                labelCollection.push(textTrim(maximumWidth, label, font));\n                label = text;\n            }\n            else {\n                labelCollection.push(textTrim(maximumWidth, text, font));\n                text = '';\n            }\n        }\n        if (label && i === len - 1) {\n            labelCollection.push(textTrim(maximumWidth, label, font));\n        }\n    }\n    return labelCollection;\n}\n/** @private */\nexport function textTrim(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var index = textLength - 1; index >= 0; --index) {\n            label = text.substring(0, index) + '...';\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nexport function textNone(maxWidth, text, font) {\n    var label = text;\n    var size = measureText(text, font).width;\n    if (size > maxWidth) {\n        var textLength = text.length;\n        for (var i = textLength - 1; i >= 0; --i) {\n            label = text.substring(0, i);\n            size = measureText(label, font).width;\n            if (size <= maxWidth) {\n                return label;\n            }\n        }\n    }\n    return label;\n}\n/** @private */\nvar Gradient = /** @class */ (function () {\n    function Gradient(x, x1, x2, y1, y2) {\n        this.id = x;\n        this.x1 = x1;\n        this.x2 = x2;\n        this.y1 = y1;\n        this.y2 = y2;\n    }\n    return Gradient;\n}());\nexport { Gradient };\nvar GradientColor = /** @class */ (function () {\n    function GradientColor(color, colorStop) {\n        this.color = color;\n        this.colorStop = colorStop;\n    }\n    return GradientColor;\n}());\nexport { GradientColor };\n/** @private */\nexport function showTooltip(text, x, y, areaWidth, id, element, isTouch, heatmap) {\n    var tooltip = document.getElementById(id);\n    var initialClip = heatmap.initialClipRect;\n    var size = measureText(text, {\n        fontFamily: 'Segoe UI', size: '12px',\n        fontStyle: 'Normal', fontWeight: 'Regular'\n    });\n    var width = size.width + 5;\n    x = (x + width > areaWidth) ? x - width : x;\n    x = x < 0 ? 5 : x;\n    if (!tooltip) {\n        tooltip = createElement('div', {\n            innerHTML: text,\n            id: id,\n            styles: 'top:' + (y + 15).toString() + 'px;left:' + (x + 15).toString() +\n                'px;background-color: rgb(255, 255, 255) !important; color:black !important; ' +\n                'position:absolute;border:1px solid rgb(112, 112, 112); padding-left : 3px; padding-right : 2px;' +\n                'padding-bottom : 2px; padding-top : 2px; font-size:12px; font-family: Segoe UI'\n        });\n        element.appendChild(tooltip);\n    }\n    else {\n        tooltip.innerHTML = text;\n        tooltip.style.top = (y + 15).toString() + 'px';\n        tooltip.style.left = (x + 15).toString() + 'px';\n    }\n    if (text === heatmap.titleSettings.text) {\n        tooltip.style.width = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (x + 15)).toString() + 'px' : '';\n    }\n    else {\n        tooltip.style.left = (x + 15) + size.width + 7 > heatmap.availableSize.width ?\n            (heatmap.availableSize.width - (size.width + 7)).toString() + 'px' : x.toString() + 'px';\n        tooltip.style.top = (y + 15) + size.height + 6 > heatmap.availableSize.height ?\n            (y - (size.height + 6) - 10).toString() + 'px' : tooltip.style.top; // 6 and 7 are padding and border width\n    }\n    if (isTouch) {\n        setTimeout(function () { removeElement(id); }, 1500);\n    }\n}\n/** @private */\nexport function removeElement(id) {\n    var element = getElement(id);\n    if (element) {\n        remove(element);\n    }\n}\n/** @private */\nexport function getElement(id) {\n    return document.getElementById(id);\n}\n/** @private */\nexport function increaseDateTimeInterval(value, interval, intervalType, increment) {\n    var result = new Date(value);\n    interval = Math.ceil(interval * increment);\n    switch (intervalType) {\n        case 'Years':\n            result.setFullYear(result.getFullYear() + interval);\n            break;\n        case 'Months':\n            result.setMonth(result.getMonth() + interval);\n            break;\n        case 'Days':\n            result.setDate(result.getDate() + interval);\n            break;\n        case 'Hours':\n            result.setHours(result.getHours() + interval);\n            break;\n        case 'Minutes':\n            result.setMinutes(result.getMinutes() + interval);\n            break;\n    }\n    return result;\n}\n/* private */\nvar CanvasTooltip = /** @class */ (function () {\n    function CanvasTooltip(text, rect) {\n        this.region = new Rect(0, 0, 0, 0);\n        this.text = text;\n        this.region = rect;\n    }\n    return CanvasTooltip;\n}());\nexport { CanvasTooltip };\n/* private*/\n/* Method to get the tool tip text in canvas based on region. */\nexport function getTooltipText(tooltipCollection, xPosition, yPosition) {\n    var length = tooltipCollection.length;\n    var tooltip;\n    var region;\n    var text;\n    for (var i = 0; i < length; i++) {\n        tooltip = tooltipCollection[i];\n        region = tooltip.region;\n        if (xPosition >= region.x && xPosition <= (region.x + region.width) && yPosition >= region.y && yPosition <= (region.y + region.height)) {\n            text = tooltip.text;\n            break;\n        }\n    }\n    return text;\n}\n/**\n * @private\n */\nvar PaletterColor = /** @class */ (function () {\n    function PaletterColor() {\n    }\n    return PaletterColor;\n}());\nexport { PaletterColor };\n/**\n * @private\n */\nvar GradientPointer = /** @class */ (function () {\n    function GradientPointer(pathX1, pathY1, pathX2, pathY2, pathX3, pathY3) {\n        this.pathX1 = pathX1;\n        this.pathY1 = pathY1;\n        this.pathX2 = pathX2;\n        this.pathY2 = pathY2;\n        this.pathX3 = pathX3;\n        this.pathY3 = pathY3;\n    }\n    return GradientPointer;\n}());\nexport { GradientPointer };\n/**\n * Class to define currentRect private property.\n * @private\n */\nvar CurrentLegendRect = /** @class */ (function () {\n    function CurrentLegendRect(x, y, width, height, label, id) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.label = label;\n        this.id = id;\n    }\n    return CurrentLegendRect;\n}());\nexport { CurrentLegendRect };\n/** @private */\nvar LegendRange = /** @class */ (function () {\n    function LegendRange(x, y, width, height, value, visible, currentPage) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.value = value;\n        this.visible = visible;\n        this.currentPage = currentPage;\n    }\n    return LegendRange;\n}());\nexport { LegendRange };\n/** @private */\nvar ToggleVisibility = /** @class */ (function () {\n    function ToggleVisibility(visible, value) {\n        this.visible = visible;\n        this.value = value;\n    }\n    return ToggleVisibility;\n}());\nexport { ToggleVisibility };\n/** @private */\nexport function colorNameToHex(color) {\n    var element;\n    color = color === 'transparent' ? 'white' : color;\n    element = document.getElementById('heatmapmeasuretext');\n    element.style.color = color;\n    color = window.getComputedStyle(element).color;\n    var exp = /^(rgb|hsl)(a?)[(]\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*,\\s*([\\d.]+\\s*%?)\\s*(?:,\\s*([\\d.]+)\\s*)?[)]$/;\n    var isRGBValue = exp.exec(color);\n    return convertToHexCode(new RgbColor(parseInt(isRGBValue[3], 10), parseInt(isRGBValue[4], 10), parseInt(isRGBValue[5], 10)));\n}\n/** @private */\nexport function convertToHexCode(value) {\n    return '#' + componentToHex(value.R) + componentToHex(value.G) + componentToHex(value.B);\n}\n/** @private */\nexport function componentToHex(value) {\n    var hex = value.toString(16);\n    return hex.length === 1 ? '0' + hex : hex;\n}\n/** @private */\nexport function convertHexToColor(hex) {\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? new RgbColor(parseInt(result[1], 16), parseInt(result[2], 16), parseInt(result[3], 16)) :\n        new RgbColor(255, 255, 255);\n}\n/** @private */\nexport function formatValue(isCustom, format, tempInterval, formatFun) {\n    return isCustom ? format.replace('{value}', formatFun(tempInterval))\n        : formatFun(tempInterval);\n}\n/** @private */\nvar MultiLevelPosition = /** @class */ (function () {\n    function MultiLevelPosition(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return MultiLevelPosition;\n}());\nexport { MultiLevelPosition };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Collection } from '@syncfusion/ej2-base';\nimport { Theme } from './theme';\n/**\n * Configures the fonts in heat map.\n */\nvar Font = /** @class */ (function (_super) {\n    __extends(Font, _super);\n    function Font() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('16px')\n    ], Font.prototype, \"size\", void 0);\n    __decorate([\n        Property('')\n    ], Font.prototype, \"color\", void 0);\n    __decorate([\n        Property('Segoe UI')\n    ], Font.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Property('Normal')\n    ], Font.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Property('Center')\n    ], Font.prototype, \"textAlignment\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Font.prototype, \"textOverflow\", void 0);\n    return Font;\n}(ChildProperty));\nexport { Font };\n/**\n * Configures the heat map margins.\n */\nvar Margin = /** @class */ (function (_super) {\n    __extends(Margin, _super);\n    function Margin() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"left\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"right\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"top\", void 0);\n    __decorate([\n        Property(10)\n    ], Margin.prototype, \"bottom\", void 0);\n    return Margin;\n}(ChildProperty));\nexport { Margin };\n/**\n * Configures the borders in the heat map.\n */\nvar Border = /** @class */ (function (_super) {\n    __extends(Border, _super);\n    function Border() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Border.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], Border.prototype, \"width\", void 0);\n    __decorate([\n        Property('')\n    ], Border.prototype, \"radius\", void 0);\n    return Border;\n}(ChildProperty));\nexport { Border };\n/**\n * Configures the tooltip borders in the heat map.\n */\nvar TooltipBorder = /** @class */ (function (_super) {\n    __extends(TooltipBorder, _super);\n    function TooltipBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(0)\n    ], TooltipBorder.prototype, \"width\", void 0);\n    return TooltipBorder;\n}(ChildProperty));\nexport { TooltipBorder };\n/**\n * Configures the mapping name for size and color in SizeAndColor type.\n */\nvar BubbleData = /** @class */ (function (_super) {\n    __extends(BubbleData, _super);\n    function BubbleData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"size\", void 0);\n    __decorate([\n        Property(null)\n    ], BubbleData.prototype, \"color\", void 0);\n    return BubbleData;\n}(ChildProperty));\nexport { BubbleData };\n/**\n * class used to maintain Title styles.\n */\nvar Title = /** @class */ (function (_super) {\n    __extends(Title, _super);\n    function Title() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], Title.prototype, \"text\", void 0);\n    __decorate([\n        Complex({}, Font)\n    ], Title.prototype, \"textStyle\", void 0);\n    return Title;\n}(ChildProperty));\nexport { Title };\n/**\n * class used to maintain palette information.\n */\nvar PaletteCollection = /** @class */ (function (_super) {\n    __extends(PaletteCollection, _super);\n    function PaletteCollection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"color\", void 0);\n    __decorate([\n        Property(null)\n    ], PaletteCollection.prototype, \"label\", void 0);\n    return PaletteCollection;\n}(ChildProperty));\nexport { PaletteCollection };\n/**\n * label border properties.\n */\nvar AxisLabelBorder = /** @class */ (function (_super) {\n    __extends(AxisLabelBorder, _super);\n    function AxisLabelBorder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('#b5b5b5')\n    ], AxisLabelBorder.prototype, \"color\", void 0);\n    __decorate([\n        Property(1)\n    ], AxisLabelBorder.prototype, \"width\", void 0);\n    __decorate([\n        Property('Rectangle')\n    ], AxisLabelBorder.prototype, \"type\", void 0);\n    return AxisLabelBorder;\n}(ChildProperty));\nexport { AxisLabelBorder };\nvar BubbleSize = /** @class */ (function (_super) {\n    __extends(BubbleSize, _super);\n    function BubbleSize() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('0%')\n    ], BubbleSize.prototype, \"minimum\", void 0);\n    __decorate([\n        Property('100%')\n    ], BubbleSize.prototype, \"maximum\", void 0);\n    return BubbleSize;\n}(ChildProperty));\nexport { BubbleSize };\n/**\n * categories for multi level labels\n */\nvar MultiLevelCategories = /** @class */ (function (_super) {\n    __extends(MultiLevelCategories, _super);\n    function MultiLevelCategories() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"start\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"end\", void 0);\n    __decorate([\n        Property('')\n    ], MultiLevelCategories.prototype, \"text\", void 0);\n    __decorate([\n        Property(null)\n    ], MultiLevelCategories.prototype, \"maximumTextWidth\", void 0);\n    return MultiLevelCategories;\n}(ChildProperty));\nexport { MultiLevelCategories };\n/**\n * MultiLevelLabels properties\n */\nvar MultiLevelLabels = /** @class */ (function (_super) {\n    __extends(MultiLevelLabels, _super);\n    function MultiLevelLabels() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('Center')\n    ], MultiLevelLabels.prototype, \"alignment\", void 0);\n    __decorate([\n        Property('Wrap')\n    ], MultiLevelLabels.prototype, \"overflow\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], MultiLevelLabels.prototype, \"textStyle\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 1, type: 'Rectangle' }, AxisLabelBorder)\n    ], MultiLevelLabels.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelCategories)\n    ], MultiLevelLabels.prototype, \"categories\", void 0);\n    return MultiLevelLabels;\n}(ChildProperty));\nexport { MultiLevelLabels };\n/**\n * Internal class used to maintain colorcollection.\n */\nvar ColorCollection = /** @class */ (function () {\n    function ColorCollection(value, color, label) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n    }\n    return ColorCollection;\n}());\nexport { ColorCollection };\n/**\n * class used to maintain color and value collection.\n */\nvar BubbleTooltipData = /** @class */ (function () {\n    function BubbleTooltipData(mappingName, bubbleData, valueType) {\n        this.mappingName = mappingName;\n        this.bubbleData = bubbleData;\n        this.valueType = valueType;\n    }\n    return BubbleTooltipData;\n}());\nexport { BubbleTooltipData };\n/**\n * Internal class used to maintain legend colorcollection.\n */\nvar LegendColorCollection = /** @class */ (function () {\n    function LegendColorCollection(value, color, label, isHidden) {\n        this.value = value;\n        this.color = color;\n        this.label = label;\n        this.isHidden = isHidden;\n    }\n    return LegendColorCollection;\n}());\nexport { LegendColorCollection };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, extend, ChildProperty, Collection, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { ColorCollection, LegendColorCollection, PaletteCollection } from '../model/base';\nimport { PaletterColor } from './helper';\n/**\n * Configures the color property in Heatmap.\n */\nvar PaletteSettings = /** @class */ (function (_super) {\n    __extends(PaletteSettings, _super);\n    function PaletteSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Collection([{}], PaletteCollection)\n    ], PaletteSettings.prototype, \"palette\", void 0);\n    __decorate([\n        Property('Gradient')\n    ], PaletteSettings.prototype, \"type\", void 0);\n    __decorate([\n        Property('')\n    ], PaletteSettings.prototype, \"emptyPointColor\", void 0);\n    return PaletteSettings;\n}(ChildProperty));\nexport { PaletteSettings };\n/**\n * Helper class for colormapping\n */\nvar RgbColor = /** @class */ (function () {\n    function RgbColor(r, g, b) {\n        this.R = r;\n        this.G = g;\n        this.B = b;\n    }\n    return RgbColor;\n}());\nexport { RgbColor };\nvar CellColor = /** @class */ (function () {\n    function CellColor(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To convert hexa color to RGB.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.convertToRGB = function (value, colorMapping) {\n        var previousOffset = colorMapping[0].value;\n        var nextOffset = 0;\n        for (var i = 1; i < colorMapping.length; i++) {\n            var offset = Number(colorMapping[i].value);\n            if (value <= offset) {\n                nextOffset = offset;\n                break;\n            }\n            else {\n                nextOffset = offset;\n                previousOffset = offset;\n            }\n        }\n        var percent = 0;\n        var full = nextOffset - previousOffset;\n        percent = (value - previousOffset) / full;\n        percent = isNaN(percent) ? 0 : percent;\n        var previousColor = this.getEqualColor(colorMapping, previousOffset);\n        var nextColor = this.getEqualColor(colorMapping, nextOffset);\n        return this.getPercentageColor(percent, previousColor, nextColor);\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.rgbToHex = function (r, g, b) {\n        return '#' + this.componentToHex(r) + this.componentToHex(g) + this.componentToHex(b);\n    };\n    /**\n     * To convert Component to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.componentToHex = function (c) {\n        var hex = c.toString(16);\n        return hex.length === 1 ? '0' + hex : hex;\n    };\n    /**\n     * To get similar color.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.getEqualColor = function (list, offset) {\n        for (var i = 0; i < list.length; i++) {\n            if (Number(list[i].value) === offset) {\n                var color = list[i].color;\n                if (color.indexOf('rgb') !== -1) {\n                    color = this.convertToHex(color);\n                }\n                else if (color.indexOf('#') === -1) {\n                    color = '#FFFFFF';\n                }\n                return color;\n            }\n        }\n        return '#00000';\n    };\n    /**\n     * To convert RGB to HEX.\n     * @return {string}\n     * @private\n     */\n    CellColor.prototype.convertToHex = function (color) {\n        var itemColor = color.substr(3);\n        itemColor = itemColor.split('(')[1].split(')')[0];\n        var colorSplit = itemColor.split(',');\n        itemColor = this.rgbToHex(parseInt(colorSplit[0], 10), parseInt(colorSplit[1], 10), parseInt(colorSplit[2], 10));\n        return itemColor;\n    };\n    /**\n     * To get RGB for percentage value.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentageColor = function (percent, previous, next) {\n        var nextColor = next.split('#')[1];\n        var prevColor = previous.split('#')[1];\n        var r = this.getPercentage(percent, parseInt(prevColor.substr(0, 2), 16), parseInt(nextColor.substr(0, 2), 16));\n        var g = this.getPercentage(percent, parseInt(prevColor.substr(2, 2), 16), parseInt(nextColor.substr(2, 2), 16));\n        var b = this.getPercentage(percent, parseInt(prevColor.substr(4, 2), 16), parseInt(nextColor.substr(4, 2), 16));\n        return new RgbColor(r, g, b);\n    };\n    /**\n     * To convert numbet to percentage.\n     * @return {RGB}\n     * @private\n     */\n    CellColor.prototype.getPercentage = function (percent, previous, next) {\n        var full = next - previous;\n        return Math.round((previous + (full * percent)));\n    };\n    /**\n     * To get complete color Collection.\n     * @private\n     */\n    CellColor.prototype.getColorCollection = function () {\n        var heatMap = this.heatMap;\n        heatMap.colorCollection = [];\n        heatMap.legendColorCollection = [];\n        var range;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        heatMap.emptyPointColor = heatMap.paletteSettings.emptyPointColor ? heatMap.paletteSettings.emptyPointColor :\n            heatMap.themeStyle.emptyCellColor;\n        var tempcolorMapping = this.orderbyOffset(heatMap.paletteSettings.palette && heatMap.paletteSettings.palette.length > 1 ?\n            heatMap.paletteSettings.palette : heatMap.themeStyle.palette);\n        if (!tempcolorMapping.isCompact) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length - 1);\n            }\n            else {\n                range = (maxValue - minValue) / (tempcolorMapping.offsets.length);\n            }\n            if (tempcolorMapping.offsets.length >= 2) {\n                for (var index = 0; index < tempcolorMapping.offsets.length; index++) {\n                    heatMap.colorCollection.push(new ColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label));\n                    heatMap.legendColorCollection.push(new LegendColorCollection(Math.round(((minValue) + (index * range)) * 100) / 100, tempcolorMapping.offsets[index].color, tempcolorMapping.offsets[index].label, false));\n                }\n            }\n        }\n        else {\n            heatMap.colorCollection = tempcolorMapping.offsets;\n            heatMap.legendColorCollection = extend([], tempcolorMapping.offsets, null, true);\n        }\n        this.updateLegendColorCollection(minValue, maxValue, tempcolorMapping);\n    };\n    /**\n     * To update legend color Collection.\n     * @private\n     */\n    CellColor.prototype.updateLegendColorCollection = function (minValue, maxValue, tempcolorMapping) {\n        if (this.heatMap.paletteSettings.type === 'Fixed' && (tempcolorMapping.isCompact || tempcolorMapping.isLabel)) {\n            return;\n        }\n        if (minValue < this.heatMap.legendColorCollection[0].value) {\n            this.heatMap.legendColorCollection.unshift(new LegendColorCollection(minValue, this.heatMap.legendColorCollection[0].color, this.heatMap.legendColorCollection[0].label, true));\n        }\n        if (maxValue > this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].value) {\n            this.heatMap.legendColorCollection.push(new LegendColorCollection(maxValue, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].color, this.heatMap.legendColorCollection[this.heatMap.legendColorCollection.length - 1].label, true));\n        }\n    };\n    /**\n     * To get ordered palette color collection.\n     * @private\n     */\n    CellColor.prototype.orderbyOffset = function (offsets) {\n        var returnCollection = new PaletterColor();\n        var key = 'value';\n        var label = 'label';\n        returnCollection.isCompact = true;\n        returnCollection.isLabel = true;\n        // tslint:disable-next-line:no-any \n        returnCollection.offsets = offsets.sort(function (a, b) {\n            if (isNullOrUndefined(a[label]) && isNullOrUndefined(b[label])) {\n                returnCollection.isLabel = false;\n            }\n            if (!isNullOrUndefined(a[key]) && !isNullOrUndefined(b[key])) {\n                return a[key] - b[key];\n            }\n            else {\n                returnCollection.isCompact = false;\n                return a;\n            }\n        });\n        if (!returnCollection.isCompact) {\n            returnCollection.offsets = this.heatMap.paletteSettings.palette && this.heatMap.paletteSettings.palette.length > 1 ?\n                this.heatMap.paletteSettings.palette : this.heatMap.themeStyle.palette;\n        }\n        return returnCollection;\n    };\n    /**\n     * To get color depends to value.\n     * @private\n     */\n    CellColor.prototype.getColorByValue = function (text) {\n        var color = '';\n        var rbg;\n        var compareValue = 0;\n        if (text.toString() !== '') {\n            if (this.heatMap.cellSettings.tileType === 'Bubble' &&\n                (this.heatMap.cellSettings.bubbleType === 'Size' || this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                color = this.heatMap.colorCollection[0].color;\n            }\n            else if (this.heatMap.paletteSettings.type === 'Fixed') {\n                for (var y = 0; y < this.heatMap.colorCollection.length; y++) {\n                    compareValue = this.heatMap.colorCollection[y + 1] ? this.heatMap.colorCollection[y + 1].value :\n                        this.heatMap.colorCollection[y].value;\n                    var singleValue = this.heatMap.dataSourceMinValue === this.heatMap.dataSourceMaxValue;\n                    if ((text <= compareValue && y === 0 && singleValue) || text < compareValue ||\n                        (text >= compareValue && y === this.heatMap.colorCollection.length - 1)) {\n                        var legendRange = void 0;\n                        if (this.heatMap.legendVisibilityByCellType) {\n                            legendRange = this.heatMap.legendModule.legendRange;\n                        }\n                        color = (this.heatMap.legendVisibilityByCellType && legendRange[y] && !legendRange[y].visible) ?\n                            this.heatMap.themeStyle.toggledColor : this.heatMap.colorCollection[y].color;\n                        break;\n                    }\n                }\n            }\n            else {\n                if (text < this.heatMap.colorCollection[0].value) {\n                    color = this.heatMap.colorCollection[0].color;\n                }\n                else if (text > this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].value) {\n                    color = this.heatMap.colorCollection[this.heatMap.colorCollection.length - 1].color;\n                }\n                else {\n                    rbg = this.convertToRGB(text, this.heatMap.colorCollection);\n                    color = this.rgbToHex(rbg.R, rbg.G, rbg.B);\n                }\n            }\n        }\n        else {\n            color = this.heatMap.emptyPointColor;\n        }\n        return color;\n    };\n    return CellColor;\n}());\nexport { CellColor };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * HeatMap Axis file\n */\nimport { Property, Complex, ChildProperty, isNullOrUndefined, Collection } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { Font, Title, AxisLabelBorder, MultiLevelLabels } from '../model/base';\nimport { Theme } from '../model/theme';\nimport { Rect, measureText, Size, rotateTextSize, increaseDateTimeInterval, formatValue } from '../utils/helper';\nimport { MultiLevelPosition, textWrap } from '../utils/helper';\nvar Axis = /** @class */ (function (_super) {\n    __extends(Axis, _super);\n    function Axis() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.rect = new Rect(undefined, undefined, 0, 0);\n        /** @private */\n        _this.nearSizes = [];\n        /** @private */\n        _this.farSizes = [];\n        /** @private */\n        _this.maxLabelSize = new Size(0, 0);\n        /** @private */\n        _this.titleSize = new Size(0, 0);\n        /** @private */\n        _this.axisLabels = [];\n        /** @private */\n        _this.tooltipLabels = [];\n        /** @private */\n        _this.labelValue = [];\n        /** @private */\n        _this.axisLabelSize = 0;\n        /** @private */\n        _this.axisLabelInterval = 0;\n        /** @private */\n        _this.dateTimeAxisLabelInterval = [];\n        /** @private */\n        _this.maxLength = 0;\n        /** @private */\n        _this.min = 0;\n        /** @private */\n        _this.max = 0;\n        /** @private */\n        _this.isIntersect = false;\n        /** @private */\n        _this.jsonCellLabel = [];\n        _this.multiLevelSize = [];\n        /** @private */\n        _this.xAxisMultiLabelHeight = [];\n        /** @private */\n        _this.yAxisMultiLabelHeight = [];\n        /** @private */\n        _this.multiLevelPosition = [];\n        return _this;\n    }\n    /**\n     * measure the axis title and label size\n     * @param axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.computeSize = function (axis, heatmap, rect) {\n        var size = new Size(0, 0);\n        var innerPadding = 10;\n        this.titleSize = axis.getTitleSize(axis, innerPadding);\n        this.maxLabelSize = axis.getMaxLabelSize(axis, heatmap);\n        this.getMultilevelLabelsHeight(axis, rect, heatmap);\n        for (var i = 0; i < this.multiLevelLabels.length; i++) {\n            size = axis.multiLevelLabelSize(innerPadding, i);\n            this.multiLevelSize.push(size);\n        }\n    };\n    /**\n     * calculating x, y position of multi level labels\n     * @private\n     */\n    Axis.prototype.multiPosition = function (axis, index) {\n        var innerPadding = axis.orientation === 'Horizontal' ? 10 : 20;\n        var multiPosition = new MultiLevelPosition(0, 0);\n        if (axis.orientation === 'Horizontal') {\n            var level0 = axis.maxLabelSize.height + innerPadding;\n            var level1 = this.xAxisMultiLabelHeight[index - 1];\n            multiPosition.x = (axis.isInversed ? axis.rect.x + axis.rect.width : axis.rect.x);\n            multiPosition.y = index === 0 ? axis.rect.y + (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].y + (axis.opposedPosition ? -level1 : level1);\n        }\n        else {\n            var level0 = axis.maxLabelSize.width + innerPadding;\n            var level1 = index !== 0 && (this.multiLevelSize[index - 1].width);\n            multiPosition.x = index === 0 ? axis.rect.x - (axis.opposedPosition ? -level0 : level0) :\n                axis.multiLevelPosition[index - 1].x - (axis.opposedPosition ? -(level1 + innerPadding) : level1 + innerPadding);\n            multiPosition.y = axis.isInversed ? axis.rect.y : axis.rect.y + axis.rect.height;\n        }\n        return multiPosition;\n    };\n    Axis.prototype.multiLevelLabelSize = function (innerPadding, index) {\n        var labelSize = new Size(0, 0);\n        var multiLevel = this.multiLevelLabels;\n        var categoryLabel = multiLevel[index].categories;\n        for (var i = 0; i < categoryLabel.length; i++) {\n            var size_1 = measureText(categoryLabel[i].text, multiLevel[index].textStyle);\n            labelSize.width = (labelSize.width > size_1.width) ? labelSize.width : size_1.width;\n            labelSize.height = (labelSize.height > size_1.height) ? labelSize.height : size_1.height;\n        }\n        var size = (this.orientation === 'Horizontal') ? this.xAxisMultiLabelHeight[index] : this.yAxisMultiLabelHeight[index];\n        if (this.opposedPosition) {\n            this.farSizes.push(size);\n        }\n        else {\n            this.nearSizes.push(size);\n        }\n        return labelSize;\n    };\n    Axis.prototype.getMultilevelLabelsHeight = function (axis, rect, heatmap) {\n        var labelSize;\n        var gap;\n        var height;\n        var multiLevelLabelsHeight = [];\n        var start;\n        var end;\n        var startPosition;\n        var endPosition;\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = (isVertical ? rect.height : rect.width) / axis.axisLabelSize;\n        var padding = axis.orientation === 'Vertical' ? 20 : 10;\n        this.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    startPosition = heatmap.heatMapAxis.calculateLeftPosition(axis, start, categoryLabel.start, rect);\n                    endPosition = heatmap.heatMapAxis.calculateWidth(axis, categoryLabel.end, end, rect);\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endPosition - startPosition) :\n                        categoryLabel.maximumTextWidth);\n                    if ((labelSize.width > gap - padding) && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height + padding :\n                        ((multiLevelLabelsHeight[index] < height) ? height + padding : multiLevelLabelsHeight[index]);\n                }\n            });\n        });\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n        }\n    };\n    Axis.prototype.getTitleSize = function (axis, innerPadding) {\n        var titleSize = new Size(0, 0);\n        if (this.title.text) {\n            titleSize = measureText(this.title.text, this.title.textStyle);\n            titleSize.height += innerPadding;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push(titleSize.height);\n        }\n        else {\n            this.nearSizes.push(titleSize.height);\n        }\n        return titleSize;\n    };\n    Axis.prototype.getMaxLabelSize = function (axis, heatmap) {\n        var labelSize = new Size(0, 0);\n        var labels = this.axisLabels;\n        var padding = (axis.border.width > 0 || axis.multiLevelLabels.length > 0) ? 10 : 0;\n        axis.angle = axis.labelRotation;\n        axis.isIntersect = false;\n        if (axis.orientation === 'Horizontal' && (axis.labelIntersectAction === 'Rotate45' ||\n            (axis.labelRotation % 180 === 0 && axis.labelIntersectAction === 'Trim'))) {\n            var interval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                heatmap.initialClipRect.width / axis.axisLabelSize : heatmap.initialClipRect.width / axis.axisLabels.length;\n            var startX = heatmap.initialClipRect.x + ((!axis.isInversed) ? 0 : heatmap.initialClipRect.width);\n            var previousEnd = void 0;\n            var previousStart = void 0;\n            for (var i = 0, len = labels.length; i < len; i++) {\n                var label = labels[i];\n                var elementSize = measureText(label, axis.textStyle);\n                var axisInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] * interval : interval;\n                var startPoint = startX + (!axis.isInversed ?\n                    ((interval - elementSize.width) / 2) : -((interval + elementSize.width) / 2));\n                startPoint = startPoint < heatmap.initialClipRect.x ? heatmap.initialClipRect.x : startPoint;\n                var endPoint = startPoint + elementSize.width;\n                if (!axis.isInversed) {\n                    if (isNullOrUndefined(previousEnd)) {\n                        previousEnd = endPoint;\n                    }\n                    else if ((startPoint < previousEnd)) {\n                        if (axis.labelIntersectAction === 'Rotate45') {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousEnd = endPoint;\n                }\n                else {\n                    if (isNullOrUndefined(previousStart)) {\n                        previousStart = startPoint;\n                    }\n                    else if ((previousStart < endPoint)) {\n                        if (axis.labelIntersectAction === 'Rotate45') {\n                            axis.angle = 45;\n                        }\n                        else {\n                            axis.isIntersect = true;\n                        }\n                        break;\n                    }\n                    previousStart = startPoint;\n                }\n                startX += axis.isInversed ? -axisInterval : axisInterval;\n            }\n        }\n        for (var i = 0; i < labels.length; i++) {\n            var size = (axis.angle % 180 === 0) ?\n                measureText(labels[i], axis.textStyle) : rotateTextSize(axis.textStyle, labels[i], axis.angle);\n            labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n            labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n        }\n        if (axis.opposedPosition) {\n            this.farSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        else {\n            this.nearSizes.push((axis.orientation === 'Horizontal') ? labelSize.height : labelSize.width + padding);\n        }\n        return labelSize;\n    };\n    /**\n     * Generate the axis lables for numeric axis\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateNumericAxisLabels = function (heatmap) {\n        //Axis Min\n        var min = 0;\n        var max = 0;\n        var interval = this.interval ? this.interval : 1;\n        var adaptorMin;\n        var adaptorMax;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.min : heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ?\n                heatmap.adaptorModule.adaptiveXMinMax.max : heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        min = !isNullOrUndefined(this.minimum) ? this.minimum : ((adaptorMin) ? adaptorMin : 0);\n        max = !isNullOrUndefined(this.maximum) ? this.maximum :\n            ((adaptorMax) ? adaptorMax : (this.maxLength * this.increment));\n        var temp;\n        if (this.minimum && this.maximum && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        max = !isNullOrUndefined(this.maximum) ? max : (adaptorMax ? adaptorMax : (max + min));\n        var format = this.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatmap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        for (var i = min; i <= max; i = i + (interval * this.increment)) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.axisLabels.push(value);\n        }\n        this.min = 0;\n        this.axisLabelSize = Math.floor(((max - min) / this.increment) + 1);\n        this.max = this.axisLabelSize - 1;\n        this.axisLabelInterval = interval;\n        for (var i = min; i <= max; i = i + this.increment) {\n            var value = formatValue(isCustom, format, i, this.format);\n            this.tooltipLabels.push(value);\n            this.labelValue.push(i);\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis lables for category axis\n     * @private\n     */\n    Axis.prototype.calculateCategoryAxisLabels = function () {\n        var labels = this.labels ? this.labels : [];\n        labels = (labels.length > 0) ? labels : this.jsonCellLabel;\n        var min = !isNullOrUndefined(this.minimum) ? this.minimum : 0;\n        var max = !isNullOrUndefined(this.maximum) ? this.maximum : this.maxLength;\n        var interval = this.interval ? this.interval : 1;\n        var temp;\n        if (!isNullOrUndefined(this.minimum) && !isNullOrUndefined(this.maximum) && min > max) {\n            temp = min;\n            min = max;\n            max = temp;\n        }\n        if (labels && labels.length > 0) {\n            for (var i = min; i <= max; i = i + interval) {\n                var value = labels[i] ? labels[i].toString() : i.toString();\n                this.axisLabels.push(value);\n            }\n        }\n        else {\n            for (var i = min; i <= max; i = i + interval) {\n                this.axisLabels.push(i.toString());\n            }\n        }\n        for (var i = min; i <= max; i++) {\n            this.tooltipLabels.push(labels[i] ? labels[i].toString() : i.toString());\n            this.labelValue.push(labels[i] ? labels[i].toString() : i.toString());\n        }\n        this.min = min;\n        this.max = max;\n        this.axisLabelSize = max - min + 1;\n        this.axisLabelInterval = interval;\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    /**\n     * Generate the axis labels for date time axis.\n     * @param heatmap\n     * @private\n     */\n    Axis.prototype.calculateDateTimeAxisLabel = function (heatmap) {\n        var interval = this.interval ? this.interval : 1;\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = heatmap.intl.getDateParser(option);\n        var dateFormatter = heatmap.intl.getDateFormat(option);\n        var min;\n        var max;\n        var adaptorMin = null;\n        var adaptorMax = null;\n        if (heatmap.adaptorModule && heatmap.isCellData) {\n            adaptorMin = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.min :\n                heatmap.adaptorModule.adaptiveYMinMax.min;\n            adaptorMax = this.orientation === 'Horizontal' ? heatmap.adaptorModule.adaptiveXMinMax.max :\n                heatmap.adaptorModule.adaptiveYMinMax.max;\n        }\n        var minimum = this.minimum ? this.minimum : (adaptorMin ? adaptorMin : null);\n        var maximum = this.maximum ? this.maximum : (adaptorMax ? adaptorMax : null);\n        if (minimum === null && maximum === null) {\n            min = 0;\n            max = this.maxLength * this.increment;\n            for (var i = min; i <= max; i = i + (interval * this.increment)) {\n                this.axisLabels.push(i.toString());\n                this.tooltipLabels.push(i.toString());\n                this.labelValue.push(i.toString());\n            }\n            this.min = 0;\n            this.max = this.maxLength;\n            this.axisLabelSize = (max - min) / this.increment + 1;\n            this.axisLabelInterval = interval;\n        }\n        else {\n            if (minimum !== null && maximum === null) {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = increaseDateTimeInterval(min, this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else if (minimum === null && maximum !== null) {\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n                min = increaseDateTimeInterval(max, -this.maxLength, this.intervalType, this.increment).getTime();\n            }\n            else {\n                min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: minimum }).val))));\n                max = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: maximum }).val))));\n            }\n            this.format = heatmap.intl.getDateFormat({\n                format: this.labelFormat, skeleton: this.getSkeleton()\n            });\n            var tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.axisLabels.push(value);\n                if (this.showLabelOn !== 'None') {\n                    interval = this.calculateLabelInterval(tempInterval);\n                    this.dateTimeAxisLabelInterval.push(interval);\n                }\n                tempInterval = increaseDateTimeInterval(tempInterval, interval, this.intervalType, this.increment).getTime();\n            }\n            this.min = 0;\n            this.axisLabelInterval = interval;\n            this.axisLabelSize = this.getTotalLabelLength(min, max); // this.tooltipLabels.length;\n            this.max = this.axisLabelSize - 1;\n            tempInterval = min;\n            while (tempInterval <= max) {\n                var value = this.format(new Date(tempInterval));\n                this.tooltipLabels.push(value);\n                this.labelValue.push(new Date(tempInterval));\n                tempInterval = increaseDateTimeInterval(tempInterval, 1, this.intervalType, this.increment).getTime();\n            }\n        }\n        this.labelValue = this.isInversed ? this.labelValue.reverse() : this.labelValue;\n    };\n    Axis.prototype.calculateLabelInterval = function (interval) {\n        var year = new Date(interval).getFullYear();\n        var month = new Date(interval).getMonth() + 1;\n        var day = new Date(interval).getDate();\n        var numberOfDays;\n        var tempInterval;\n        if (this.showLabelOn === 'Years' || this.showLabelOn === 'Months') {\n            if (this.showLabelOn === 'Years' && this.intervalType === 'Months') {\n                tempInterval = Math.ceil(12 / this.increment);\n            }\n            else {\n                numberOfDays = this.showLabelOn === 'Years' ? year % 4 === 0 ? 366 : 365 : new Date(year, month, 0).getDate();\n                numberOfDays += 1 - day;\n                tempInterval = this.intervalType === 'Days' ? Math.ceil(numberOfDays / this.increment) : this.intervalType === 'Hours' ?\n                    Math.ceil((numberOfDays * 24) / this.increment) : this.intervalType === 'Minutes' ?\n                    Math.ceil((numberOfDays * 24 * 60) / this.increment) : 1;\n            }\n        }\n        else if (this.showLabelOn === 'Days') {\n            tempInterval = this.intervalType === 'Hours' ? Math.ceil(24 / this.increment) : this.intervalType === 'Minutes' ?\n                Math.ceil((24 * 60) / this.increment) : 1;\n        }\n        else if (this.showLabelOn === 'Hours') {\n            var minutes = new Date(interval).getMinutes();\n            tempInterval = this.intervalType === 'Minutes' ? Math.ceil((60 - minutes) / this.increment) : 1;\n        }\n        else {\n            tempInterval = 1;\n        }\n        return tempInterval;\n    };\n    /**\n     * @private\n     */\n    Axis.prototype.getSkeleton = function () {\n        var skeleton;\n        if (this.intervalType === 'Years') {\n            skeleton = 'yMMM';\n        }\n        else if (this.intervalType === 'Months') {\n            skeleton = 'MMMd';\n        }\n        else if (this.intervalType === 'Days') {\n            skeleton = 'yMd';\n        }\n        else if (this.intervalType === 'Hours') {\n            skeleton = 'EHm';\n        }\n        else if (this.intervalType === 'Minutes') {\n            skeleton = 'Hms';\n        }\n        else {\n            skeleton = 'Hms';\n        }\n        return skeleton;\n    };\n    /** @private */\n    Axis.prototype.getTotalLabelLength = function (min, max) {\n        var length = 0;\n        var minimum = new Date(min);\n        var maximum = new Date(max);\n        var difference;\n        var days;\n        switch (this.intervalType) {\n            case 'Years':\n                var years = ((maximum.getFullYear() - minimum.getFullYear()) / this.increment) + 1;\n                length = Math.floor(years);\n                break;\n            case 'Months':\n                var months = (maximum.getFullYear() - minimum.getFullYear()) * 12;\n                months -= minimum.getMonth();\n                months += maximum.getMonth();\n                length = months <= 0 ? 1 : Math.floor((months / this.increment) + 1);\n                break;\n            case 'Days':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                days = Math.floor(difference / (1000 * 3600 * 24));\n                length = Math.floor((days / this.increment) + 1);\n                break;\n            case 'Hours':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var hours = Math.floor(difference / (1000 * 3600));\n                length = Math.floor(hours / this.increment) + 1;\n                break;\n            case 'Minutes':\n                difference = Math.abs(minimum.getTime() - maximum.getTime());\n                var minutes = Math.floor(difference / (1000 * 60));\n                length = Math.floor(minutes / this.increment) + 1;\n                break;\n        }\n        return length;\n    };\n    /**\n     * Clear the axis label collection\n     * @private\n     */\n    Axis.prototype.clearAxisLabel = function () {\n        this.axisLabels = [];\n        this.tooltipLabels = [];\n        this.dateTimeAxisLabelInterval = [];\n        this.labelValue = [];\n    };\n    __decorate([\n        Complex({ text: '', textStyle: Theme.axisTitleFont }, Title)\n    ], Axis.prototype, \"title\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"opposedPosition\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"labels\", void 0);\n    __decorate([\n        Complex(Theme.axisLabelFont, Font)\n    ], Axis.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property(0)\n    ], Axis.prototype, \"labelRotation\", void 0);\n    __decorate([\n        Property(false)\n    ], Axis.prototype, \"isInversed\", void 0);\n    __decorate([\n        Property('Category')\n    ], Axis.prototype, \"valueType\", void 0);\n    __decorate([\n        Property(1)\n    ], Axis.prototype, \"increment\", void 0);\n    __decorate([\n        Property('None')\n    ], Axis.prototype, \"showLabelOn\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"minimum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"maximum\", void 0);\n    __decorate([\n        Property(null)\n    ], Axis.prototype, \"interval\", void 0);\n    __decorate([\n        Property('')\n    ], Axis.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property('Days')\n    ], Axis.prototype, \"intervalType\", void 0);\n    __decorate([\n        Property('Trim')\n    ], Axis.prototype, \"labelIntersectAction\", void 0);\n    __decorate([\n        Complex({ color: '#b5b5b5', width: 0, type: 'Rectangle' }, AxisLabelBorder)\n    ], Axis.prototype, \"border\", void 0);\n    __decorate([\n        Collection([], MultiLevelLabels)\n    ], Axis.prototype, \"multiLevelLabels\", void 0);\n    return Axis;\n}(ChildProperty));\nexport { Axis };\n","import { Rect, measureText, TextOption, rotateTextSize, textTrim, CanvasTooltip, PathOption, textWrap } from '../utils/helper';\nimport { sum, titlePositionX, LineOption, Line, DrawSvgCanvas, TextBasic, titlePositionY } from '../utils/helper';\nimport { extend, Browser } from '@syncfusion/ej2-base';\nvar AxisHelper = /** @class */ (function () {\n    function AxisHelper(heatMap) {\n        this.heatMap = heatMap;\n        this.padding = 10;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    /**\n     * To render the x and y axis.\n     *  @private\n     */\n    AxisHelper.prototype.renderAxes = function () {\n        this.initialClipRect = this.heatMap.initialClipRect;\n        var heatMap = this.heatMap;\n        var axisElement;\n        var element;\n        if (!heatMap.enableCanvasRendering) {\n            axisElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'AxisCollection' });\n        }\n        var axes = this.heatMap.axisCollections;\n        for (var i = 0, len = axes.length; i < len; i++) {\n            var axis = axes[i];\n            var optionsLine = {};\n            if (axis.orientation === 'Horizontal') {\n                if (!heatMap.enableCanvasRendering) {\n                    element = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisGroup' });\n                }\n                this.drawXAxisLine(element, axis);\n                this.drawXAxisTitle(axis, element, axis.rect);\n                this.drawXAxisLabels(axis, element, axis.rect);\n            }\n            else {\n                element = heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisGroup' });\n                this.drawYAxisLine(element, axis);\n                this.drawYAxisTitle(axis, element, axis.rect);\n                this.drawYAxisLabels(axis, element, axis.rect);\n            }\n            if (axis.multiLevelLabels.length > 0) {\n                this.drawMultiLevels(element, axis);\n            }\n            if (!heatMap.enableCanvasRendering) {\n                axisElement.appendChild(element);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.heatMap.svgObject.appendChild(axisElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisLine = function (parent, axis) {\n        var y = this.initialClipRect.y + (!axis.opposedPosition ? this.initialClipRect.height : 0);\n        var line = new LineOption(this.heatMap.element.id + '_XAxisLine', new Line(this.initialClipRect.x, y, this.initialClipRect.x + this.initialClipRect.width, y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawYAxisLine = function (parent, axis) {\n        var x = this.initialClipRect.x + ((!axis.opposedPosition) ? 0 : this.initialClipRect.width);\n        var line = new LineOption(this.heatMap.element.id + '_YAxisLine', new Line(x, this.initialClipRect.y, x, this.initialClipRect.height + this.initialClipRect.y), 'transparent', 0);\n        this.drawSvgCanvas.drawLine(line, parent);\n    };\n    AxisHelper.prototype.drawXAxisTitle = function (axis, parent, rect) {\n        var y = rect.y + (!axis.opposedPosition ? (axis.maxLabelSize.height + this.padding +\n            sum(axis.xAxisMultiLabelHeight)) : -(axis.maxLabelSize.height + this.padding + sum(axis.xAxisMultiLabelHeight)));\n        if (axis.title.text) {\n            var heatMap = this.heatMap;\n            var title = axis.title;\n            var elementSize = measureText(title.text, title.textStyle);\n            var padding = this.padding;\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            padding = axis.opposedPosition ? -(padding + elementSize.height / 4) : (padding + (3 * elementSize.height / 4));\n            var options = new TextOption(heatMap.element.id + '_XAxisTitle', new TextBasic(rect.x + titlePositionX(rect.width, 0, 0, title.textStyle), y + padding, anchor, title.text), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            this.drawSvgCanvas.createText(options, parent, title.text);\n        }\n    };\n    AxisHelper.prototype.drawYAxisTitle = function (axis, parent, rect) {\n        if (axis.title.text) {\n            var title = axis.title;\n            var heatMap = this.heatMap;\n            var labelRotation = (axis.opposedPosition) ? 90 : -90;\n            var elementSize = measureText(title.text, title.textStyle);\n            var anchor = title.textStyle.textAlignment === 'Near' ? 'start' :\n                title.textStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            var padding = 10;\n            padding = axis.opposedPosition ? padding : -padding;\n            var x = rect.x + padding + ((axis.opposedPosition) ? axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight) :\n                -(axis.maxLabelSize.width + sum(axis.yAxisMultiLabelHeight)));\n            var y = rect.y + titlePositionY(rect, 0, 0, title.textStyle) + (axis.opposedPosition ? this.padding : -this.padding);\n            var options = new TextOption(heatMap.element.id + '_YAxisTitle', new TextBasic(x, y - this.padding, anchor, title.text, labelRotation, 'rotate(' + labelRotation + ',' + (x) + ',' + (y) + ')', 'auto'), title.textStyle, title.textStyle.color || heatMap.themeStyle.axisTitle);\n            if (!this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.createText(options, parent, title.text);\n            }\n            else {\n                this.drawSvgCanvas.canvasDrawText(options, title.text, x, y);\n            }\n        }\n    };\n    /**\n     * Get the visible labels for both x and y axis\n     * @private\n     */\n    AxisHelper.prototype.calculateVisibleLabels = function () {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        var data = this.heatMap.dataSource;\n        var processLabels = !(data && data.isJsonData && data.adaptorType === 'Cell');\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            axis = axisCollection[i];\n            if (axis.valueType === 'Numeric' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n            else if (axis.valueType === 'DateTime' && processLabels) {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else if (axis.valueType === 'Category') {\n                axis.clearAxisLabel();\n                axis.calculateCategoryAxisLabels();\n            }\n            axis.tooltipLabels = axis.isInversed ? axis.tooltipLabels.reverse() : axis.tooltipLabels;\n        }\n    };\n    /**\n     * Measure the title and labels rendering position for both X and Y axis.\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.measureAxis = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = axisCollection.length - 1; i >= 0; i--) {\n            axis = axisCollection[i];\n            var padding = axis.textStyle.size === '0px' ? 0 : this.padding;\n            axis.nearSizes = [];\n            axis.farSizes = [];\n            axis.computeSize(axis, heatmap, rect);\n            if (!axis.opposedPosition) {\n                if (axis.orientation === 'Horizontal') {\n                    rect.height -= (sum(axis.nearSizes) + padding);\n                }\n                else {\n                    rect.x += sum(axis.nearSizes) + padding;\n                    rect.width -= sum(axis.nearSizes) + padding;\n                }\n            }\n            else {\n                if (axis.orientation === 'Horizontal') {\n                    rect.y += sum(axis.farSizes) + padding;\n                    rect.height -= sum(axis.farSizes) + padding;\n                }\n                else {\n                    rect.width -= sum(axis.farSizes) + padding;\n                }\n            }\n        }\n    };\n    /**\n     * Calculate the X and Y axis line position\n     * @param rect\n     * @private\n     */\n    AxisHelper.prototype.calculateAxisSize = function (rect) {\n        var heatmap = this.heatMap;\n        var axis;\n        var axisCollection = heatmap.axisCollections;\n        for (var i = 0, len = axisCollection.length; i < len; i++) {\n            var axis_1 = axisCollection[i];\n            axis_1.rect = extend({}, rect, null, true);\n            if (axis_1.orientation === 'Horizontal' && !axis_1.opposedPosition) {\n                axis_1.rect.y = rect.y + rect.height;\n                axis_1.rect.height = 0;\n            }\n            if (axis_1.orientation === 'Vertical' && axis_1.opposedPosition) {\n                axis_1.rect.x = rect.x + rect.width;\n                axis_1.rect.width = 0;\n            }\n            axis_1.multiLevelPosition = [];\n            for (var i_1 = 0; i_1 < axis_1.multiLevelLabels.length; i_1++) {\n                var multiPosition = axis_1.multiPosition(axis_1, i_1);\n                axis_1.multiLevelPosition.push(multiPosition);\n            }\n        }\n    };\n    AxisHelper.prototype.drawXAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.width / axis.axisLabelSize;\n        var compactInterval = 0;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var tempintervel = rect.width / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.width / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n            axisInterval = temp;\n        }\n        var padding = 10;\n        var lableStrtX = rect.x + (!axis.isInversed ? 0 : rect.width);\n        var labelPadding;\n        var angle = axis.angle;\n        padding = this.padding;\n        var anglePadding = ((angle === 90 || angle === -90)) ? -2 : 0;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'XAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var lableRect = new Rect(lableStrtX, rect.y, interval, rect.height);\n            var label = (axis.labelIntersectAction === 'Trim' && axis.isIntersect) ? axis.valueType !== 'DateTime' ||\n                axis.showLabelOn === 'None' ? textTrim(interval * axisInterval, labels[i], axis.textStyle) :\n                textTrim(axis.dateTimeAxisLabelInterval[i] * interval, labels[i], axis.textStyle) : labels[i];\n            var elementSize = measureText(label, axis.textStyle);\n            var transform = void 0;\n            labelPadding = (axis.opposedPosition) ?\n                -(padding)\n                : (padding + ((angle % 360) === 0 ? (elementSize.height / 2) : 0));\n            var x = lableRect.x + ((!axis.isInversed) ?\n                (lableRect.width / 2) - (elementSize.width / 2) : -((lableRect.width / 2) + (elementSize.width / 2)));\n            if (axis.labelIntersectAction === 'Trim') {\n                x = (!axis.isInversed) ? (x >= lableRect.x ? x : lableRect.x) : (x > (lableStrtX - interval) ? x : (lableStrtX - interval));\n            }\n            else if (angle % 180 === 0) {\n                x = x < rect.x ? rect.x : x;\n                x = ((x + elementSize.width) > (rect.x + rect.width)) ? (rect.x + rect.width - elementSize.width) : x;\n            }\n            var y = rect.y + labelPadding;\n            this.drawXAxisBorder(axis, borderElement, axis.rect, x, elementSize.width, i);\n            if (angle % 360 !== 0) {\n                angle = (angle > 360) ? angle % 360 : angle;\n                var rotateSize = rotateTextSize(axis.textStyle, label, angle);\n                var diffHeight = axis.maxLabelSize.height - Math.ceil(rotateSize.height - elementSize.height);\n                var yLocation = axis.opposedPosition ? diffHeight / 2 : -diffHeight / 2;\n                x = lableRect.x + (axis.isInversed ? -(lableRect.width / 2) : (lableRect.width / 2));\n                y = y + (axis.opposedPosition ? -(rotateSize.height / 2) :\n                    (((angle % 360) === 180 || (angle % 360) === -180) ? 0 : (rotateSize.height) / 2));\n                transform = 'rotate(' + angle + ',' + x + ','\n                    + y + ')';\n            }\n            var options = new TextOption(heatMap.element.id + '_XAxis_Label' + i, new TextBasic(x, y, (angle % 360 === 0) ? 'start' : 'middle', label, angle, transform), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (angle !== 0 && this.heatMap.enableCanvasRendering) {\n                this.drawSvgCanvas.canvasDrawText(options, label);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, labelElement, label);\n            }\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStrtX = lableStrtX + (!axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStrtX = lableStrtX + (!axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n            }\n            if (label.indexOf('...') !== -1) {\n                this.heatMap.tooltipCollection.push(new CanvasTooltip(labels[i], new Rect(x, y - elementSize.height, elementSize.width, elementSize.height)));\n            }\n            if (compactInterval !== 0) {\n                i = i + (compactInterval - 1);\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawYAxisLabels = function (axis, parent, rect) {\n        var heatMap = this.heatMap;\n        var labels = axis.axisLabels;\n        var interval = rect.height / axis.axisLabelSize;\n        var compactInterval = 0;\n        var tempintervel = rect.height / (axis.axisLabelSize / axis.axisLabelInterval);\n        var temp = axis.axisLabelInterval;\n        if (tempintervel > 0) {\n            while (tempintervel < parseInt(axis.textStyle.size, 10)) {\n                temp = temp + 1;\n                tempintervel = rect.height / (axis.axisLabelSize / temp);\n            }\n        }\n        else {\n            temp = axis.tooltipLabels.length;\n        }\n        if (axis.axisLabelInterval < temp) {\n            compactInterval = temp;\n            labels = axis.tooltipLabels;\n        }\n        var padding = 10;\n        var lableStartY = rect.y + (axis.isInversed ? 0 : rect.height);\n        var anchor = axis.opposedPosition ? 'start' : 'end';\n        padding = axis.opposedPosition ? padding : -padding;\n        var labelElement;\n        var borderElement;\n        if (!heatMap.enableCanvasRendering) {\n            labelElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabels' });\n            borderElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + 'YAxisLabelBorder' });\n        }\n        for (var i = 0, len = labels.length; i < len; i++) {\n            var labelRect = new Rect(rect.x, lableStartY, rect.width, interval);\n            var position = labelRect.height / 2; //titlePositionY(lableRect, 0, 0, axis.textStyle);\n            var x = labelRect.x + padding;\n            var y = labelRect.y + (axis.isInversed ? position : -position);\n            var options = new TextOption(heatMap.element.id + '_YAxis_Label' + i, new TextBasic(x, y, anchor, labels[i], 0, 'rotate(' + 0 + ',' + (x) + ',' + (y) + ')', 'middle'), axis.textStyle, axis.textStyle.color || heatMap.themeStyle.axisLabel);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                options.dy = '1ex';\n            }\n            this.drawSvgCanvas.createText(options, labelElement, labels[i]);\n            if (compactInterval === 0) {\n                var labelInterval = (axis.valueType === 'DateTime' && axis.showLabelOn !== 'None') ?\n                    axis.dateTimeAxisLabelInterval[i] : axis.axisLabelInterval;\n                lableStartY = lableStartY + (axis.isInversed ? (labelInterval * interval) :\n                    -(labelInterval * interval));\n            }\n            else {\n                lableStartY = lableStartY + (axis.isInversed ? (compactInterval * interval) : -(compactInterval * interval));\n                i = i + (compactInterval - 1);\n            }\n            var elementSize = measureText(labels[i], axis.textStyle);\n            this.drawYAxisBorder(axis, borderElement, axis.rect, y, elementSize.height, i);\n        }\n        if (!heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n            parent.appendChild(borderElement);\n        }\n    };\n    AxisHelper.prototype.drawXAxisBorder = function (axis, parent, rect, lableX, width, index) {\n        var interval = rect.width / axis.axisLabelSize;\n        var path = '';\n        var padding = 10;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = axis.isInversed ? rect.x + rect.width - (interval * index * axisInterval) :\n            rect.x + (interval * index * axisInterval);\n        var startY = rect.y;\n        var endX;\n        var endY;\n        endY = startY + (axis.opposedPosition ? -(axis.maxLabelSize.height + padding) : axis.maxLabelSize.height + padding);\n        endX = axis.isInversed ? startX - interval : startX + interval;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = ('M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY);\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding_1 = 3;\n                endY = startY + ((endY - startY) / 2) + (axis.opposedPosition ? 0 : 5);\n                var endY1 = axis.isInversed ? (lableX + width + padding_1) : (lableX - padding_1);\n                var endY2 = axis.isInversed ? (lableX - padding_1) : (lableX + width + padding_1);\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endY1 + ' ' + endY + ' ' + 'M' + ' ' + endY2 +\n                    ' ' + endY + ' ' + 'L' +\n                    ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    AxisHelper.prototype.drawYAxisBorder = function (axis, parent, rect, lableY, height, index) {\n        var interval = rect.height / axis.axisLabelSize;\n        var path = '';\n        var padding = 20;\n        var axisInterval = axis.interval ? axis.interval : 1;\n        var startX = rect.x;\n        var startY = axis.isInversed ? rect.y + (interval * index * axisInterval) :\n            rect.y + rect.height - (interval * index * axisInterval);\n        var endX;\n        var endY;\n        endX = startX + (!axis.opposedPosition ? -(axis.maxLabelSize.width + padding) : axis.maxLabelSize.width + padding);\n        endY = axis.isInversed ? startY + interval : startY - interval;\n        switch (axis.border.type) {\n            case 'Rectangle':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY;\n                break;\n            case 'WithoutTopBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path = 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                endX = startX - (startX - endX) / 2;\n                var endY1 = axis.isInversed ? lableY - height / 2 : lableY + height / 2;\n                var endY2 = axis.isInversed ? lableY + height / 2 : lableY - height / 2;\n                path = 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY1 + ' ' + 'M' + ' ' +\n                    endX + ' ' + endY2 + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY;\n                break;\n        }\n        if (axis.border.width > 0 && axis.border.type !== 'WithoutBorder') {\n            this.createAxisBorderElement(axis, path, parent, index);\n        }\n    };\n    /**\n     * To create border element for axis.\n     * @return {void}\n     * @private\n     */\n    AxisHelper.prototype.createAxisBorderElement = function (axis, labelBorder, parent, index) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? '_XAxis_Label_Border' : '_YAxis_Label_Border';\n        var pathOptions = new PathOption(this.heatMap.element.id + id + index, 'transparent', axis.border.width, axis.border.color, 1, 'none', labelBorder);\n        if (!this.heatMap.enableCanvasRendering) {\n            var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    AxisHelper.prototype.drawMultiLevels = function (parent, axis) {\n        var element;\n        if (!this.heatMap.enableCanvasRendering) {\n            element = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_' + axis.orientation + '_MultiLevelLabel' });\n        }\n        axis.orientation === 'Horizontal' ? this.renderXAxisMultiLevelLabels(axis, element, axis.rect) :\n            this.renderYAxisMultiLevelLabels(axis, element, axis.rect);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(element);\n        }\n    };\n    /**\n     * render x axis multi level labels\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderXAxisMultiLevelLabels = function (axis, parent, rect) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var endX = 0;\n        var tooltip;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var width;\n        var textLength;\n        var position = (isInversed ? axis.rect.width : 0) + axis.rect.x;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_XAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                tooltip = false;\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startX = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startY = axis.multiLevelPosition[level].y;\n                endX = position + _this.calculateWidth(axis, categoryLabel.end, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(endX - startX) : categoryLabel.maximumTextWidth) - padding;\n                y = startY + (opposedPosition ? -((axis.xAxisMultiLabelHeight[level] - labelSize.height)) : labelSize.height);\n                width = categoryLabel.maximumTextWidth ? categoryLabel.maximumTextWidth : labelSize.width;\n                x = !isInversed ? startX + padding : startX - gap;\n                if (multiLevel.alignment === 'Center') {\n                    x = ((endX - startX) / 2) + startX;\n                    x -= (labelSize.width > gap ? gap : labelSize.width) / 2;\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    x = !isInversed ? endX - padding : startX - padding;\n                    x -= (labelSize.width > gap ? gap : labelSize.width);\n                }\n                else {\n                    x = !isInversed ? startX + padding : endX + padding;\n                }\n                if (multiLevel.overflow === 'None' && labelSize.width > Math.abs(endX - startX)) {\n                    x = !isInversed ? startX + padding : startX - labelSize.width - padding;\n                    anchor = 'start';\n                }\n                var textBasic = new TextBasic(x, y, anchor, categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_XAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                if (multiLevel.overflow === 'Wrap') {\n                    options.text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    textLength = options.text.length;\n                }\n                else if (multiLevel.overflow === 'Trim') {\n                    options.text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    textLength = 1;\n                }\n                if (multiLevel.overflow === 'Wrap' && options.text.length > 1) {\n                    _this.drawSvgCanvas.createWrapText(options, multiLevel.textStyle, labelElement);\n                    for (var i_2 = 0; i_2 < options.text.length; i_2++) {\n                        if (options.text[i_2].indexOf('...') !== -1) {\n                            tooltip = true;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n                if (options.text.indexOf('...') !== -1 || options.text[0].indexOf('...') !== -1 || tooltip) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height * textLength)));\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderXAxisLabelBorder(level, axis, startX, startY, endX, pathRect, level, labelSize, gap, x);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderXAxisLabelBorder = function (labelIndex, axis, startX, startY, endX, path, level, labelSize, gap, x) {\n        var path1;\n        var path2;\n        var endY = startY + (axis.opposedPosition ? -(axis.xAxisMultiLabelHeight[labelIndex]) :\n            axis.xAxisMultiLabelHeight[labelIndex]);\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' +\n                    'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding = 3;\n                path1 = axis.isInversed ? (labelSize.width > gap ? gap : labelSize.width) + x + padding : x - padding;\n                path2 = axis.isInversed ? x - padding : (labelSize.width > gap ? gap : labelSize.width) + x + padding;\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + (startY + (endY - startY) / 2) + ' ' +\n                    'L' + ' ' + path1 + ' ' + (startY + (endY - startY) / 2) + ' ' + 'M' + ' ' + path2 + ' ' + (startY +\n                    (endY - startY) / 2) + ' ' + 'L' + ' ' + endX + ' ' + (startY + (endY - startY) / 2) +\n                    ' ' + 'L' + ' ' + endX + ' ' + startY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderYAxisMultiLevelLabels = function (axis, parent, rect) {\n        var _this = this;\n        var x = 0;\n        var y;\n        var padding = 10;\n        var startX;\n        var startY;\n        var startY2;\n        var endY;\n        var start;\n        var end;\n        var labelSize;\n        var anchor;\n        var isInversed = axis.isInversed;\n        var labelElement;\n        var opposedPosition = axis.opposedPosition;\n        var pathRect = '';\n        var gap;\n        var interval = (axis.rect.height / axis.axisLabelSize) / axis.increment;\n        var text;\n        var position = (!isInversed ? axis.rect.height : 0) + axis.rect.y;\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            startY2 = axis.multiLevelPosition[level].y;\n            labelElement = _this.heatMap.renderer.createGroup({ id: _this.heatMap.element.id + '_YAxisMultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                start = typeof categoryLabel.start === 'number' ? categoryLabel.start : Number(new Date(categoryLabel.start));\n                end = typeof categoryLabel.end === 'number' ? categoryLabel.end : Number(new Date(categoryLabel.end));\n                startY = position + _this.calculateLeftPosition(axis, start, categoryLabel.start, axis.rect);\n                startX = axis.multiLevelPosition[level].x;\n                endY = position + _this.calculateWidth(axis, categoryLabel.start, end, axis.rect);\n                labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                gap = ((categoryLabel.maximumTextWidth === null) ? Math.abs(startX) : categoryLabel.maximumTextWidth) - padding;\n                var maxWidth = Math.abs(startX - (startX - axis.multiLevelSize[level].width - 2 * padding)) / 2 -\n                    (labelSize.width / 2);\n                x = (axis.opposedPosition ? startX : startX - axis.multiLevelSize[level].width - 2 * padding) + maxWidth;\n                y = startY + padding;\n                if (multiLevel.overflow !== 'None') {\n                    if (multiLevel.overflow === 'Wrap') {\n                        text = textWrap(categoryLabel.text, gap, multiLevel.textStyle);\n                    }\n                    else {\n                        text = textTrim(gap, categoryLabel.text, multiLevel.textStyle);\n                    }\n                }\n                if (multiLevel.alignment === 'Center') {\n                    y += ((endY - startY) / 2 - (text.length * labelSize.height) / 2);\n                }\n                else if (multiLevel.alignment === 'Far') {\n                    y = isInversed ? endY - labelSize.height / 2 : y - labelSize.height;\n                }\n                else {\n                    y = isInversed ? y + labelSize.height / 2 : endY + labelSize.height;\n                }\n                if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                    pathRect = _this.renderYAxisLabelBorder(level, axis, startX, startY, endY, pathRect, level, labelSize, gap, y);\n                }\n                var textBasic = new TextBasic(x, y, 'start', categoryLabel.text, 0, 'translate(0,0)');\n                var options = new TextOption(_this.heatMap.element.id + '_YAxis_MultiLevel' + level + '_Text' + i, textBasic, multiLevel.textStyle, multiLevel.textStyle.color || _this.heatMap.themeStyle.axisLabel);\n                options.text = text;\n                _this.drawSvgCanvas.createText(options, labelElement, options.text);\n                if (options.text.indexOf('...') !== -1) {\n                    _this.heatMap.tooltipCollection.push(new CanvasTooltip(categoryLabel.text, new Rect(x, y - labelSize.height, gap, labelSize.height)));\n                }\n                if (!_this.heatMap.enableCanvasRendering) {\n                    parent.appendChild(labelElement);\n                }\n            });\n            if (pathRect !== '') {\n                _this.createBorderElement(level, axis, pathRect, parent);\n                pathRect = '';\n            }\n        });\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(labelElement);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     * @private\n     * @return {void}\n     */\n    AxisHelper.prototype.renderYAxisLabelBorder = function (labelIndex, axis, startX, startY, endY, path, level, labelSize, gap, y) {\n        var padding = 20;\n        var path1;\n        var path2;\n        var endX = startX - (axis.opposedPosition ? -(axis.multiLevelSize[labelIndex].width + padding) :\n            (axis.multiLevelSize[labelIndex].width + padding));\n        switch (axis.multiLevelLabels[level].border.type) {\n            case 'Rectangle':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ';\n                break;\n            case 'WithoutTopBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'L' + ' ' + endX + ' ' + endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n            case 'WithoutBottomBorder':\n                path += 'M' + ' ' + endX + ' ' + startY + ' ' + 'L' + ' ' + startX + ' ' + startY + ' ' +\n                    'L' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'WithoutTopandBottomBorder':\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + endX + ' ' + startY + ' ' +\n                    'M' + ' ' + startX + ' ' + endY + ' ' + 'L' + ' ' + endX + ' ' + endY + ' ';\n                break;\n            case 'Brace':\n                var padding_2 = 10;\n                path1 = axis.isInversed ? (y - padding_2 - 5) : (y + (labelSize.height) - padding_2);\n                path2 = axis.isInversed ? (y + (labelSize.height) - padding_2) : (y - padding_2 - 5);\n                path += 'M' + ' ' + startX + ' ' + startY + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + startY + ' ' +\n                    'L' + ' ' + (startX + (endX - startX) / 2) + ' ' + path1 + ' ' + 'M' + ' ' + (startX + (endX - startX) / 2) +\n                    ' ' + path2 + ' ' + 'L' + ' ' + (startX + (endX - startX) / 2) + ' ' +\n                    endY + ' ' + 'L' + ' ' + startX + ' ' + endY + ' ';\n                break;\n        }\n        return path;\n    };\n    /**\n     * create borer element\n     * @return {void}\n     * @private\n     */\n    AxisHelper.prototype.createBorderElement = function (borderIndex, axis, path, parent) {\n        var canvasTranslate;\n        var id = axis.orientation === 'Horizontal' ? 'XAxis' : 'YAxis';\n        var pathOptions = new PathOption(this.heatMap.element.id + '_' + id + '_MultiLevel_Rect_' + borderIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color, 1, '', path);\n        var borderElement = this.heatMap.renderer.drawPath(pathOptions);\n        if (!this.heatMap.enableCanvasRendering) {\n            parent.appendChild(borderElement);\n        }\n        else {\n            this.heatMap.canvasRenderer.drawPath(pathOptions, canvasTranslate);\n        }\n    };\n    /**\n     * calculate left position of border element\n     * @private\n     */\n    AxisHelper.prototype.calculateLeftPosition = function (axis, start, label, rect) {\n        var value;\n        var interval;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                start -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * start * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(start, axis, true, rect);\n            value = axis.isInversed ? -interval : interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    /**\n     * calculate width of border element\n     * @private\n     */\n    AxisHelper.prototype.calculateWidth = function (axis, label, end, rect) {\n        var interval;\n        var value;\n        if (typeof label === 'number') {\n            if (axis.valueType === 'Numeric' && (axis.minimum || axis.maximum)) {\n                var min = axis.minimum ? axis.minimum : 0;\n                end -= min;\n            }\n            var size = axis.orientation === 'Horizontal' ? rect.width : rect.height;\n            interval = size / (axis.axisLabelSize * axis.increment);\n            value = (axis.isInversed ? -1 : 1) * (end + 1) * interval;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        else {\n            interval = this.calculateNumberOfDays(end, axis, false, rect);\n            value = interval;\n            value = axis.isInversed ? -value : value;\n            value = axis.orientation === 'Horizontal' ? value : -value;\n        }\n        return value;\n    };\n    AxisHelper.prototype.calculateNumberOfDays = function (date, axis, start, rect) {\n        var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds\n        var oneMinute = 60 * 1000;\n        var oneHour = 60 * 60 * 1000;\n        var firstDate;\n        var secondDate;\n        var labels = axis.labelValue;\n        var position;\n        var interval = (axis.orientation === 'Horizontal' ? rect.width : rect.height) / axis.axisLabelSize;\n        var givenDate = new Date(Number(date));\n        var days = 0;\n        for (var index = 0; index < axis.axisLabelSize; index++) {\n            firstDate = new Date(Number(labels[index]));\n            secondDate = axis.isInversed ? new Date(Number(labels[index - 1])) : new Date(Number(labels[index + 1]));\n            if (index === (axis.isInversed ? 0 : axis.axisLabelSize - 1)) {\n                secondDate = new Date(Number(labels[index]));\n                if (axis.intervalType === 'Hours') {\n                    secondDate = new Date(Number(secondDate.setHours(secondDate.getHours() + 1)));\n                }\n                else if ((axis.intervalType === 'Minutes')) {\n                    secondDate = new Date(Number(secondDate.setMinutes(secondDate.getMinutes() + 1)));\n                }\n                else if ((axis.intervalType === 'Days')) {\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + 1)));\n                }\n                else {\n                    var numberOfDays = axis.intervalType === 'Months' ?\n                        new Date(secondDate.getFullYear(), secondDate.getMonth() + 1, 0).getDate() :\n                        secondDate.getFullYear() % 4 === 0 ? 366 : 365;\n                    secondDate = new Date(Number(secondDate.setDate(secondDate.getDate() + numberOfDays)));\n                }\n            }\n            if (Number(firstDate) <= date && Number(secondDate) >= date) {\n                if (axis.intervalType === 'Minutes' || axis.intervalType === 'Hours') {\n                    var totalMinutes = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneMinute)));\n                    var minutesInHours = Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneMinute));\n                    days = (interval / totalMinutes) * minutesInHours;\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n                else {\n                    var numberOfDays = Math.round(Math.abs((firstDate.getTime() - secondDate.getTime()) / (oneDay)));\n                    start ? givenDate.getDate() : givenDate.setDate(givenDate.getDate() + 1);\n                    if (numberOfDays !== 0) {\n                        days = (interval / numberOfDays) * (Math.abs((firstDate.getTime() - givenDate.getTime()) / (oneDay)));\n                    }\n                    index = axis.isInversed ? axis.axisLabelSize - 1 - index : index;\n                    position = index * interval + days;\n                    break;\n                }\n            }\n        }\n        return position;\n    };\n    return AxisHelper;\n}());\nexport { AxisHelper };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, extend, merge, Complex, Browser, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Rect, TextBasic, Path, PathAttributes, RectOption, CircleOption, TextOption, CurrentRect, DrawSvgCanvas } from '../utils/helper';\nimport { convertHexToColor, colorNameToHex, formatValue } from '../utils/helper';\nimport { CellColor } from '../utils/colorMapping';\nimport { Border, Font, BubbleTooltipData, BubbleSize } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Configures the CellSettings property in the Heatmap.\n */\nvar CellSettings = /** @class */ (function (_super) {\n    __extends(CellSettings, _super);\n    function CellSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property('')\n    ], CellSettings.prototype, \"format\", void 0);\n    __decorate([\n        Property(true)\n    ], CellSettings.prototype, \"enableCellHighlighting\", void 0);\n    __decorate([\n        Complex({}, BubbleSize)\n    ], CellSettings.prototype, \"bubbleSize\", void 0);\n    __decorate([\n        Complex({}, Border)\n    ], CellSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.rectLabelFont, Font)\n    ], CellSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('Rect')\n    ], CellSettings.prototype, \"tileType\", void 0);\n    __decorate([\n        Property('Color')\n    ], CellSettings.prototype, \"bubbleType\", void 0);\n    __decorate([\n        Property(false)\n    ], CellSettings.prototype, \"isInversedBubbleSize\", void 0);\n    return CellSettings;\n}(ChildProperty));\nexport { CellSettings };\nvar Series = /** @class */ (function () {\n    function Series(heatMap) {\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(this.heatMap);\n        this.cellColor = new CellColor(this.heatMap);\n    }\n    /**\n     * To render rect series.\n     * @return {void}\n     * @private\n     */\n    // tslint:disable-next-line:max-func-body-length\n    Series.prototype.renderRectSeries = function () {\n        this.createSeriesGroup();\n        var heatMap = this.heatMap;\n        var isValueInRange = false;\n        heatMap.xLength = heatMap.axisCollections[0].axisLabelSize;\n        heatMap.yLength = heatMap.axisCollections[1].axisLabelSize; // Series Part\n        var tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n        var tempY = Math.round(heatMap.initialClipRect.y * 100) / 100;\n        var dataXIndex = 0;\n        var dataYIndex = 0;\n        var cellSetting = heatMap.cellSettings;\n        var tempWidth = Math.round(((heatMap.initialClipRect.width -\n            (cellSetting.border.width / 2)) / heatMap.xLength) * 100) / 100;\n        var tempHeight = Math.round(((heatMap.initialClipRect.height -\n            (cellSetting.border.width / 2)) / heatMap.yLength) * 100) / 100;\n        var tempVal = 0;\n        var themeStyle = heatMap.themeStyle;\n        var tempBorder;\n        var tempRectPosition = [];\n        var circleRadius;\n        tempBorder = cellSetting.border;\n        var borderColor;\n        var displayText;\n        this.rectPositionCollection = [];\n        this.color = '';\n        this.bubbleColorValue = [];\n        if (heatMap.yAxis.opposedPosition) {\n            tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n        }\n        circleRadius = this.getBubbleRadius(tempWidth, tempHeight);\n        for (var x = 0; x < (heatMap.xLength * heatMap.yLength); x++) {\n            this.setTextAndColor(dataXIndex, dataYIndex);\n            var rectPosition = new CurrentRect(0, 0, 0, 0, 0, '', 0, 0, 0, 0, true, '', '');\n            borderColor = tempBorder.color;\n            if ((heatMap.renderingMode === 'Canvas' && parseFloat(tempBorder.width.toString()) === 0) || (!borderColor &&\n                cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                borderColor = this.color;\n            }\n            if (this.heatMap.bubbleSizeWithColor) {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, extend('', this.bubbleColorValue, null, true), x, dataYIndex, dataXIndex);\n            }\n            else {\n                this.updateRectDetails(rectPosition, tempX, tempY, tempWidth, tempHeight, this.text, x, dataYIndex, dataXIndex);\n            }\n            if (cellSetting.showLabel) {\n                displayText = this.getFormatedText(this.text, cellSetting.format);\n                rectPosition.displayText = displayText;\n                if (!isNullOrUndefined(this.heatMap.cellRender)) {\n                    displayText = this.cellRendering(rectPosition, displayText);\n                }\n            }\n            if (cellSetting.tileType === 'Rect') { // Rectangle/Tile Series\n                this.renderTileCell(rectPosition, tempBorder, x, this.color, borderColor);\n                this.updateLabelVisibleStatus(tempWidth, tempHeight, displayText);\n            }\n            else {\n                if (cellSetting.bubbleType === 'Color') { // Bubble by same size and different color Series\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, circleRadius);\n                    this.updateLabelVisibleStatus((circleRadius * 2) - 12, (circleRadius * 2) - 6, displayText); // 6, 12 - circle padding\n                }\n                else if (!isNullOrUndefined(this.text) && (cellSetting.bubbleType === 'Size' || cellSetting.bubbleType === 'SizeAndColor')\n                    && this.text.toString() !== '') { // Bubble by same color and different size Series\n                    var tempCircleRadius = this.getRadiusBypercentage(parseFloat(this.text.toString()), heatMap.dataSourceMinValue, heatMap.dataSourceMaxValue, circleRadius);\n                    this.renderBubbleCell(rectPosition, tempBorder, x, this.color, borderColor, tempCircleRadius);\n                    this.updateLabelVisibleStatus((tempCircleRadius * 2) - 12, (tempCircleRadius * 2) - 6, displayText);\n                }\n                else if (cellSetting.bubbleType === 'Sector' && !isNullOrUndefined(this.text) && this.text.toString() !== '') {\n                    this.renderSectorCell(rectPosition, tempBorder, x.toString(), this.color, borderColor, circleRadius, this.text);\n                    this.checkLabelXDisplay = false;\n                    this.checkLabelYDisplay = false;\n                }\n            }\n            tempRectPosition.push(rectPosition);\n            if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                isValueInRange = this.isCellValueInRange(dataXIndex, dataYIndex);\n                rectPosition.visible = isValueInRange;\n            }\n            if (cellSetting.showLabel && this.checkLabelYDisplay && this.checkLabelXDisplay) {\n                var themeCellTextStyle = cellSetting.textStyle;\n                var options = new TextOption(heatMap.element.id + '_HeatMapRectLabels_' + x, new TextBasic(Math.round((tempX + tempWidth / 2) * 100) / 100, Math.round((tempY + tempHeight / 2) * 100) / 100, 'middle', displayText, null, null, 'middle'), themeCellTextStyle, themeCellTextStyle.color || this.getSaturatedColor(this.color));\n                rectPosition.textId = options.id;\n                if (heatMap.rangeSelection && heatMap.paletteSettings.type === 'Fixed') {\n                    options.fill = isValueInRange ? options.fill : this.heatMap.themeStyle.toggledColor;\n                }\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    options.dy = this.heatMap.cellSettings.tileType === 'Bubble' ? '0.5ex' : '1ex';\n                }\n                this.drawSvgCanvas.createText(options, this.containerTextObject, displayText);\n            }\n            if (tempVal === heatMap.xLength - 1) {\n                tempY = Math.round((tempY + tempHeight) * 100) / 100;\n                tempVal = 0;\n                dataYIndex = 0;\n                if (heatMap.yAxis.opposedPosition) {\n                    tempX = Math.round((heatMap.initialClipRect.x + (parseFloat(tempBorder.width.toString()) / 2)) * 100) / 100;\n                }\n                else {\n                    tempX = Math.round(heatMap.initialClipRect.x * 100) / 100;\n                }\n                this.rectPositionCollection.push(tempRectPosition);\n                tempRectPosition = [];\n                dataXIndex++;\n            }\n            else {\n                tempX = Math.round((tempX + tempWidth) * 100) / 100;\n                tempVal++;\n                dataYIndex++;\n            }\n        }\n        if (!heatMap.enableCanvasRendering) {\n            heatMap.svgObject.appendChild(this.containerRectObject);\n            if (cellSetting.showLabel && !(cellSetting.tileType === 'Bubble' && cellSetting.bubbleType === 'Sector')) {\n                heatMap.svgObject.appendChild(this.containerTextObject);\n            }\n        }\n    };\n    /**\n     * To toggle the cell text color based on legend selection.\n     */\n    Series.prototype.isCellValueInRange = function (dataXIndex, dataYIndex) {\n        var isValueInRange = false;\n        for (var i = 0; i < this.heatMap.toggleValue.length; i++) {\n            var minValue = (i === 0) ? this.heatMap.dataSourceMinValue : this.heatMap.toggleValue[i].value;\n            var maxValue = (i === this.heatMap.toggleValue.length - 1) ? this.heatMap.dataSourceMaxValue :\n                this.heatMap.toggleValue[i + 1].value - 0.01;\n            // tslint:disable-next-line:no-any\n            var clonedDataSource = this.heatMap.clonedDataSource;\n            var bubbleText = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '';\n            var text = this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'SizeAndColor' ?\n                bubbleText : this.text;\n            if (!isNullOrUndefined(text) && text >= minValue && text <= maxValue) {\n                if (!this.heatMap.toggleValue[i].visible) {\n                    isValueInRange = false;\n                    break;\n                }\n                else {\n                    isValueInRange = true;\n                    break;\n                }\n            }\n        }\n        return isValueInRange;\n    };\n    /**\n     * To customize the cell.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.cellRendering = function (rectPosition, text) {\n        var xAxis = this.heatMap.axisCollections[0];\n        var yAxis = this.heatMap.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var yLabelValue = yAxis.labelValue.slice().reverse();\n        var argData = {\n            heatmap: this.heatMap,\n            cancel: false,\n            name: 'cellRender',\n            value: rectPosition.value,\n            xLabel: xLabels[rectPosition.xIndex].toString(),\n            yLabel: yLabels[rectPosition.yIndex].toString(),\n            displayText: text,\n            xValue: xAxis.labelValue[rectPosition.xIndex],\n            yValue: yLabelValue[rectPosition.yIndex]\n        };\n        this.heatMap.trigger('cellRender', argData);\n        return argData.displayText;\n    };\n    /**\n     * To set color and text details.\n     * @private\n     */\n    Series.prototype.setTextAndColor = function (dataXIndex, dataYIndex) {\n        var cellSetting = this.heatMap.cellSettings;\n        this.bubbleColorValue = [];\n        var adaptData = this.heatMap.dataSource;\n        // tslint:disable-next-line:no-any\n        var clonedDataSource = this.heatMap.clonedDataSource;\n        if (this.heatMap.bubbleSizeWithColor) {\n            this.text = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][0]) &&\n                clonedDataSource[dataXIndex][dataYIndex][0].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][0] : '';\n            this.color = !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ?\n                this.cellColor.getColorByValue(clonedDataSource[dataXIndex][dataYIndex][1])\n                : this.heatMap.isColorValueExist ? this.heatMap.emptyPointColor : this.cellColor.getColorByValue(this.text);\n            var tempBubbleCollection = new BubbleTooltipData(adaptData.isJsonData && adaptData.adaptorType === 'Cell' ? this.heatMap.dataSource.bubbleDataMapping.size : null, this.text, 'Size');\n            this.bubbleColorValue.push(tempBubbleCollection);\n            this.bubbleColorValue.push({\n                mappingName: adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                    this.heatMap.dataSource.bubbleDataMapping.color : null,\n                bubbleData: !isNullOrUndefined(clonedDataSource[dataXIndex][dataYIndex][1]) &&\n                    clonedDataSource[dataXIndex][dataYIndex][1].toString() !== '' ? clonedDataSource[dataXIndex][dataYIndex][1] : '',\n                valueType: 'Color'\n            });\n        }\n        else {\n            this.text = clonedDataSource[dataXIndex][dataYIndex];\n            this.color = this.cellColor.getColorByValue(this.text);\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.createSeriesGroup = function () {\n        if (!this.heatMap.enableCanvasRendering) {\n            this.containerRectObject = this.heatMap.renderer.createGroup({\n                id: this.heatMap.element.id + '_Container_RectGroup',\n                x: this.heatMap.initialClipRect.x, y: this.heatMap.initialClipRect.y, transform: 'translate( 0, 0)'\n            });\n            if (this.heatMap.cellSettings.showLabel &&\n                !(this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Sector')) {\n                this.containerTextObject = this.heatMap.renderer.createGroup({ id: this.heatMap.element.id + '_Container_TextGroup', transform: 'translate( 0, 0)' });\n            }\n        }\n    };\n    /**\n     * To update rect details.\n     * @private\n     */\n    Series.prototype.updateRectDetails = function (rectPosition, tempX, tempY, tempWidth, tempHeight, text, x, dataXIndex, dataYIndex) {\n        rectPosition.x = tempX;\n        rectPosition.y = tempY;\n        rectPosition.width = tempWidth;\n        rectPosition.height = tempHeight;\n        rectPosition.value = text;\n        rectPosition.id = this.heatMap.element.id + '_HeatMapRect_' + x;\n        rectPosition.xIndex = dataXIndex;\n        rectPosition.yIndex = dataYIndex;\n    };\n    /**\n     * To Render Tile Cell.\n     * @private\n     */\n    Series.prototype.renderTileCell = function (rectPosition, tempBorder, x, color, borderColor) {\n        var rect = new RectOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, new Rect(rectPosition.x, rectPosition.y, rectPosition.width, rectPosition.height), borderColor || this.heatMap.themeStyle.cellBorder, tempBorder.radius, tempBorder.radius);\n        this.drawSvgCanvas.drawRectangle(rect, this.containerRectObject, true);\n    };\n    /**\n     * To get bubble radius.\n     * @private\n     */\n    Series.prototype.getBubbleRadius = function (width, height) {\n        var radius = (width / 2) - 2;\n        if (height / 2 < width / 2) {\n            radius = (height / 2) - 2;\n        }\n        return radius < 0 ? 0 : radius;\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderSectorCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius, text) {\n        var curve;\n        var startAngle;\n        var endAngle;\n        var cX;\n        var cY;\n        var X1;\n        var Y1;\n        var tempcX;\n        var tempcY;\n        var pathBorderWidth;\n        var centerX = Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100;\n        var centerY = Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100;\n        var tempColor = color;\n        var sectorContibution = this.getRadiusBypercentage(text, this.heatMap.dataSourceMinValue, this.heatMap.dataSourceMaxValue, 360); // Circle total angle.\n        for (var y = 0; y < 2; y++) {\n            pathBorderWidth = parseFloat(tempBorder.width.toString());\n            if (y === 0) {\n                curve = sectorContibution >= 180 ? 1 : 0;\n                startAngle = -90;\n                if (sectorContibution === 0) {\n                    endAngle = 270; // (360 - 90) for zero position adjustment.\n                }\n                else {\n                    endAngle = (sectorContibution - 90);\n                }\n                cX = Math.round((centerX + circleRadius * Math.cos((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                cY = Math.round((centerY + circleRadius * Math.sin((sectorContibution - 90) * (Math.PI / 180))) * 100) / 100;\n                X1 = Math.round(centerX * 100) / 100;\n                Y1 = Math.round((centerY - circleRadius) * 100) / 100;\n                if (sectorContibution === 0) {\n                    tempColor = this.heatMap.emptyPointColor;\n                }\n            }\n            else {\n                curve = sectorContibution >= 180 ? 0 : 1;\n                startAngle = endAngle;\n                endAngle = 270; // (360 - 90) for zero position adjustment.\n                tempColor = this.heatMap.emptyPointColor;\n                x = x + '_Unfilled';\n                tempcX = cX;\n                tempcY = cY;\n                cX = X1;\n                cY = Y1;\n                X1 = tempcX;\n                Y1 = tempcY;\n                if (sectorContibution === 0) {\n                    pathBorderWidth = 1;\n                    borderColor = color;\n                }\n            }\n            var path = new Path('', false, centerX, centerY, X1, Y1, cX, cY, startAngle, endAngle, circleRadius, true);\n            var sector = new PathAttributes(this.heatMap.element.id + '_HeatMapRect_' + x, path, tempColor, tempBorder, pathBorderWidth, 1, borderColor);\n            this.calculateShapes(sector, path, sectorContibution, curve);\n            this.drawSvgCanvas.drawPath(sector, path, this.containerRectObject);\n            if (sectorContibution === 360) {\n                break;\n            }\n        }\n    };\n    /**\n     * To Render sector Cell.\n     * @private\n     */\n    Series.prototype.calculateShapes = function (options, path, sectorContibution, curve) {\n        var pathString;\n        var clockWise;\n        switch (sectorContibution) {\n            case 360:\n            case 0:\n                if (sectorContibution === 0 && path.start === path.end) {\n                    pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x + ' ' + (path.y - path.radius);\n                }\n                else {\n                    pathString = !this.heatMap.enableCanvasRendering ? 'M' + ' ' + options.x + ' ' + options.y + ' ' : '';\n                    pathString = pathString + 'm' + ' ' + (-path.radius) + ' ' + '0' + ' ' +\n                        'a' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (path.radius * 2) + ' ' + '0' + ' ' + 'a' + ' ' + path.radius +\n                        ' ' + path.radius + ' ' + '0' + ' ' + '1' + ' ' + '0' +\n                        ' ' + (-(path.radius * 2)) + ' ' + '0' + ' ';\n                }\n                merge(options, { 'd': pathString });\n                break;\n            default:\n                pathString = 'M' + ' ' + options.x + ' ' + options.y + ' ' + 'L' + ' ' + path.x1 + ' ' + path.y1 + ' ' +\n                    'A' + ' ' + path.radius + ' ' + path.radius + ' ' + '0' + ' ' + curve + ' ' + '1' + ' ' +\n                    path.cx + ' ' + path.cy + ' ' + 'Z';\n                merge(options, { 'd': pathString });\n                break;\n        }\n    };\n    /**\n     * To Render Bubble Cell.\n     * @private\n     */\n    Series.prototype.renderBubbleCell = function (bubblePosition, tempBorder, x, color, borderColor, circleRadius) {\n        var circle = new CircleOption(this.heatMap.element.id + '_HeatMapRect_' + x, color, tempBorder, 1, borderColor || this.heatMap.themeStyle.cellBorder, Math.round((bubblePosition.x + (bubblePosition.width / 2)) * 100) / 100, Math.round((bubblePosition.y + (bubblePosition.height / 2)) * 100) / 100, circleRadius);\n        this.drawSvgCanvas.drawCircle(circle, this.containerRectObject);\n    };\n    /**\n     * To find whether the X,Y Label need to display or not.\n     * @private\n     */\n    Series.prototype.updateLabelVisibleStatus = function (tempWidth, tempHeight, displayText) {\n        if (this.heatMap.cellSettings.showLabel) {\n            this.checkLabelYDisplay = tempHeight > parseInt(this.heatMap.cellSettings.textStyle.size, 10) ? true : false;\n            this.checkLabelXDisplay = tempWidth > (displayText.length *\n                (parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2)) ? true : false;\n        }\n    };\n    /**\n     * To find percentage value.\n     * @private\n     */\n    Series.prototype.getRadiusBypercentage = function (text, min, max, radius) {\n        var minimum = parseInt(this.heatMap.cellSettings.bubbleSize.minimum, 10);\n        var maximum = parseInt(this.heatMap.cellSettings.bubbleSize.maximum, 10);\n        if (minimum < 0 || minimum > 100 || isNaN(minimum)) {\n            minimum = 0;\n        }\n        if (maximum < 0 || maximum > 100 || isNaN(maximum)) {\n            maximum = 100;\n        }\n        var valueInPrecentage = ((text - min) /\n            (max - min)) * 100;\n        valueInPrecentage = isNaN(valueInPrecentage) ? 100 : valueInPrecentage;\n        if ((this.heatMap.bubbleSizeWithColor ||\n            (this.heatMap.cellSettings.tileType === 'Bubble' && this.heatMap.cellSettings.bubbleType === 'Size'))) {\n            if (this.heatMap.cellSettings.isInversedBubbleSize) {\n                valueInPrecentage = 100 - valueInPrecentage;\n            }\n            valueInPrecentage = ((valueInPrecentage * (maximum - minimum)) / 100) + minimum;\n        }\n        radius = radius * (valueInPrecentage / 100);\n        return (Math.round(radius * 100) / 100) < 0 ? 0 : (Math.round(radius * 100) / 100);\n    };\n    /**\n     * To find saturated color for datalabel.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getSaturatedColor = function (color) {\n        var saturatedColor = color;\n        saturatedColor = (saturatedColor === 'transparent') ? window.getComputedStyle(document.body, null).backgroundColor : saturatedColor;\n        var rgbValue = convertHexToColor(colorNameToHex(saturatedColor));\n        var contrast = Math.round((rgbValue.R * 299 + rgbValue.G * 587 + rgbValue.B * 114) / 1000);\n        return contrast >= 128 ? 'black' : 'white';\n    };\n    /**\n     * To highlight the mouse hovered rect cell.\n     * @return {void}\n     * @private\n     */\n    Series.prototype.highlightSvgRect = function (tempID) {\n        if (tempID.indexOf('Celltooltip') === -1) {\n            if (tempID.indexOf('_HeatMapRect') !== -1) {\n                if (tempID.indexOf('_HeatMapRectLabels_') !== -1) {\n                    var tempIndex = tempID.indexOf('_HeatMapRectLabels_') + 19;\n                    tempID = this.heatMap.element.id + '_HeatMapRect_' + tempID.slice(tempIndex);\n                }\n                var element = document.getElementById(tempID);\n                if (this.heatMap.tempRectHoverClass !== tempID) {\n                    if (this.heatMap.cellSettings.enableCellHighlighting) {\n                        var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                        if (oldElement && !this.heatMap.rectSelected) {\n                            oldElement.setAttribute('opacity', '1');\n                        }\n                        if (element && !this.heatMap.rectSelected) {\n                            element.setAttribute('opacity', '0.65');\n                        }\n                    }\n                    this.heatMap.tempRectHoverClass = tempID;\n                }\n            }\n            else {\n                if (this.heatMap.cellSettings.enableCellHighlighting) {\n                    var oldElement = document.getElementById(this.heatMap.tempRectHoverClass);\n                    if (oldElement && !this.heatMap.rectSelected) {\n                        oldElement.setAttribute('opacity', '1');\n                        this.heatMap.tempRectHoverClass = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * To get the value depends to format.\n     * @return {string}\n     * @private\n     */\n    Series.prototype.getFormatedText = function (val, getFormat) {\n        var format = getFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = this.heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        var value = '';\n        if (val.toString() !== '') {\n            value = formatValue(isCustom, format, val, this.format);\n        }\n        return value;\n    };\n    /**\n     * To get mouse hovered cell details.\n     * @return {CurrentRect}\n     * @private\n     */\n    Series.prototype.getCurrentRect = function (x, y) {\n        var currentRect;\n        var firstRectDetails = [];\n        firstRectDetails.push(this.heatMap.heatMapSeries.rectPositionCollection[0][0]);\n        var rectX = Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) <\n            this.heatMap.axisCollections[0].axisLabelSize ?\n            Math.ceil((x - firstRectDetails[0].x) / firstRectDetails[0].width) :\n            this.heatMap.axisCollections[0].axisLabelSize;\n        var rectY = Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) <\n            this.heatMap.axisCollections[1].axisLabelSize ?\n            Math.floor(((y - firstRectDetails[0].y) / firstRectDetails[0].height)) :\n            this.heatMap.axisCollections[1].axisLabelSize - 1;\n        rectX = rectX === 0 ? 1 : rectX;\n        currentRect = this.heatMap.heatMapSeries.rectPositionCollection[rectY][rectX - 1];\n        this.hoverXAxisLabel = this.heatMap.axisCollections[0].tooltipLabels[rectX - 1];\n        this.hoverXAxisValue = this.heatMap.axisCollections[0].labelValue[rectX - 1];\n        this.hoverYAxisLabel = this.heatMap.axisCollections[1].tooltipLabels[(this.heatMap.axisCollections[1].tooltipLabels.length - 1) - rectY];\n        this.hoverYAxisValue = this.heatMap.axisCollections[1].labelValue[(this.heatMap.axisCollections[1].labelValue.length - 1) - rectY];\n        return currentRect;\n    };\n    return Series;\n}());\nexport { Series };\n","/**\n * HeatMap tool tip file\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { createElement, Property, Complex, ChildProperty, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\nimport { TooltipBorder, Font, } from '../model/base';\nimport { Theme } from '../model/theme';\n/**\n * Configures the color property in Heatmap.\n */\nvar TooltipSettings = /** @class */ (function (_super) {\n    __extends(TooltipSettings, _super);\n    function TooltipSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], TooltipSettings.prototype, \"fill\", void 0);\n    __decorate([\n        Complex({}, TooltipBorder)\n    ], TooltipSettings.prototype, \"border\", void 0);\n    __decorate([\n        Complex(Theme.tooltipFont, Font)\n    ], TooltipSettings.prototype, \"textStyle\", void 0);\n    return TooltipSettings;\n}(ChildProperty));\nexport { TooltipSettings };\n/**\n *\n * The `Tooltip` module is used to render the tooltip for heatmap series.\n */\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(heatMap) {\n        /* private */\n        this.isFirst = true;\n        /* private */\n        this.isFadeout = false;\n        this.heatMap = heatMap;\n    }\n    /**\n     * Get module name\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'Tooltip';\n    };\n    /**\n     * To show/hide Tooltip.\n     * @private\n     */\n    Tooltip.prototype.showHideTooltip = function (isShow, isFadeout) {\n        var ele = document.getElementById(this.heatMap.element.id + 'Celltooltipcontainer');\n        if (!isShow) {\n            if (ele && ele.style.visibility !== 'hidden') {\n                if (this.tooltipObject && isFadeout) {\n                    this.tooltipObject.fadeOut();\n                }\n                else {\n                    if (this.tooltipObject && this.tooltipObject.element) {\n                        var tooltipElement = this.tooltipObject.element.firstChild;\n                        tooltipElement.setAttribute('opacity', '0');\n                    }\n                }\n                ele.style.visibility = 'hidden';\n            }\n            this.isFadeout = true;\n        }\n        else {\n            ele.style.visibility = 'visible';\n        }\n    };\n    /**\n     * To destroy the Tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.destroy = function (heatMap) {\n        /**\n         * Destroy method performed here\n         */\n    };\n    ;\n    /**\n     * To add Tooltip to the rect cell.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltip = function (x, y, tempTooltipText) {\n        var offset = null;\n        if (this.heatMap.cellSettings.showLabel && this.heatMap.heatMapSeries.checkLabelXDisplay &&\n            this.heatMap.heatMapSeries.checkLabelYDisplay) {\n            offset = parseInt(this.heatMap.cellSettings.textStyle.size, 10) / 2;\n        }\n        this.tooltipObject = new tool({\n            enableAnimation: false,\n            offset: offset,\n            location: { x: x, y: y },\n            theme: this.heatMap.theme,\n            content: tempTooltipText,\n            fill: this.heatMap.tooltipSettings.fill,\n            border: {\n                width: this.heatMap.tooltipSettings.border.width,\n                color: this.heatMap.tooltipSettings.border.color\n            },\n            textStyle: {\n                size: this.heatMap.tooltipSettings.textStyle.size,\n                fontWeight: this.heatMap.tooltipSettings.textStyle.fontWeight,\n                color: this.heatMap.tooltipSettings.textStyle.color,\n                fontStyle: this.heatMap.tooltipSettings.textStyle.fontStyle,\n                fontFamily: this.heatMap.tooltipSettings.textStyle.fontFamily\n            },\n            areaBounds: {\n                height: this.heatMap.initialClipRect.height + this.heatMap.initialClipRect.y,\n                width: this.heatMap.initialClipRect.width, x: this.heatMap.initialClipRect.x\n            },\n        }, '#' + this.heatMap.element.id + 'Celltooltipcontainer');\n    };\n    /**\n     * To create div container for tooltip.\n     * @return {void}\n     * @private\n     */\n    Tooltip.prototype.createTooltipDiv = function (heatMap) {\n        var element2 = createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipcontainer',\n            styles: 'position:absolute; z-index: 3'\n        });\n        this.heatMap.element.appendChild(createElement('div', {\n            id: this.heatMap.element.id + 'Celltooltipparent',\n            styles: 'position:relative'\n        })\n            .appendChild(element2));\n    };\n    /**\n     * To get default tooltip content.\n     * @private\n     */\n    Tooltip.prototype.getTooltipContent = function (currentRect, hetmapSeries) {\n        var value;\n        var content;\n        var heatMap = this.heatMap;\n        var adaptData = this.heatMap.dataSource;\n        if (heatMap.bubbleSizeWithColor) {\n            var xAxis = heatMap.xAxis.title && heatMap.xAxis.title.text !== '' ? heatMap.xAxis.title.text : 'X-Axis';\n            var yAxis = heatMap.yAxis.title && heatMap.yAxis.title.text !== '' ? heatMap.yAxis.title.text : 'Y-Axis';\n            var value1 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.size : 'Value 1';\n            var value2 = adaptData.isJsonData && adaptData.adaptorType === 'Cell' ?\n                heatMap.dataSource.bubbleDataMapping.color : 'Value 2';\n            value = hetmapSeries.getFormatedText(currentRect.value[0].bubbleData, this.heatMap.cellSettings.format);\n            content = [xAxis + ' : ' + hetmapSeries.hoverXAxisLabel + '<br/>'\n                    + yAxis + ' : ' + hetmapSeries.hoverYAxisLabel + '<br/>'\n                    + value1 + ' : ' + value + '<br/>'\n                    + value2 + ' : '\n                    + hetmapSeries.getFormatedText(currentRect.value[1].bubbleData, this.heatMap.cellSettings.format)];\n        }\n        else {\n            value = currentRect.value;\n            content = [hetmapSeries.hoverXAxisLabel + ' | ' + hetmapSeries.hoverYAxisLabel + ' : ' +\n                    hetmapSeries.getFormatedText(value, this.heatMap.cellSettings.format)];\n        }\n        return content;\n    };\n    /**\n     * To render tooltip.\n     * @private\n     */\n    Tooltip.prototype.renderTooltip = function (currentRect) {\n        var hetmapSeries = this.heatMap.heatMapSeries;\n        var tempTooltipText = [''];\n        var showTooltip = this.heatMap.bubbleSizeWithColor ?\n            !isNullOrUndefined(currentRect.value) && !isNullOrUndefined(currentRect.value[0].bubbleData)\n                && currentRect.value[0].bubbleData.toString() !== '' ? true : false\n            : isNullOrUndefined(currentRect.value) || (!isNullOrUndefined(currentRect.value) &&\n                currentRect.value.toString() === '') ? false : true;\n        if (!showTooltip) {\n            this.showHideTooltip(false, false);\n        }\n        else {\n            if (!isNullOrUndefined(this.heatMap.tooltipRender)) {\n                // this.tooltipObject.header = '';\n                // this.tooltipObject.content = this.getTemplateText(\n                //     currentRect, this.heatMap.tooltipTemplate, hetmapSeries.hoverXAxisLabel,\n                //     hetmapSeries.hoverYAxisLabel);\n                var content = this.getTooltipContent(currentRect, hetmapSeries);\n                var argData = {\n                    heatmap: this.heatMap,\n                    cancel: false,\n                    name: 'tooltipRender',\n                    value: currentRect.value,\n                    xValue: this.heatMap.heatMapSeries.hoverXAxisValue,\n                    yValue: this.heatMap.heatMapSeries.hoverYAxisValue,\n                    xLabel: this.heatMap.heatMapSeries.hoverXAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverXAxisLabel.toString() : null,\n                    yLabel: this.heatMap.heatMapSeries.hoverYAxisLabel ?\n                        this.heatMap.heatMapSeries.hoverYAxisLabel.toString() : null,\n                    content: content\n                };\n                this.heatMap.trigger('tooltipRender', argData);\n                if (!argData.cancel) {\n                    tempTooltipText = argData.content;\n                }\n                else {\n                    if (this.tooltipObject) {\n                        this.showHideTooltip(false);\n                    }\n                    return;\n                }\n            }\n            else {\n                //  this.tooltipObject.header = hetmapSeries.hoverYAxisLabel.toString();\n                tempTooltipText = this.getTooltipContent(currentRect, hetmapSeries);\n            }\n            if (!this.tooltipObject) {\n                this.createTooltip(currentRect.x + (currentRect.width / 2), currentRect.y + (currentRect.height / 2), tempTooltipText);\n            }\n            else {\n                this.tooltipObject.content = tempTooltipText;\n            }\n            this.showHideTooltip(true);\n            this.tooltipObject.enableAnimation = (this.isFirst || this.isFadeout) ? false : true;\n            this.isFirst = (this.isFirst) ? false : this.isFirst;\n            this.isFadeout = (this.isFadeout) ? false : this.isFadeout;\n            this.tooltipObject.location.x = currentRect.x + (currentRect.width / 2);\n            this.tooltipObject.location.y = currentRect.y + (currentRect.height / 2);\n        }\n        if (!currentRect.visible) {\n            this.showHideTooltip(false, false);\n        }\n    };\n    return Tooltip;\n}());\nexport { Tooltip };\n","import { extend, isNullOrUndefined } from '@syncfusion/ej2-base';\nvar TwoDimensional = /** @class */ (function () {\n    function TwoDimensional(heatMap) {\n        this.heatMap = heatMap;\n    }\n    /**\n     * To reconstruct proper two dimensional dataSource depends on min and max values.\n     *  @private\n     */\n    TwoDimensional.prototype.processDataSource = function (dataSource) {\n        // tslint:disable-next-line:no-any\n        var tempCloneData = extend([], dataSource, null, true);\n        this.heatMap.clonedDataSource = [];\n        this.completeDataSource = [];\n        var axis = this.heatMap.axisCollections;\n        var dataLength = axis[0].maxLength + 1;\n        var labelLength = axis[0].axisLabelSize + (axis[0].min > 0 ? axis[0].min : 0);\n        var xLength = dataLength > labelLength ? dataLength : labelLength;\n        var minVal;\n        var maxVal;\n        dataLength = axis[1].maxLength + 1;\n        labelLength = axis[1].axisLabelSize + (axis[1].min > 0 ? axis[1].min : 0);\n        var yLength = dataLength > labelLength ? dataLength : labelLength;\n        // tslint:disable-next-line:no-any \n        var tempVariable;\n        var cloneDataIndex = 0;\n        var minMaxDatasource = [];\n        this.tempSizeArray = [];\n        this.tempColorArray = [];\n        this.heatMap.minColorValue = null;\n        this.heatMap.maxColorValue = null;\n        for (var z = axis[1].valueType === 'Category' ? axis[1].min : 0; z < yLength; z++) {\n            var tempIndex = axis[0].valueType === 'Category' ? axis[0].min : 0;\n            this.completeDataSource.push([]);\n            while (tempIndex < xLength) {\n                if (tempIndex >= axis[0].min && tempIndex <= axis[0].max) {\n                    this.processDataArray(tempCloneData, tempIndex, z, cloneDataIndex);\n                }\n                tempIndex++;\n            }\n            tempVariable = extend([], this.completeDataSource[cloneDataIndex], null, true);\n            var minMaxVal = this.getMinMaxValue(minVal, maxVal, tempVariable);\n            minVal = minMaxVal[0];\n            maxVal = minMaxVal[1];\n            if (this.heatMap.xAxis.isInversed) {\n                this.completeDataSource[cloneDataIndex] = this.completeDataSource[cloneDataIndex].reverse();\n            }\n            if (z >= this.heatMap.axisCollections[1].min && z <= this.heatMap.axisCollections[1].max) {\n                minMaxDatasource.push(this.completeDataSource[cloneDataIndex]);\n            }\n            cloneDataIndex++;\n        }\n        if (!this.heatMap.yAxis.isInversed) {\n            this.completeDataSource.reverse();\n            minMaxDatasource.reverse();\n        }\n        this.heatMap.clonedDataSource = minMaxDatasource;\n        this.heatMap.dataSourceMinValue = isNullOrUndefined(minVal) ? 0 : parseFloat(minVal.toString());\n        this.heatMap.dataSourceMaxValue = isNullOrUndefined(maxVal) ? 0 : parseFloat(maxVal.toString());\n        this.heatMap.isColorValueExist = isNullOrUndefined(this.heatMap.minColorValue) ? false : true;\n        this.heatMap.minColorValue = isNullOrUndefined(this.heatMap.minColorValue) ?\n            this.heatMap.dataSourceMinValue : parseFloat(this.heatMap.minColorValue.toString());\n        this.heatMap.maxColorValue = isNullOrUndefined(this.heatMap.maxColorValue) ?\n            this.heatMap.dataSourceMaxValue : parseFloat(this.heatMap.maxColorValue.toString());\n    };\n    /**\n     * To process and create a proper data array.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.processDataArray = function (tempCloneData, tempIndex, z, cloneDataIndex) {\n        if (this.heatMap.bubbleSizeWithColor) {\n            if (tempCloneData[tempIndex] && !isNullOrUndefined(tempCloneData[tempIndex][z])\n                && typeof (tempCloneData[tempIndex][z]) === 'object') {\n                // tslint:disable-next-line:no-any \n                var internalArray = tempCloneData[tempIndex][z];\n                for (var tempx = 0; tempx < internalArray.length; tempx++) {\n                    if (isNullOrUndefined(internalArray[tempx])) {\n                        internalArray[tempx] = '';\n                    }\n                    if (tempx === 0) {\n                        this.tempSizeArray.push(internalArray[tempx]);\n                    }\n                    else if (tempx === 1) {\n                        this.tempColorArray.push(internalArray[tempx]);\n                        break;\n                    }\n                }\n                this.completeDataSource[cloneDataIndex].push(internalArray);\n            }\n            else {\n                if (!isNullOrUndefined(tempCloneData[tempIndex]) && (tempCloneData[tempIndex][z] ||\n                    (tempCloneData[tempIndex][z] === 0 &&\n                        tempCloneData[tempIndex][z].toString() !== ''))) {\n                    this.completeDataSource[cloneDataIndex].push([tempCloneData[tempIndex][z]]);\n                    this.tempSizeArray.push(tempCloneData[tempIndex][z]);\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push('');\n                }\n            }\n        }\n        else {\n            if (tempCloneData[tempIndex] && (tempCloneData[tempIndex][z] ||\n                (tempCloneData[tempIndex][z] === 0 &&\n                    tempCloneData[tempIndex][z].toString() !== ''))) {\n                if (typeof (tempCloneData[tempIndex][z]) === 'object') {\n                    if (tempCloneData[tempIndex][z].length > 0 && !isNullOrUndefined(tempCloneData[tempIndex][z][0])) {\n                        this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z][0]);\n                    }\n                    else {\n                        this.completeDataSource[cloneDataIndex].push('');\n                    }\n                }\n                else {\n                    this.completeDataSource[cloneDataIndex].push(tempCloneData[tempIndex][z]);\n                }\n            }\n            else {\n                this.completeDataSource[cloneDataIndex].push('');\n            }\n        }\n    };\n    /**\n     * To get minimum and maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinMaxValue = function (minVal, maxVal, tempVariable) {\n        var minMaxValue = [];\n        if (this.heatMap.bubbleSizeWithColor) {\n            minMaxValue.push(this.getMinValue(minVal, this.tempSizeArray));\n            minMaxValue.push(this.getMaxValue(maxVal, this.tempSizeArray));\n            this.heatMap.minColorValue = this.getMinValue(this.heatMap.minColorValue, this.tempColorArray);\n            this.heatMap.maxColorValue = this.getMaxValue(this.heatMap.maxColorValue, this.tempColorArray);\n        }\n        else {\n            minMaxValue.push(this.getMinValue(minVal, tempVariable));\n            minMaxValue.push(this.getMaxValue(maxVal, tempVariable));\n        }\n        return minMaxValue;\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMinValue = function (minVal, tempVariable) {\n        if (isNullOrUndefined(minVal)) {\n            minVal = this.performSort(tempVariable);\n        }\n        else if (this.performSort(tempVariable) < minVal) {\n            minVal = this.performSort(tempVariable);\n        }\n        return !isNullOrUndefined(minVal) ? parseFloat(minVal.toString()) : minVal;\n    };\n    /**\n     * To get maximum value\n     *  @private\n     */\n    TwoDimensional.prototype.getMaxValue = function (maxVal, tempVariable) {\n        if (isNullOrUndefined(maxVal) && tempVariable.length > 0) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        else if (Math.max.apply(Math, tempVariable) > maxVal) {\n            maxVal = Math.max.apply(Math, tempVariable);\n        }\n        return !isNullOrUndefined(maxVal) ? parseFloat(maxVal.toString()) : maxVal;\n    };\n    /**\n     * To perform sort operation.\n     *  @private\n     */\n    // tslint:disable-next-line:no-any\n    TwoDimensional.prototype.performSort = function (tempVariable) {\n        return tempVariable.sort(function (a, b) { return a - b; }).filter(this.checkmin)[0];\n    };\n    /**\n     * To get minimum value\n     *  @private\n     */\n    TwoDimensional.prototype.checkmin = function (val) {\n        return !isNullOrUndefined(val) && val.toString() !== '';\n    };\n    return TwoDimensional;\n}());\nexport { TwoDimensional };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Property, ChildProperty, Complex, Browser, createElement, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { DrawSvgCanvas, TextOption, TextBasic, PathOption, Line, LineOption, GradientPointer } from '../utils/helper';\nimport { Size, measureText, getTitle, getElement, CanvasTooltip, formatValue, LegendRange, ToggleVisibility, sum } from '../utils/helper';\nimport { Font } from '../model/base';\nimport { Rect, RectOption, Gradient, GradientColor, showTooltip, stringToNumber, CurrentLegendRect, removeElement } from '../utils/helper';\nimport { Theme } from '../model/theme';\nimport { Tooltip as tool } from '@syncfusion/ej2-svg-base';\n/**\n * Configures the Legend\n */\nvar LegendSettings = /** @class */ (function (_super) {\n    __extends(LegendSettings, _super);\n    function LegendSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"height\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"width\", void 0);\n    __decorate([\n        Property('Right')\n    ], LegendSettings.prototype, \"position\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"visible\", void 0);\n    __decorate([\n        Property('Center')\n    ], LegendSettings.prototype, \"alignment\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showLabel\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"showGradientPointer\", void 0);\n    __decorate([\n        Property(false)\n    ], LegendSettings.prototype, \"enableSmartLegend\", void 0);\n    __decorate([\n        Property('All')\n    ], LegendSettings.prototype, \"labelDisplayType\", void 0);\n    __decorate([\n        Complex(Theme.legendLabelFont, Font)\n    ], LegendSettings.prototype, \"textStyle\", void 0);\n    __decorate([\n        Property('')\n    ], LegendSettings.prototype, \"labelFormat\", void 0);\n    __decorate([\n        Property(true)\n    ], LegendSettings.prototype, \"toggleVisibility\", void 0);\n    return LegendSettings;\n}(ChildProperty));\nexport { LegendSettings };\n/**\n *\n * The `Legend` module is used to render legend for the heatmap.\n */\nvar Legend = /** @class */ (function () {\n    function Legend(heatMap) {\n        this.maxLegendLabelSize = new Size(0, 0);\n        this.gradientScaleSize = 10;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        this.labelCollections = [];\n        this.legendSize = 10;\n        this.previousOptions = new GradientPointer(0, 0, 0, 0, 0, 0);\n        this.listPerPage = 0;\n        this.numberOfPages = 1;\n        this.listWidth = 0;\n        this.fillRect = new Rect(0, 0, 0, 0);\n        this.legendRect = new Rect(0, 0, 0, 0);\n        this.currentPage = 1;\n        this.lastList = [];\n        this.navigationCollections = [];\n        this.pagingRect = new Rect(0, 0, 0, 0);\n        this.listInterval = 10; // padding between two lists\n        this.legendLabelTooltip = [];\n        this.labelXCollections = [];\n        this.labelYCollections = [];\n        this.legendXCollections = [];\n        this.legendYCollections = [];\n        /** @private */\n        this.legendRectPositionCollection = [];\n        /** @private */\n        this.legendRange = [];\n        /** @private */\n        this.legendTextRange = [];\n        /** @private */\n        this.visibilityCollections = [];\n        this.heatMap = heatMap;\n        this.drawSvgCanvas = new DrawSvgCanvas(heatMap);\n    }\n    ;\n    /**\n     * Get module name\n     */\n    Legend.prototype.getModuleName = function () {\n        return 'Legend';\n    };\n    /**\n     * To destroy the Legend.\n     * @return {void}\n     * @private\n     */\n    Legend.prototype.destroy = function (heatMap) {\n        /**\n         * destory code\n         */\n    };\n    ;\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendItems = function () {\n        var heatMap = this.heatMap;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        this.legend = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_Legend' });\n        var rectItems = new RectOption(heatMap.element.id + '_LegendBound', 'none', tempBorder, 1, this.legendGroup);\n        this.drawSvgCanvas.drawRectangle(rectItems, this.legend);\n        var legendBound = this.legendRectScale;\n        var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            var colorCollection = (!heatMap.legendSettings.enableSmartLegend) ?\n                heatMap.colorCollection : heatMap.legendColorCollection;\n            this.legendRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendRange;\n            this.legendTextRange = (heatMap.resizing || (!heatMap.legendOnLoad && heatMap.rendering)) ? [] : this.legendTextRange;\n            heatMap.toggleValue = [];\n            for (var i = 0; i < colorCollection.length; i++) {\n                var visibility = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                heatMap.toggleValue.push(new ToggleVisibility(visibility, colorCollection[i].value));\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend === true)) {\n            if (heatMap.paletteSettings.type === 'Gradient') {\n                var fill = void 0;\n                if (heatMap.enableCanvasRendering) {\n                    var grd = void 0;\n                    var ctx = heatMap.canvasRenderer.ctx;\n                    if (heatMap.horizontalGradient) {\n                        grd = ctx.createLinearGradient(legendBound.x, 0, legendBound.x + legendBound.width, 0);\n                    }\n                    else {\n                        grd = ctx.createLinearGradient(0, legendBound.y, 0, legendBound.y + legendBound.height);\n                    }\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var value = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue));\n                        value = isNaN(value) ? 0 : value;\n                        grd.addColorStop(value, heatMap.legendColorCollection[i].color);\n                    }\n                    ctx.fillStyle = grd;\n                    fill = grd.toString();\n                }\n                else {\n                    var gradientOptions = void 0;\n                    var gradientColor = void 0;\n                    var cgradientColors = [];\n                    for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                        var gradientPercentage = ((heatMap.legendColorCollection[i].value - this.legendMinValue) /\n                            (this.legendMaxValue - this.legendMinValue)) * 100;\n                        gradientPercentage = isNaN(gradientPercentage) ? 0 : gradientPercentage;\n                        gradientColor = new GradientColor(heatMap.legendColorCollection[i].color, gradientPercentage + '%');\n                        cgradientColors.push(gradientColor);\n                        if (this.legendMaxValue === this.legendMinValue) {\n                            break;\n                        }\n                    }\n                    if (heatMap.horizontalGradient) {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '100%', '0%', '0%');\n                    }\n                    else {\n                        gradientOptions = new Gradient(heatMap.element.id + '_lineargradient', '0%', '0%', '0%', '100%');\n                    }\n                    var linearGradient = heatMap.renderer.drawGradient('linearGradient', gradientOptions, cgradientColors);\n                    this.legend.appendChild(linearGradient);\n                    fill = 'url(#' + heatMap.element.id + '_lineargradient)';\n                }\n                var rectItem = new RectOption(heatMap.element.id + '_Gradient_Legend', fill, tempBorder, 1, rectItemsSvg);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                this.renderColorAxisGrid(rectItemsSvg);\n            }\n            else {\n                this.renderSmartLegend();\n            }\n            if (!heatMap.enableCanvasRendering) {\n                heatMap.svgObject.appendChild(this.legend);\n            }\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.legendScale = heatMap.renderer.createGroup({ id: heatMap.element.id + 'Heatmap_GradientScale' });\n            var listRect = new RectOption(heatMap.element.id + '_Gradient_Scale', 'none', tempBorder, 1, this.legendRectScale);\n            this.drawSvgCanvas.drawRectangle(listRect, this.legendScale);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(this.legendScale);\n            }\n            this.translategroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_translate' });\n            this.calculateListPerPage(rectItemsSvg);\n            if (this.numberOfPages > 1) {\n                this.paginggroup = heatMap.renderer.createGroup({ id: heatMap.element.id + '_navigation' });\n            }\n            this.renderListLegendMode(rectItemsSvg, true);\n        }\n    };\n    Legend.prototype.renderSmartLegend = function () {\n        var heatMap = this.heatMap;\n        var colorCollection = heatMap.colorCollection;\n        var smartLegendRect;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var legendBound = this.legendRectScale;\n        var legendX;\n        var legendY;\n        var legendWidth;\n        var legendHeight;\n        var width = legendBound.width / colorCollection.length;\n        var height = legendBound.height / colorCollection.length;\n        this.legendRectPositionCollection = [];\n        this.legendRange = [];\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            var rectPosition = new CurrentLegendRect(0, 0, 0, 0, '', '');\n            if (heatMap.horizontalGradient) {\n                legendX = legendBound.x + (i * width);\n                legendY = legendBound.y;\n                legendWidth = width;\n                legendHeight = legendBound.height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendX + width : legendX);\n            }\n            else {\n                legendX = legendBound.x;\n                legendY = legendBound.y + (i * height);\n                legendWidth = legendBound.width;\n                legendHeight = height;\n                this.segmentCollections.push((heatMap.legendSettings.labelDisplayType === 'Edge' &&\n                    i === heatMap.legendColorCollection.length - 1 && !heatMap.legendColorCollection[i].isHidden) ?\n                    legendY + height : legendY);\n            }\n            smartLegendRect = new Rect(legendX, legendY, legendWidth, legendHeight);\n            var legendRange = new LegendRange(0, 0, 0, 0, 0, true, 0);\n            legendRange.x = legendX;\n            legendRange.y = legendY;\n            legendRange.width = legendWidth;\n            legendRange.height = legendHeight;\n            legendRange.value = heatMap.legendColorCollection[i].value;\n            legendRange.currentPage = this.currentPage;\n            if (colorCollection.length !== heatMap.legendColorCollection.length && i === heatMap.legendColorCollection.length - 1) {\n                heatMap.horizontalGradient ? legendRange.width = 0 : legendRange.height = 0;\n                this.visibilityCollections[i] = this.visibilityCollections[i - 1];\n            }\n            legendRange.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n            this.legendRange.push(legendRange);\n            if (!heatMap.legendColorCollection[i].isHidden) {\n                var color = heatMap.legendOnLoad ? colorCollection[i].color :\n                    this.legendRange[i].visible ? colorCollection[i].color : '#D3D3D3';\n                var rectItem = new RectOption(heatMap.element.id + '_Smart_Legend' + i, color, tempBorder, 1, smartLegendRect);\n                this.drawSvgCanvas.drawRectangle(rectItem, this.legend);\n                rectPosition.x = legendX;\n                rectPosition.y = legendY;\n                rectPosition.width = legendWidth;\n                rectPosition.height = legendHeight;\n                rectPosition.label = this.labelCollections[i];\n                rectPosition.id = heatMap.element.id + '_Smart_Legend' + i;\n                this.legendRectPositionCollection.push(rectPosition);\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, this.textWrapCollections[i]);\n                if (text.length !== 0 && heatMap.enableCanvasRendering) {\n                    var elementSize = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(rectPosition.x, rectPosition.y, elementSize.width, elementSize.height)));\n                }\n            }\n        }\n    };\n    Legend.prototype.renderLegendLabel = function (rect) {\n        var heatMap = this.heatMap;\n        this.legendTextRange = [];\n        if (heatMap.legendSettings.showLabel && (heatMap.paletteSettings.type === 'Gradient' ||\n            (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.labelDisplayType !== 'None'))) {\n            var anchor = void 0;\n            var dominantBaseline = void 0;\n            var legendLabel = void 0;\n            var textWrapWidth = 0;\n            var text = void 0;\n            this.legendLabelTooltip = [];\n            var elementSize = void 0;\n            var colorCollection = heatMap.legendColorCollection;\n            if (heatMap.enableCanvasRendering) {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.rect(this.legendGroup.x, this.legendGroup.y, this.legendGroup.width, this.legendGroup.height);\n                ctx.save();\n                ctx.clip();\n                ctx.restore();\n            }\n            else {\n                legendLabel = heatMap.renderer.createGroup({ id: heatMap.element.id + '_Heatmap_LegendLabel' });\n            }\n            var labelX = void 0;\n            var labelY = void 0;\n            for (var i = 0; i < colorCollection.length; i++) {\n                var value = ((colorCollection[i].value - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                if (heatMap.horizontalGradient) {\n                    labelX = this.segmentCollections[i];\n                    labelY = rect.y + rect.height + this.labelPadding;\n                    anchor = (value === 0 || (i === 0 && heatMap.paletteSettings.type === 'Fixed')) ? 'start' :\n                        (heatMap.dataSourceMaxValue === colorCollection[i].value) || (heatMap.legendSettings.enableSmartLegend &&\n                            heatMap.legendSettings.labelDisplayType === 'Edge') ? 'end' : 'middle';\n                    dominantBaseline = 'hanging';\n                }\n                else {\n                    labelX = rect.x + rect.width + this.labelPadding;\n                    labelY = this.segmentCollections[i];\n                    dominantBaseline = (value === 0 || (i === 0 && heatMap.paletteSettings.type === 'Fixed')) ? 'hanging' :\n                        (heatMap.dataSourceMaxValue === colorCollection[i].value) || (heatMap.legendSettings.enableSmartLegend &&\n                            heatMap.legendSettings.labelDisplayType === 'Edge') ? 'baseline' : 'middle';\n                }\n                textWrapWidth = heatMap.horizontalGradient ? this.textWrapCollections[i] : this.width - (this.legendRectScale.width +\n                    this.labelPadding + this.legendRectPadding);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                elementSize = measureText(text[0], heatMap.legendSettings.textStyle);\n                if (heatMap.paletteSettings.type === 'Fixed') {\n                    var rectY = dominantBaseline === 'hanging' ? labelY : dominantBaseline === 'middle' ?\n                        labelY - elementSize.height / 2 : labelY - elementSize.height;\n                    var rectX = anchor === 'end' ? labelX - elementSize.width : anchor === 'middle' ?\n                        labelX - elementSize.width / 2 : labelX;\n                    var textPosition = new LegendRange(rectX, rectY, elementSize.width, elementSize.height, colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n                if (this.labelCollections[i] !== '') {\n                    if (text.length !== 0 && text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                        this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, elementSize.width, elementSize.height)));\n                    }\n                    var textBasic = new TextBasic(labelX, labelY, anchor, text, 0, 'translate(0,0)', dominantBaseline);\n                    var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                    options.fill = heatMap.legendOnLoad ? options.fill :\n                        (heatMap.paletteSettings.type === 'Fixed' && !this.legendRange[i].visible) ? '#D3D3D3' : options.fill;\n                    if (text.length > 1) {\n                        this.drawSvgCanvas.createWrapText(options, heatMap.legendSettings.textStyle, legendLabel);\n                    }\n                    else {\n                        this.drawSvgCanvas.createText(options, legendLabel, text[0]);\n                    }\n                    if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                        if (dominantBaseline === 'middle') {\n                            legendLabel.lastChild.setAttribute('dy', '0.6ex');\n                        }\n                        else if (dominantBaseline === 'hanging') {\n                            legendLabel.lastChild.setAttribute('dy', '1.5ex');\n                        }\n                    }\n                }\n                if (this.legendMaxValue === this.legendMinValue && heatMap.paletteSettings.type === 'Gradient') {\n                    break;\n                }\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n                this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n                this.legend.appendChild(legendLabel);\n                var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_clipPath' });\n                var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n                clippath.appendChild(clipRect);\n                heatMap.svgObject.appendChild(clippath);\n                this.legend.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderGradientPointer = function (e, pageX, pageY) {\n        var heatMap = this.heatMap;\n        var currentRect = heatMap.heatMapSeries.getCurrentRect(pageX, pageY);\n        var cellValue = heatMap.bubbleSizeWithColor ? currentRect.value[0].bubbleData.toString() !== '' ?\n            !this.heatMap.isColorValueExist ? currentRect.value[0].bubbleData.toString() :\n                currentRect.value[1].bubbleData.toString() : '' : currentRect.value.toString();\n        var rect = this.legendRectScale;\n        var legendPart;\n        var direction;\n        var options;\n        var legendPath;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        var pathX3;\n        var pathY3;\n        if (cellValue.toString() !== '') {\n            if (!heatMap.horizontalGradient) {\n                legendPart = rect.height / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x - 1;\n                pathY1 = rect.y + legendPath;\n                pathX2 = pathX3 = rect.x - 8;\n                pathY2 = rect.y - 5 + legendPath;\n                pathY3 = rect.y + 5 + legendPath;\n            }\n            else {\n                legendPart = rect.width / 100;\n                legendPath = legendPart * ((Number(cellValue) - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                legendPath = isNaN(legendPath) ? 0 : legendPath;\n                pathX1 = rect.x + legendPath;\n                pathY1 = rect.y + rect.height;\n                pathX2 = rect.x - 5 + legendPath;\n                pathY2 = pathY3 = rect.y + rect.height + 8;\n                pathX3 = rect.x + 5 + legendPath;\n            }\n            direction = 'M' + ' ' + pathX1 + ' ' + pathY1 + ' ' +\n                'L' + ' ' + pathX2 + ' ' + pathY2 + ' ' + 'L' + ' ' + pathX3 + ' ' + pathY3 + ' ' + 'Z';\n            options = new PathOption(heatMap.element.id + '_Gradient_Pointer', 'gray', 0.01, '#A0A0A0', 1, '0,0', direction);\n            if (!heatMap.enableCanvasRendering) {\n                this.gradientPointer = heatMap.renderer.drawPath(options);\n                this.gradientPointer.style.visibility = 'visible';\n                this.legend.appendChild(this.gradientPointer);\n            }\n            else {\n                this.removeGradientPointer();\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(options, canvasTranslate);\n                this.previousOptions.pathX1 = pathX1;\n                this.previousOptions.pathY1 = pathY1;\n                this.previousOptions.pathX2 = pathX2;\n                this.previousOptions.pathY2 = pathY2;\n                this.previousOptions.pathX3 = pathX3;\n                this.previousOptions.pathY3 = pathY3;\n            }\n        }\n        else {\n            this.removeGradientPointer();\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.removeGradientPointer = function () {\n        var heatMap = this.heatMap;\n        if (this.gradientPointer && !heatMap.enableCanvasRendering) {\n            this.gradientPointer.style.visibility = 'hidden';\n        }\n        else if (heatMap.enableCanvasRendering) {\n            if (Object.keys(this.previousOptions).length !== 0) {\n                if (heatMap.horizontalGradient) {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY1;\n                    this.fillRect.width = this.previousOptions.pathX3 - this.previousOptions.pathX2 + 2;\n                    this.fillRect.height = this.previousOptions.pathY2 + 1 - this.previousOptions.pathY1;\n                }\n                else {\n                    this.fillRect.x = this.previousOptions.pathX2 - 1;\n                    this.fillRect.y = this.previousOptions.pathY2 - 1;\n                    this.fillRect.width = this.previousOptions.pathX1 - this.previousOptions.pathX2 + 1;\n                    this.fillRect.height = this.previousOptions.pathY3 - this.previousOptions.pathY2 + 2;\n                }\n            }\n            heatMap.canvasRenderer.ctx.fillStyle = heatMap.themeStyle.background;\n            heatMap.canvasRenderer.ctx.fillRect(this.fillRect.x, this.fillRect.y, this.fillRect.width, this.fillRect.height);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var colorCollection = heatMap.legendColorCollection;\n        this.labelCollections = [];\n        if (legendSettings.position !== 'Bottom' && legendSettings.position !== 'Top' &&\n            legendSettings.position !== 'Right' && legendSettings.position !== 'Left') {\n            legendSettings.position = 'Right';\n        }\n        heatMap.horizontalGradient = legendSettings.position === 'Bottom' || legendSettings.position === 'Top';\n        this.legendRectPadding = heatMap.horizontalGradient ? 16 : 10; // padding between rect and legend\n        this.labelPadding = legendSettings.showLabel ? this.heatMap.horizontalGradient ? 10 : 6 : 0; // padding between list and label\n        this.legendHeight = legendSettings.height;\n        this.legendWidth = legendSettings.width;\n        var format = heatMap.legendSettings.labelFormat;\n        var isCustom = format.match('{value}') !== null;\n        this.format = heatMap.intl.getNumberFormat({\n            format: isCustom ? '' : format\n        });\n        if (heatMap.paletteSettings.type === 'Fixed') {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].label ? colorCollection[i].label :\n                    formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                if (heatMap.legendSettings.enableSmartLegend && heatMap.legendSettings.labelDisplayType === 'Edge'\n                    && i > 0 && i < colorCollection.length - 1) {\n                    this.labelCollections.push('');\n                }\n                else {\n                    this.labelCollections.push(label);\n                }\n            }\n        }\n        else {\n            for (var i = 0; i < colorCollection.length; i++) {\n                var label = colorCollection[i].isHidden ? '' : colorCollection[i].label ?\n                    colorCollection[i].label : formatValue(isCustom, format, colorCollection[i].value, this.format).toString();\n                this.labelCollections.push(label);\n            }\n        }\n        if (heatMap.paletteSettings.type === 'Gradient' || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend)) {\n            this.maxLegendLabelSize = this.getMaxLabelSize();\n            if (heatMap.horizontalGradient && legendSettings.height === '') {\n                this.legendHeight = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.height).toString();\n            }\n            else if (!heatMap.horizontalGradient && legendSettings.width === '' && (legendSettings.textStyle.textOverflow === 'None' ||\n                (heatMap.paletteSettings.type === 'Fixed' && heatMap.legendSettings.enableSmartLegend &&\n                    heatMap.legendSettings.labelDisplayType === 'None'))) {\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.maxLegendLabelSize.width).toString();\n            }\n        }\n        else {\n            this.calculateListLegendBounds(rect);\n        }\n        this.legendHeight = this.legendHeight ? this.legendHeight : heatMap.horizontalGradient ? '50' : '100%';\n        this.legendWidth = this.legendWidth ? this.legendWidth : heatMap.horizontalGradient ?\n            '100%' : heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ? '70' : '50';\n        this.height = stringToNumber(this.legendHeight, rect.height);\n        this.width = stringToNumber(this.legendWidth, rect.width);\n        if (heatMap.horizontalGradient) {\n            this.height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.height < 50 ? 50 : this.height : this.height;\n            if (legendSettings.position === 'Top') {\n                rect.y += this.height;\n            }\n            rect.height -= this.height;\n        }\n        else {\n            this.width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                this.width < 50 ? 50 : this.width : this.width;\n            if (legendSettings.position === 'Left') {\n                rect.x += this.width;\n            }\n            rect.width -= this.width;\n        }\n    };\n    Legend.prototype.calculateListLegendBounds = function (rect) {\n        var heatMap = this.heatMap;\n        this.listWidth = 0;\n        this.listHeight = 0;\n        this.currentPage = 1;\n        var padding = 10; // padding of paging elements\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < heatMap.colorCollection.length; i++) {\n                var size = 0;\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                var perListWidth = this.legendSize + this.labelPadding + size + this.listInterval;\n                this.listWidth += perListWidth;\n            }\n            this.listWidth += this.listInterval + padding;\n            if (this.legendWidth === '') {\n                this.legendWidth = this.listWidth > rect.width ? rect.width.toString() : this.listWidth.toString();\n            }\n            if (this.legendHeight === '') {\n                this.numberOfRows = Math.ceil(this.listWidth / stringToNumber(this.legendWidth, rect.width));\n                this.numberOfRows = this.numberOfRows > 3 ? 3 : this.numberOfRows;\n                this.legendHeight = (this.listWidth > rect.width || this.listWidth > stringToNumber(this.legendWidth, rect.width)) &&\n                    this.numberOfRows > 3 ? (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding +\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) + padding).toString() :\n                    (((this.legendSize + this.listInterval) * this.numberOfRows) + this.legendRectPadding).toString();\n            }\n        }\n        else {\n            this.listHeight = ((this.legendSize + this.listInterval) * heatMap.colorCollection.length) + this.listInterval;\n            if (this.legendHeight === '') {\n                this.legendHeight = this.listHeight > rect.height ? rect.height.toString() : this.listHeight.toString();\n            }\n            if (this.legendWidth === '' && heatMap.legendSettings.textStyle.textOverflow !== 'Trim') {\n                this.maxLegendLabelSize = this.getMaxLabelSize();\n                this.legendWidth = ((2 * this.legendRectPadding) + this.legendSize + this.labelPadding +\n                    this.maxLegendLabelSize.width).toString();\n            }\n        }\n        if (stringToNumber(this.legendHeight, rect.height) < 50) {\n            this.legendHeight = '50';\n        }\n        if (stringToNumber(this.legendWidth, rect.width) < 70) {\n            this.legendWidth = '70';\n        }\n    };\n    Legend.prototype.getMaxLabelSize = function () {\n        var heatMap = this.heatMap;\n        this.maxLegendLabelSize = new Size(0, 0);\n        if (!heatMap.legendSettings.showLabel || (heatMap.horizontalGradient && heatMap.paletteSettings.type === 'Fixed' &&\n            !heatMap.legendSettings.enableSmartLegend) || (heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.labelDisplayType === 'None')) {\n            return this.maxLegendLabelSize;\n        }\n        else {\n            var labelSize = this.maxLegendLabelSize;\n            for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n                var size = measureText(this.labelCollections[i], heatMap.legendSettings.textStyle);\n                labelSize.width = (labelSize.width > size.width) ? labelSize.width : size.width;\n                labelSize.height = (labelSize.height > size.height) ? labelSize.height : size.height;\n            }\n            return labelSize;\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.calculateLegendSize = function (rect, legendTop) {\n        var heatMap = this.heatMap;\n        var legendSettings = heatMap.legendSettings;\n        var left;\n        var top;\n        var padding = 10; // inner padding for axis title and axil labels\n        var alignment = legendSettings.alignment;\n        var height = stringToNumber(this.legendHeight, rect.height);\n        var width = stringToNumber(this.legendWidth, rect.width);\n        var axis = heatMap.axisCollections;\n        var axisTitlePadding = 0;\n        if (heatMap.horizontalGradient) {\n            width = width > rect.width ? rect.width : width;\n            height = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                height > 50 ? height : 50 : this.height;\n            left = alignment === 'Near' ? rect.x : alignment === 'Far' ? rect.x + rect.width - width :\n                rect.x + (rect.width / 2) - (width / 2);\n            if (heatMap.xAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.xAxis.title.text, heatMap.xAxis.textStyle).height + padding;\n            }\n            var axisHeight = axis[0].opposedPosition ? 0 : sum(axis[0].xAxisMultiLabelHeight) + axis[0].maxLabelSize.height +\n                axisTitlePadding + padding;\n            top = legendSettings.position === 'Top' ? heatMap.titleSettings.text ? legendTop :\n                heatMap.margin.top : rect.y + rect.height + axisHeight;\n        }\n        else {\n            height = height > rect.height ? rect.height : height;\n            width = heatMap.paletteSettings.type === 'Gradient' || heatMap.legendSettings.enableSmartLegend ?\n                width > 50 ? width : 50 : width;\n            top = alignment === 'Near' ? rect.y : alignment === 'Far' ? rect.y + rect.height - height :\n                rect.y + (rect.height / 2) - (height / 2);\n            if (heatMap.yAxis.title.text !== '') {\n                axisTitlePadding = measureText(heatMap.yAxis.title.text, heatMap.yAxis.textStyle).height + padding;\n            }\n            var axisWidth = axis[1].opposedPosition ? sum(axis[1].yAxisMultiLabelHeight) +\n                axis[1].maxLabelSize.width + axisTitlePadding + 2 * padding : 0;\n            left = legendSettings.position === 'Right' ? rect.x + rect.width + axisWidth : heatMap.margin.left;\n        }\n        this.legendGroup = new Rect(left, top, width, height);\n        this.calculateGradientScale(this.legendGroup);\n    };\n    // calculating number of lists per page\n    Legend.prototype.measureListLegendBound = function (rect) {\n        var heatMap = this.heatMap;\n        var padding = 15; // padding of paging element\n        this.numberOfPages = 1;\n        if (heatMap.horizontalGradient) {\n            if (this.listWidth > this.width) {\n                this.numberOfRows = Math.ceil(this.listWidth / this.width);\n                this.listHeight = ((this.legendSize + this.listInterval) * this.numberOfRows);\n                this.listPerPage = this.numberOfRows <= 3 ? this.numberOfRows : Math.ceil((this.height - padding -\n                    parseInt(heatMap.legendSettings.textStyle.size, 10) -\n                    this.legendRectPadding) / (this.legendSize + this.listInterval));\n                this.numberOfPages = Math.ceil(this.numberOfRows / this.listPerPage);\n            }\n            else {\n                this.listPerPage = 1;\n            }\n        }\n        else {\n            if (this.listHeight > rect.height || this.listHeight > this.height) {\n                var maxHeight = stringToNumber(this.legendHeight, rect.height);\n                maxHeight = maxHeight > rect.height ? rect.height : maxHeight;\n                this.listPerPage = Math.floor(maxHeight / (this.legendSize + this.listInterval) - 1);\n                this.numberOfPages = Math.max(1, Math.ceil(heatMap.colorCollection.length / this.listPerPage));\n            }\n            else {\n                this.listPerPage = heatMap.colorCollection.length;\n                this.legendHeight = this.listHeight.toString();\n            }\n        }\n    };\n    Legend.prototype.renderPagingElements = function () {\n        var heatMap = this.heatMap;\n        if (this.numberOfPages > 1) {\n            this.navigationCollections = [];\n            this.legend.appendChild(this.paginggroup);\n            var iconSize = 10;\n            var rightArrowX = this.legendGroup.x + this.legendGroup.width - iconSize;\n            var rightArrowY = this.legendGroup.y + this.legendGroup.height - iconSize;\n            var text = this.currentPage + '/' + this.numberOfPages;\n            var textSize = measureText(text, heatMap.legendSettings.textStyle);\n            var textX = rightArrowX - textSize.width - 15;\n            var textBasic = new TextBasic(textX, rightArrowY, 'start', text, 0, 'translate(0,0)', 'middle');\n            var options = new TextOption(heatMap.element.id + '_paging', textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n            this.drawSvgCanvas.createText(options, this.paginggroup, text);\n            if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                this.paginggroup.lastChild.setAttribute('dy', '0.6ex');\n            }\n            this.pagingRect = new Rect(textX, rightArrowY - textSize.height / 2, textSize.width, textSize.height);\n            var pagingTextRect = new RectOption(heatMap.element.id + '_pagingText', 'none', { color: 'transparent', width: 0 }, 1, this.pagingRect);\n            this.drawSvgCanvas.drawRectangle(pagingTextRect, this.paginggroup);\n            var rightArrowRect = new RectOption(heatMap.element.id + '_rightArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(rightArrowX - iconSize, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(rightArrowRect, this.paginggroup);\n            var rightArrow = 'M' + ' ' + (rightArrowX) + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (rightArrowX - iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (rightArrowX - iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftX = textX - 15;\n            var leftArrow = 'M' + ' ' + leftX + ' ' + rightArrowY + ' ' +\n                'L' + ' ' + (leftX + iconSize) + ' ' + (rightArrowY - iconSize / 2) + ' ' + 'L' + ' ' +\n                (leftX + iconSize) + ' ' + (rightArrowY + (iconSize / 2)) + 'Z';\n            var leftArrowRect = new RectOption(heatMap.element.id + '_leftArrow', 'none', { color: 'transparent', width: 0 }, 1, new Rect(leftX, rightArrowY - iconSize / 2, iconSize, iconSize));\n            this.drawSvgCanvas.drawRectangle(leftArrowRect, this.paginggroup);\n            var leftOption = new PathOption(heatMap.element.id + '_Legend_leftarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', leftArrow);\n            var rightOption = new PathOption(heatMap.element.id + '_Legend_rightarrow', 'gray', 0.01, '#A0A0A0', 1, '0,0', rightArrow);\n            this.navigationCollections.push(rightArrowRect);\n            this.navigationCollections.push(leftArrowRect);\n            if (!heatMap.enableCanvasRendering) {\n                var arrow = heatMap.renderer.drawPath(leftOption);\n                var rightarrow = heatMap.renderer.drawPath(rightOption);\n                this.paginggroup.appendChild(arrow);\n                this.paginggroup.appendChild(rightarrow);\n            }\n            else {\n                var canvasTranslate = void 0;\n                heatMap.canvasRenderer.drawPath(leftOption, canvasTranslate);\n                heatMap.canvasRenderer.drawPath(rightOption, canvasTranslate);\n            }\n        }\n    };\n    Legend.prototype.calculateGradientScale = function (scale) {\n        var heatMap = this.heatMap;\n        var padding = 10; // padding between legend bounds and gradient scale\n        var left;\n        var top;\n        var height;\n        var width;\n        if (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) {\n            this.measureListLegendBound(heatMap.initialClipRect);\n        }\n        if (heatMap.horizontalGradient) {\n            left = scale.x + padding;\n            top = scale.y + this.legendRectPadding;\n            width = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                scale.width - (2 * this.listInterval) : scale.width - 2 * padding;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : this.gradientScaleSize;\n        }\n        else {\n            left = scale.x + this.legendRectPadding;\n            top = scale.y + padding;\n            width = (heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend) ?\n                scale.width - padding : this.gradientScaleSize;\n            height = heatMap.paletteSettings.type === 'Fixed' && !heatMap.legendSettings.enableSmartLegend ?\n                (this.legendSize + this.listInterval) * this.listPerPage - this.listInterval : scale.height - 2 * padding;\n        }\n        this.legendRectScale = new Rect(left, top, width, height);\n        if (heatMap.paletteSettings.type === 'Gradient' || heatMap.paletteSettings.type === 'Fixed' &&\n            heatMap.legendSettings.enableSmartLegend) {\n            this.calculateColorAxisGrid(this.legendRectScale);\n        }\n    };\n    Legend.prototype.calculateColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var rect = this.legendRectScale;\n        var legendPart;\n        var text;\n        var maxTextWrapLength = 0;\n        this.segmentCollections = [];\n        this.textWrapCollections = [];\n        var pathX1;\n        var pathY1;\n        var colorCollection = heatMap.paletteSettings.type === 'Gradient' ?\n            heatMap.legendColorCollection : heatMap.colorCollection;\n        var minValue = heatMap.bubbleSizeWithColor ? heatMap.minColorValue : heatMap.dataSourceMinValue;\n        var maxValue = heatMap.bubbleSizeWithColor ? heatMap.maxColorValue : heatMap.dataSourceMaxValue;\n        this.legendMinValue = colorCollection[0].value > minValue ? minValue : colorCollection[0].value;\n        this.legendMaxValue = colorCollection[colorCollection.length - 1].value < maxValue ? maxValue :\n            colorCollection[colorCollection.length - 1].value;\n        if (heatMap.paletteSettings.type === 'Gradient') {\n            for (var index = 0; index < colorCollection.length; index++) {\n                var value = ((colorCollection[index].value - this.legendMinValue) /\n                    (this.legendMaxValue - this.legendMinValue)) * 100;\n                value = isNaN(value) ? 0 : value;\n                if (!heatMap.horizontalGradient) {\n                    legendPart = rect.height / 100;\n                    pathY1 = legendRect.y + (legendPart * value);\n                    this.segmentCollections.push(pathY1);\n                }\n                else {\n                    legendPart = rect.width / 100;\n                    pathX1 = legendRect.x + (legendPart * value);\n                    this.segmentCollections.push(pathX1);\n                }\n            }\n        }\n        var textWrapWidth;\n        if (heatMap.horizontalGradient) {\n            for (var i = 0; i < colorCollection.length; i++) {\n                if (heatMap.paletteSettings.type === 'Gradient') {\n                    var previousSegmentWidth = (this.segmentCollections[i] - this.segmentCollections[i - 1]) / 2;\n                    var nextSegmentWidth = (this.segmentCollections[i + 1] - this.segmentCollections[i]) / 2;\n                    if (i === colorCollection.length - 1) {\n                        textWrapWidth = previousSegmentWidth;\n                    }\n                    else if (i === 0) {\n                        textWrapWidth = nextSegmentWidth;\n                    }\n                    else {\n                        textWrapWidth = previousSegmentWidth < nextSegmentWidth ? previousSegmentWidth : nextSegmentWidth;\n                    }\n                }\n                else {\n                    var width = this.legendRectScale.width / heatMap.colorCollection.length;\n                    textWrapWidth = heatMap.legendSettings.labelDisplayType === 'Edge' ? width : width / 2;\n                }\n                this.textWrapCollections.push(textWrapWidth);\n                text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                maxTextWrapLength = text.length > maxTextWrapLength ? text.length : maxTextWrapLength;\n            }\n            if (heatMap.legendSettings.position === 'Bottom') {\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendGroup.y -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n            else {\n                heatMap.initialClipRect.y += (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                heatMap.initialClipRect.height -= (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n                this.legendRectScale.y = this.legendGroup.y + this.legendRectPadding;\n                this.legendGroup.height = parseInt(this.legendHeight, 10) + (this.maxLegendLabelSize.height * (maxTextWrapLength - 1));\n            }\n        }\n    };\n    Legend.prototype.renderColorAxisGrid = function (legendRect) {\n        var heatMap = this.heatMap;\n        var legendElement;\n        var pathX1;\n        var pathY1;\n        var pathX2;\n        var pathY2;\n        if (!heatMap.enableCanvasRendering) {\n            legendElement = this.heatMap.renderer.createGroup({ id: heatMap.element.id + '_ColorAxis_Grid' });\n        }\n        for (var i = 0; i < heatMap.legendColorCollection.length; i++) {\n            if (!heatMap.horizontalGradient) {\n                pathX1 = legendRect.x;\n                pathY1 = pathY2 = this.segmentCollections[i];\n                pathX2 = legendRect.x + legendRect.width;\n            }\n            else {\n                pathX1 = pathX2 = this.segmentCollections[i];\n                pathY1 = legendRect.y;\n                pathY2 = legendRect.y + legendRect.height;\n            }\n            var direction = new Line(pathX1, pathY1, pathX2, pathY2);\n            var line = new LineOption(this.heatMap.element.id + '_ColorAxis_Grid' + i, direction, '#EEEEEE', 1);\n            this.drawSvgCanvas.drawLine(line, legendElement);\n            if (!heatMap.enableCanvasRendering) {\n                this.legend.appendChild(legendElement);\n            }\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.renderLegendLabelTooltip = function (e) {\n        var x = this.heatMap.mouseX;\n        var y = this.heatMap.mouseY;\n        if (e.target.id.indexOf('_Legend_Label') !== -1 && event.target.textContent.indexOf('...') > -1) {\n            var targetId = event.target.id.split(this.heatMap.element.id + '_Legend_Label');\n            if (targetId.length === 2) {\n                var index = void 0;\n                if (targetId[1].length === 1 || this.heatMap.legendSettings.textStyle.textOverflow === 'Trim') {\n                    index = parseInt(targetId[1], 10);\n                }\n                else {\n                    index = parseInt(targetId[1].substring(0, targetId[1].length - 1), 10);\n                }\n                showTooltip(this.labelCollections[index], x, y, this.heatMap.element.offsetWidth, this.heatMap.element.id + '_LegendLabel_Tooltip', getElement(this.heatMap.element.id + '_Secondary_Element'), null, this.heatMap);\n                document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip').style.visibility = 'visible';\n            }\n        }\n        else {\n            var element = document.getElementById(this.heatMap.element.id + '_LegendLabel_Tooltip');\n            if (element) {\n                element.style.visibility = 'hidden';\n            }\n        }\n    };\n    Legend.prototype.calculateListPerPage = function (rect) {\n        var heatMap = this.heatMap;\n        if (heatMap.horizontalGradient) {\n            this.lastList = [];\n            var legendX = rect.x;\n            var legendY = rect.y;\n            var size = 0;\n            var division = 0;\n            var labelX = 0;\n            var labelY = 0;\n            var interval = 20;\n            var i = void 0;\n            var legendSize = 10;\n            var padding = 5;\n            this.labelXCollections = [];\n            this.labelYCollections = [];\n            this.legendXCollections = [];\n            this.legendYCollections = [];\n            for (i = 0; i < heatMap.colorCollection.length; i++) {\n                if (heatMap.legendSettings.showLabel) {\n                    var text = this.labelCollections[i];\n                    size = measureText(text, heatMap.legendSettings.textStyle).width;\n                }\n                labelX = legendX + legendSize + padding;\n                labelY = legendY + padding;\n                var maxWidth = heatMap.legendSettings.showLabel ? labelX + size : legendX + this.legendSize + this.listInterval;\n                if (i !== 0 && maxWidth > this.legendGroup.width + this.legendGroup.x - this.listInterval) {\n                    division += 1;\n                    legendX = rect.x;\n                    legendY = rect.y + (division * interval);\n                    labelX = legendX + legendSize + padding;\n                    labelY = legendY + padding;\n                    if (division % (this.listPerPage) === 0) {\n                        this.lastList.push(i);\n                        legendY = rect.y;\n                        labelY = legendY + padding;\n                        division = 0;\n                    }\n                }\n                this.labelXCollections.push(labelX);\n                this.labelYCollections.push(labelY);\n                this.legendXCollections.push(legendX);\n                this.legendYCollections.push(legendY);\n                legendX = legendX + this.legendSize + this.labelPadding + size + this.listInterval;\n            }\n            this.lastList.push(i);\n            this.numberOfPages = this.lastList.length;\n        }\n    };\n    Legend.prototype.renderListLegendMode = function (rect, translate) {\n        var heatMap = this.heatMap;\n        var legendSize = 10;\n        var tempBorder = {\n            color: 'transparent',\n            width: 0,\n        };\n        var padding = 5; // padding for legend label from top\n        this.legendLabelTooltip = [];\n        var listRect;\n        var size = new Size(0, 0);\n        var division = 0;\n        var labelX = 0;\n        var labelY = 0;\n        var legendX = rect.x;\n        var legendY = rect.y;\n        if (translate) {\n            this.renderPagingElements();\n        }\n        var x;\n        var y;\n        var textWrapWidth = this.legendGroup.width - (this.legendSize +\n            this.legendRectPadding + this.labelPadding);\n        if (!heatMap.horizontalGradient) {\n            x = (this.currentPage * (this.listPerPage)) - (this.listPerPage);\n            y = x + this.listPerPage;\n            y = y < heatMap.colorCollection.length ? y : heatMap.colorCollection.length;\n        }\n        else {\n            x = this.currentPage === 1 ? 0 : this.lastList[this.currentPage - 2];\n            y = this.lastList[this.currentPage - 1];\n        }\n        for (var i = x; i < y; i++) {\n            if (heatMap.legendSettings.showLabel) {\n                var text = this.labelCollections[i];\n                size = measureText(text, heatMap.legendSettings.textStyle);\n            }\n            if (heatMap.horizontalGradient) {\n                legendX = this.legendXCollections[i];\n                legendY = this.legendYCollections[i];\n                labelX = this.labelXCollections[i];\n                labelY = this.labelYCollections[i];\n            }\n            labelX = legendX + this.legendSize + this.labelPadding;\n            labelY = legendY + padding;\n            if (translate && heatMap.rendering && this.legendRange.length <= heatMap.colorCollection.length) {\n                var rectPosition = new LegendRange(legendX, legendY, legendSize, legendSize, heatMap.colorCollection[i].value, true, this.currentPage);\n                rectPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                this.legendRange.push(rectPosition);\n                if (heatMap.legendSettings.showLabel) {\n                    var textPosition = new LegendRange(labelX, (labelY - size.height / 2), size.width, size.height, heatMap.colorCollection[i].value, true, this.currentPage);\n                    textPosition.visible = !isNullOrUndefined(this.visibilityCollections[i]) ? this.visibilityCollections[i] : true;\n                    this.legendTextRange.push(textPosition);\n                }\n            }\n            if (heatMap.legendSettings.showLabel) {\n                var text = getTitle(this.labelCollections[i], heatMap.legendSettings.textStyle, textWrapWidth);\n                if (text[0].indexOf('...') !== -1 && heatMap.enableCanvasRendering) {\n                    this.legendLabelTooltip.push(new CanvasTooltip(this.labelCollections[i], new Rect(labelX, labelY, size.width, size.height)));\n                }\n                var textBasic = new TextBasic(labelX, labelY, 'start', text, 0, 'translate(0,0)', 'middle');\n                var options = new TextOption(heatMap.element.id + '_Legend_Label' + i, textBasic, heatMap.legendSettings.textStyle, heatMap.legendSettings.textStyle.color || heatMap.themeStyle.legendLabel);\n                options.fill = heatMap.legendOnLoad ? options.fill : this.legendRange[i].visible ? options.fill : '#D3D3D3';\n                this.drawSvgCanvas.createText(options, this.translategroup, text[0]);\n                if (Browser.isIE && !heatMap.enableCanvasRendering) {\n                    this.translategroup.lastChild.setAttribute('dy', '0.6ex');\n                }\n            }\n            listRect = new Rect(legendX, legendY, legendSize, legendSize);\n            var listColor = heatMap.legendOnLoad ? heatMap.colorCollection[i].color :\n                this.legendRange[i].visible ? heatMap.colorCollection[i].color : '#D3D3D3';\n            var rectItems = new RectOption(heatMap.element.id + '_legend_list' + i, listColor, tempBorder, 1, listRect);\n            this.drawSvgCanvas.drawRectangle(rectItems, this.translategroup);\n            heatMap.horizontalGradient ? legendX = legendX + this.legendSize + this.labelPadding + size.width + this.listInterval :\n                legendY += this.legendSize + this.listInterval;\n        }\n        if (!heatMap.enableCanvasRendering) {\n            this.legendGroup.height = this.legendGroup.height > 0 ? this.legendGroup.height : 0;\n            this.legendGroup.width = this.legendGroup.width > 0 ? this.legendGroup.width : 0;\n            var clippath = heatMap.renderer.createClipPath({ id: heatMap.element.id + '_LegendScale_ClipPath' });\n            var clipRect = heatMap.renderer.drawRectangle(this.legendGroup);\n            clippath.appendChild(clipRect);\n            this.translategroup.appendChild(clippath);\n            this.translategroup.setAttribute('style', 'clip-path:url(#' + clippath.id + ')');\n            this.legendScale.appendChild(this.translategroup);\n            heatMap.svgObject.appendChild(this.legend);\n        }\n    };\n    /**\n     * @private\n     */\n    Legend.prototype.translatePage = function (heatMap, page, isNext) {\n        var padding = 5;\n        if ((isNext && page >= 1 && page < this.numberOfPages) || (!isNext && page > 1 && page <= this.numberOfPages)) {\n            if (isNext) {\n                this.currentPage += 1;\n                this.legendRect.y += this.legendRect.height;\n            }\n            else {\n                this.currentPage -= 1;\n                this.legendRect.y -= this.legendRect.height;\n            }\n            if (!heatMap.enableCanvasRendering) {\n                this.paginggroup.removeChild(this.paginggroup.firstChild);\n                while (this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            else {\n                var ctx = heatMap.canvasRenderer.ctx;\n                ctx.fillRect(this.legendRectScale.x - padding, this.legendRectScale.y - padding, this.legendRectScale.width +\n                    padding, this.legendRectScale.height + (2 * padding));\n                ctx.fillRect(this.pagingRect.x, this.pagingRect.y, this.pagingRect.width, this.pagingRect.height);\n            }\n            this.renderListLegendMode(this.legendRectScale, true);\n        }\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection && heatMap.rectSelected) {\n            var ctx = heatMap.secondaryCanvasRenderer.ctx;\n            var position = heatMap.legendSettings.position;\n            var initialRect = heatMap.initialClipRect;\n            var rectX = position === 'Right' ? initialRect.x + initialRect.width : 0;\n            var rectY = position === 'Bottom' ? initialRect.y + initialRect.height : 0;\n            var rectWidth = position === 'Right' ? heatMap.availableSize.width - (initialRect.x +\n                initialRect.width) : position === 'Left' ? initialRect.x : heatMap.availableSize.width;\n            var rectHeight = position === 'Top' ? initialRect.y : position === 'Bottom' ?\n                heatMap.availableSize.height - (initialRect.y + initialRect.height) : heatMap.availableSize.height;\n            ctx.save();\n            ctx.clearRect(rectX, rectY, rectWidth, rectHeight);\n            ctx.restore();\n            var oldCanvas = document.getElementById(heatMap.element.id + '_canvas');\n            var newCanvas = document.getElementById(heatMap.element.id + '_secondary_canvas');\n            var rectImage = oldCanvas.getContext('2d').getImageData(rectX, rectY, rectWidth, rectHeight);\n            newCanvas.getContext('2d').putImageData(rectImage, rectX, rectY);\n            oldCanvas.style.opacity = '0.3';\n        }\n    };\n    /**\n     * To create div container for tooltip which appears on hovering the smart legend.\n     * @param heatmap\n     * @private\n     */\n    Legend.prototype.createTooltipDiv = function (heatMap) {\n        var element = createElement('div', {\n            id: this.heatMap.element.id + 'legendLabelTooltipContainer',\n            styles: 'position:absolute'\n        });\n        this.heatMap.element.appendChild(element);\n    };\n    /**\n     * To render tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.renderTooltip = function (currentLegendRect) {\n        var heatMap = this.heatMap;\n        var tempTooltipText = [currentLegendRect.label];\n        var offset = null;\n        offset = parseInt(heatMap.legendSettings.textStyle.size, 10) / 2;\n        this.tooltipObject = new tool({\n            offset: offset,\n            theme: heatMap.theme,\n            content: tempTooltipText,\n            location: {\n                x: currentLegendRect.x + (currentLegendRect.width / 2),\n                y: currentLegendRect.y + (currentLegendRect.height / 2)\n            },\n            inverted: heatMap.horizontalGradient ? false : true,\n            areaBounds: {\n                height: this.legendGroup.height + this.legendGroup.y,\n                width: this.legendGroup.width + this.legendGroup.x,\n                x: heatMap.legendSettings.position === 'Right' ? 0 : this.legendGroup.x,\n                y: heatMap.legendSettings.position === 'Top' ? heatMap.titleSettings.text === '' ? this.legendGroup.height -\n                    this.legendGroup.y : this.legendGroup.y : 0\n            }\n        }, '#' + this.heatMap.element.id + 'legendLabelTooltipContainer');\n        this.tooltipObject.element.style.visibility = 'visible';\n    };\n    /**\n     * To create tooltip for smart legend.\n     * @private\n     */\n    Legend.prototype.createTooltip = function (pageX, pageY) {\n        var currentLegendRect;\n        for (var i = 0; i < this.heatMap.colorCollection.length; i++) {\n            var position = this.legendRectPositionCollection[i];\n            if (pageX > position.x && pageX < position.width + position.x &&\n                pageY > position.y && pageY < position.height + position.y) {\n                currentLegendRect = this.legendRectPositionCollection[i];\n                break;\n            }\n        }\n        var ele = document.getElementById(this.heatMap.element.id + 'legendLabelTooltipContainer');\n        if (ele && ele.style.visibility === 'visible' && this.tooltipObject && !this.heatMap.isTouch) {\n            this.tooltipObject.fadeOut();\n            ele.style.visibility = 'hidden';\n        }\n        if (currentLegendRect) {\n            this.renderTooltip(currentLegendRect);\n        }\n    };\n    /**\n     * Toggle the visibility of cells based on legend selection\n     * @private\n     */\n    Legend.prototype.legendRangeSelection = function (index) {\n        var heatMap = this.heatMap;\n        var legendRange = this.legendRange;\n        var padding = 5;\n        var legendBound = this.legendRectScale;\n        heatMap.rangeSelection = true;\n        if (heatMap.enableCanvasRendering) {\n            var ctx = heatMap.canvasRenderer.ctx;\n            if (heatMap.legendSettings.enableSmartLegend) {\n                ctx.fillRect(legendBound.x - padding, legendBound.y - padding, (legendBound.width + this.labelPadding + this.maxLegendLabelSize.width) + padding, legendBound.height + (2 * padding));\n            }\n            else {\n                ctx.fillRect(legendBound.x - padding, legendBound.y - padding, legendBound.width +\n                    padding, legendBound.height + (2 * padding));\n            }\n        }\n        else {\n            if (heatMap.legendSettings.enableSmartLegend) {\n                while (this.legend && this.legend.childNodes.length) {\n                    this.legend.removeChild(this.legend.firstChild);\n                }\n            }\n            else {\n                while (this.translategroup && this.translategroup.childNodes.length) {\n                    this.translategroup.removeChild(this.translategroup.firstChild);\n                }\n            }\n            removeElement(heatMap.heatMapSeries.containerRectObject.id);\n            if (heatMap.cellSettings.showLabel) {\n                removeElement(heatMap.heatMapSeries.containerTextObject.id);\n            }\n        }\n        if (heatMap.legendSettings.enableSmartLegend) {\n            if (heatMap.colorCollection.length !== heatMap.legendColorCollection.length) {\n                if (index === heatMap.legendColorCollection.length - 1) {\n                    heatMap.toggleValue[index - 1].visible = this.visibilityCollections[index - 1] =\n                        legendRange[index - 1].visible = !legendRange[index].visible;\n                }\n                else {\n                    if (index === heatMap.colorCollection.length - 1) {\n                        heatMap.toggleValue[index + 1].visible = this.visibilityCollections[index + 1] =\n                            legendRange[index + 1].visible = !legendRange[index].visible;\n                    }\n                }\n            }\n        }\n        heatMap.toggleValue[index].visible = this.visibilityCollections[index] = legendRange[index].visible = !legendRange[index].visible;\n        heatMap.legendOnLoad = false;\n        if (heatMap.legendSettings.enableSmartLegend) {\n            this.renderSmartLegend();\n            var rectItemsSvg = new Rect(legendBound.x, legendBound.y, legendBound.width, legendBound.height);\n            this.renderLegendLabel(rectItemsSvg);\n        }\n        else {\n            this.renderListLegendMode(this.legendRectScale, false);\n        }\n        heatMap.heatMapSeries.renderRectSeries();\n        heatMap.clearSelection();\n        if (heatMap.enableCanvasRendering && heatMap.allowSelection) {\n            // heatMap.createSvg();\n            // heatMap.refreshBound();\n            // heatMap.createMultiCellDiv(false);\n        }\n    };\n    /**\n     * update visibility collections of legend and series\n     * @private\n     */\n    Legend.prototype.updateLegendRangeCollections = function () {\n        var heatMap = this.heatMap;\n        heatMap.rangeSelection = !heatMap.legendOnLoad ? true : false;\n        this.visibilityCollections = !heatMap.legendOnLoad ? this.visibilityCollections : [];\n        heatMap.toggleValue = !heatMap.legendOnLoad ? heatMap.toggleValue : [];\n        this.legendRange = !heatMap.legendOnLoad ? this.legendRange : [];\n        this.legendTextRange = !heatMap.legendOnLoad ? this.legendTextRange : [];\n    };\n    return Legend;\n}());\nexport { Legend };\n","/**\n * Heat Map Component\n */\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Component, Property, NotifyPropertyChanges, Internationalization, Complex, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { remove, Event, EventHandler } from '@syncfusion/ej2-base';\nimport { SvgRenderer, CanvasRenderer, Browser } from '@syncfusion/ej2-base';\nimport { Size, stringToNumber, RectOption, Rect, TextBasic, measureText } from './utils/helper';\nimport { DrawSvgCanvas, TextOption, titlePositionX, getTitle, showTooltip, getElement, SelectedCellDetails } from './utils/helper';\nimport { removeElement, CanvasTooltip, getTooltipText } from './utils/helper';\nimport { Margin, Title } from './model/base';\nimport { Theme, getThemeColor } from './model/theme';\nimport { Axis } from './axis/axis';\nimport { AxisHelper } from './axis/axis-helpers';\nimport { Series, CellSettings } from './series/series';\nimport { PaletteSettings, CellColor } from './utils/colorMapping';\nimport { TooltipSettings } from './utils/tooltip';\nimport { TwoDimensional } from './datasource/twodimensional';\nimport { LegendSettings } from '../heatmap/legend/legend';\nvar HeatMap = /** @class */ (function (_super) {\n    __extends(HeatMap, _super);\n    function HeatMap() {\n        /**\n         * The width of the heatmap as a string accepts input as both like '100px' or '100%'.\n         * If specified as '100%, heatmap renders to the full width of its parent element.\n         * @default null\n         */\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** @private */\n        _this.enableCanvasRendering = false;\n        /** @private */\n        _this.toggleValue = [];\n        /** @private */\n        _this.legendOnLoad = true;\n        /** @private */\n        _this.resizing = false;\n        /** @private */\n        _this.rendering = true;\n        /** @private */\n        _this.horizontalGradient = _this.legendSettings.position === 'Bottom' || _this.legendSettings.position === 'Top';\n        /** @private */\n        _this.multiSelection = false;\n        /** @private */\n        _this.rectSelected = false;\n        /** @private */\n        _this.previousSelectedCellsRect = [];\n        /** @private */\n        _this.multiCellCollection = [];\n        /** @private */\n        _this.tempMultiCellCollection = [];\n        /**\n         * @private\n         */\n        _this.tooltipCollection = [];\n        /**\n         * @private\n         */\n        _this.isCellData = false;\n        return _this;\n    }\n    HeatMap.prototype.preRender = function () {\n        this.initPrivateVariable();\n        this.unWireEvents();\n        this.wireEvents();\n    };\n    HeatMap.prototype.initPrivateVariable = function () {\n        this.renderer = new SvgRenderer(this.element.id);\n        this.canvasRenderer = new CanvasRenderer(this.element.id);\n        this.secondaryCanvasRenderer = new CanvasRenderer(this.element.id + '_secondary');\n        this.heatMapAxis = new AxisHelper(this);\n        this.heatMapSeries = new Series(this);\n        this.drawSvgCanvas = new DrawSvgCanvas(this);\n        this.twoDimensional = new TwoDimensional(this);\n        this.cellColor = new CellColor(this);\n        this.tempRectHoverClass = '';\n        this.tempTooltipRectId = '';\n        this.setCulture();\n    };\n    /**\n     * Method to set culture for heatmap\n     */\n    HeatMap.prototype.setCulture = function () {\n        this.intl = new Internationalization();\n    };\n    HeatMap.prototype.render = function () {\n        this.updateBubbleHelperProperty();\n        this.trigger('load', { heatmap: this });\n        this.initAxis();\n        this.processInitData();\n        this.setTheme();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.createSvg();\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n        this.renderElements();\n        this.appendSvgObject();\n        if (this.tooltipModule) {\n            this.tooltipModule.showHideTooltip(false);\n        }\n    };\n    /**\n     * To re-calculate the datasource while changing datasource property dynamically.\n     * @private\n     */\n    HeatMap.prototype.reRenderDatasource = function () {\n        this.dataSourceMinValue = null;\n        this.dataSourceMaxValue = null;\n        this.processInitData();\n        this.calculateMaxLength();\n        this.heatMapAxis.calculateVisibleLabels();\n        this.twoDimensional.processDataSource(this.completeAdaptDataSource);\n        this.cellColor.getColorCollection();\n        this.calculateBounds();\n    };\n    /**\n     * To process datasource property.\n     * @private\n     */\n    HeatMap.prototype.processInitData = function () {\n        if (this.adaptorModule) {\n            this.adaptorModule.constructDatasource(this.dataSource);\n        }\n        else {\n            this.completeAdaptDataSource = this.dataSource;\n        }\n    };\n    /**\n     * To set render mode of heatmap as SVG or Canvas.\n     * @private\n     */\n    HeatMap.prototype.setRenderMode = function () {\n        if (this.renderingMode === 'Canvas') {\n            this.enableCanvasRendering = true;\n        }\n        else if (this.renderingMode === 'Auto' &&\n            (this.axisCollections[0].axisLabelSize * this.axisCollections[1].axisLabelSize) >= 10000) {\n            this.enableCanvasRendering = true;\n        }\n        else {\n            this.enableCanvasRendering = false;\n        }\n    };\n    /**\n     * To set bubble helper private property.\n     * @private\n     */\n    HeatMap.prototype.updateBubbleHelperProperty = function () {\n        if (this.cellSettings.tileType === 'Bubble' &&\n            (this.cellSettings.bubbleType === 'Size' || this.cellSettings.bubbleType === 'Sector')) {\n            this.legendVisibilityByCellType = false;\n        }\n        else if (this.legendModule && this.legendSettings.visible) {\n            this.legendVisibilityByCellType = true;\n        }\n        if (this.cellSettings.tileType === 'Bubble' && this.cellSettings.bubbleType === 'SizeAndColor') {\n            this.bubbleSizeWithColor = true;\n        }\n        else {\n            this.bubbleSizeWithColor = false;\n        }\n    };\n    HeatMap.prototype.renderElements = function () {\n        this.tooltipCollection = [];\n        this.renderSecondaryElement();\n        this.renderBorder();\n        this.renderTitle();\n        this.heatMapAxis.renderAxes();\n        if (this.tooltipModule && this.showTooltip) {\n            this.tooltipModule.tooltipObject = null;\n            this.tooltipModule.createTooltipDiv(this);\n        }\n        this.heatMapSeries.renderRectSeries();\n        if (this.legendModule && this.legendSettings.visible\n            && this.legendVisibilityByCellType) {\n            this.legendModule.renderLegendItems();\n            if (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltipDiv(this);\n            }\n        }\n    };\n    /**\n     * Get component name\n     */\n    HeatMap.prototype.getModuleName = function () {\n        return 'heatmap';\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     * @private\n     */\n    HeatMap.prototype.getPersistData = function () {\n        return '';\n    };\n    HeatMap.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var renderer = false;\n        var refreshBounds = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'renderingMode':\n                    this.rendering = false;\n                    renderer = true;\n                    break;\n                case 'cellSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendModule && ((newProp.cellSettings.tileType !==\n                        oldProp.cellSettings.tileType) || (newProp.cellSettings.bubbleType !== oldProp.cellSettings.bubbleType))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'showTooltip':\n                    refreshBounds = true;\n                    break;\n                case 'dataSource':\n                    this.isCellData = false;\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    this.reRenderDatasource();\n                    renderer = true;\n                    break;\n                case 'titleSettings':\n                case 'width':\n                case 'height':\n                case 'margin':\n                    refreshBounds = true;\n                    break;\n                case 'legendSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType && (((newProp.legendSettings.visible !== oldProp.legendSettings.visible) ||\n                        (newProp.legendSettings.enableSmartLegend !== oldProp.legendSettings.enableSmartLegend)))) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    else {\n                        this.legendOnLoad = false;\n                    }\n                    refreshBounds = true;\n                    break;\n                case 'yAxis':\n                case 'xAxis':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    this.reRenderDatasource();\n                    refreshBounds = true;\n                    break;\n                case 'paletteSettings':\n                    this.updateBubbleHelperProperty();\n                    if (this.legendVisibilityByCellType) {\n                        this.legendOnLoad = true;\n                        this.legendModule.updateLegendRangeCollections();\n                    }\n                    this.cellColor.getColorCollection();\n                    this.calculateBounds();\n                    renderer = true;\n                    break;\n                case 'theme':\n                    this.setTheme();\n                    renderer = true;\n                    break;\n                case 'tooltipSettings':\n                    if (this.tooltipModule) {\n                        this.tooltipModule.tooltipObject.fill = this.tooltipSettings.fill;\n                        this.tooltipModule.tooltipObject.border = this.tooltipSettings.border;\n                        this.tooltipModule.tooltipObject.textStyle = this.tooltipSettings.textStyle;\n                        this.tooltipModule.tooltipObject.refresh();\n                    }\n                    break;\n            }\n        }\n        if (!refreshBounds && renderer) {\n            this.createSvg();\n            this.renderElements();\n            this.appendSvgObject();\n            this.trigger('created');\n            this.clearSelection();\n        }\n        else if (refreshBounds) {\n            this.createSvg();\n            this.refreshBound();\n            this.appendSvgObject();\n            this.trigger('created');\n        }\n        if (this.allowSelection && this.rectSelected) {\n            this.clearSelection();\n        }\n        this.rendering = true;\n    };\n    /**\n     * create svg or canvas element\n     * @private\n     */\n    HeatMap.prototype.createSvg = function () {\n        this.removeSvg();\n        this.setRenderMode();\n        this.calculateSize();\n        if (!this.enableCanvasRendering) {\n            this.svgObject = this.renderer.createSvg({\n                id: this.element.id + '_svg',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.cellSettings.border.width.toString() === '0' && this.cellSettings.tileType === 'Rect') {\n                this.svgObject.setAttribute('shape-rendering', 'crispEdges');\n            }\n        }\n        else {\n            this.svgObject = this.canvasRenderer.createCanvas({\n                id: this.element.id + '_canvas',\n                width: this.availableSize.width,\n                height: this.availableSize.height\n            });\n            if (this.allowSelection) {\n                this.createMultiCellDiv(true);\n            }\n        }\n    };\n    /**\n     *  To Remove the SVG.\n     * @private\n     */\n    HeatMap.prototype.removeSvg = function () {\n        if (document.getElementById(this.element.id + '_Secondary_Element')) {\n            remove(document.getElementById(this.element.id + '_Secondary_Element'));\n        }\n        if (document.getElementById(this.element.id + 'Celltooltipcontainer')) {\n            remove(document.getElementById(this.element.id + 'Celltooltipcontainer'));\n        }\n        if (document.getElementById(this.element.id + 'legendLabelTooltipContainer')) {\n            remove(document.getElementById(this.element.id + 'legendLabelTooltipContainer'));\n        }\n        if (document.getElementById(this.element.id + '_Multi_CellSelection_Canvas')) {\n            remove(document.getElementById(this.element.id + '_Multi_CellSelection_Canvas'));\n        }\n        if (document.getElementById(this.element.id + '_CellSelection_Container')) {\n            remove(document.getElementById(this.element.id + '_CellSelection_Container'));\n        }\n        if (this.svgObject) {\n            var svgElement = document.getElementById(this.svgObject.id);\n            if (svgElement) {\n                while (this.svgObject.childNodes.length) {\n                    this.svgObject.removeChild(this.svgObject.firstChild);\n                }\n                remove(this.svgObject);\n            }\n        }\n    };\n    HeatMap.prototype.renderSecondaryElement = function () {\n        var tooltipDiv = this.createElement('div');\n        tooltipDiv.id = this.element.id + '_Secondary_Element';\n        this.element.appendChild(tooltipDiv);\n        var divElement = this.createElement('div', {\n            id: this.element.id + '_CellSelection_Container',\n            styles: 'position:absolute; z-index: 2',\n        });\n        this.element.appendChild(divElement);\n    };\n    /**\n     * To provide the array of modules needed for control rendering\n     * @return{ModuleDeclaration[]}\n     * @private\n     */\n    HeatMap.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.showTooltip) {\n            modules.push({\n                member: 'Tooltip',\n                args: [this]\n            });\n        }\n        if (this.legendSettings) {\n            modules.push({\n                member: 'Legend',\n                args: [this]\n            });\n        }\n        if (this.dataSource) {\n            modules.push({\n                member: 'Adaptor',\n                args: [this]\n            });\n        }\n        return modules;\n    };\n    /**\n     * To destroy the widget\n     * @method destroy\n     * @return {void}.\n     * @member of Heatmap\n     */\n    HeatMap.prototype.destroy = function () {\n        this.unWireEvents();\n        _super.prototype.destroy.call(this);\n        this.element.innerHTML = '';\n        this.element.classList.remove('e-heatmap');\n    };\n    /**\n     * Applies all the pending property changes and render the component again.\n     * @method destroy\n     * @return {void}.\n     */\n    HeatMap.prototype.refresh = function () {\n        _super.prototype.refresh.call(this);\n        this.element.classList.add('e-heatmap');\n    };\n    /**\n     * Appending svg object to the element\n     * @private\n     */\n    HeatMap.prototype.appendSvgObject = function () {\n        if (this.enableCanvasRendering && this.allowSelection) {\n            this.createMultiCellDiv(false);\n        }\n        else {\n            this.element.appendChild(this.svgObject);\n        }\n    };\n    HeatMap.prototype.renderBorder = function () {\n        this.border = {\n            width: 0\n        };\n        var width = 0;\n        var rect = new RectOption(this.element.id + '_HeatmapBorder', this.themeStyle.background, this.border, 1, new Rect(width / 2, width / 2, this.availableSize.width - width, this.availableSize.height - width));\n        this.drawSvgCanvas.drawRectangle(rect, this.svgObject);\n    };\n    HeatMap.prototype.calculateSize = function () {\n        var width = stringToNumber(this.width, this.element.offsetWidth) || this.element.offsetWidth || 600;\n        var height = stringToNumber(this.height, this.element.offsetHeight) || this.element.offsetHeight || 450;\n        this.availableSize = new Size(width, height);\n    };\n    HeatMap.prototype.renderTitle = function () {\n        if (this.titleSettings.text) {\n            var titleStyle = this.titleSettings.textStyle;\n            var anchor = titleStyle.textAlignment === 'Near' ? 'start' :\n                titleStyle.textAlignment === 'Far' ? 'end' : 'middle';\n            this.elementSize = measureText(this.titleCollection[0], titleStyle);\n            var options = new TextOption(this.element.id + '_HeatmapTitle', new TextBasic(titlePositionX(this.availableSize.width - this.margin.left - this.margin.right, this.margin.left, this.margin.right, titleStyle), this.margin.top + ((this.elementSize.height) * 3 / 4), anchor, this.titleCollection), titleStyle, titleStyle.color || this.themeStyle.heatMapTitle);\n            if (this.titleCollection.length > 1) {\n                this.drawSvgCanvas.createWrapText(options, titleStyle, this.svgObject);\n            }\n            else {\n                this.drawSvgCanvas.createText(options, this.svgObject, this.titleCollection[0]);\n                if (this.titleCollection[0].indexOf('...') !== -1 && this.enableCanvasRendering) {\n                    this.tooltipCollection.push(new CanvasTooltip(this.titleSettings.text, new Rect(this.margin.left, this.margin.top, this.elementSize.width, this.elementSize.height)));\n                }\n            }\n        }\n    };\n    HeatMap.prototype.titleTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId === (this.element.id + '_HeatmapTitle')) && (event.target.textContent.indexOf('...') > -1)) {\n            showTooltip(this.titleSettings.text, x, y, this.element.offsetWidth, this.element.id + '_Title_Tooltip', getElement(this.element.id + '_Secondary_Element'), isTouch, this);\n        }\n        else {\n            removeElement(this.element.id + '_Title_Tooltip');\n        }\n    };\n    HeatMap.prototype.axisTooltip = function (event, x, y, isTouch) {\n        var targetId = event.target.id;\n        if ((targetId.indexOf(this.element.id + '_XAxis_Label') !== -1) ||\n            (targetId.indexOf(this.element.id + '_XAxis_MultiLevel') !== -1) ||\n            (targetId.indexOf(this.element.id + '_YAxis_MultiLevel') !== -1)) {\n            var tooltipText = getTooltipText(this.tooltipCollection, x, y);\n            if (tooltipText) {\n                showTooltip(tooltipText, x, y, this.element.offsetWidth, this.element.id + '_axis_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n            }\n            else {\n                removeElement(this.element.id + '_axis_Tooltip');\n            }\n        }\n        else {\n            removeElement(this.element.id + '_axis_Tooltip');\n        }\n    };\n    HeatMap.prototype.isHeatmapRect = function (x, y) {\n        var firstRectDetails = [];\n        var lastRectDetails = [];\n        var isRect;\n        firstRectDetails.push(this.heatMapSeries.rectPositionCollection[0][0]);\n        lastRectDetails.push(this.heatMapSeries.rectPositionCollection[this.yLength - 1][this.xLength - 1]);\n        isRect = (x >= firstRectDetails[0].x && y >= firstRectDetails[0].y &&\n            x <= (lastRectDetails[0].x + lastRectDetails[0].width) &&\n            y <= (lastRectDetails[0].y + lastRectDetails[0].height)) ? true : false;\n        return isRect;\n    };\n    HeatMap.prototype.setTheme = function () {\n        /*! Set theme */\n        this.themeStyle = getThemeColor(this.theme);\n    };\n    HeatMap.prototype.calculateBounds = function () {\n        var margin = this.margin;\n        // Title Height;\n        var titleHeight = 0;\n        var padding = (this.legendModule && this.legendSettings.position === 'Top'\n            && this.legendVisibilityByCellType) || this.titleSettings.textStyle.size === '0px' ? 0 : 16; // title padding\n        var left = margin.left;\n        var width = this.availableSize.width - left - margin.right;\n        if (this.titleSettings.text) {\n            this.titleCollection = getTitle(this.titleSettings.text, this.titleSettings.textStyle, width);\n            titleHeight = (measureText(this.titleSettings.text, this.titleSettings.textStyle).height * this.titleCollection.length) +\n                padding;\n        }\n        var top = margin.top + titleHeight;\n        this.titleRect = new Rect(margin.left, margin.top, this.availableSize.width - margin.left - margin.right, titleHeight);\n        var height = this.availableSize.height - top - margin.bottom;\n        this.initialClipRect = new Rect(left, top, width, height);\n        var legendTop = this.initialClipRect.y;\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendBounds(this.initialClipRect);\n        }\n        this.heatMapAxis.measureAxis(this.initialClipRect);\n        if (this.legendModule && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            this.legendModule.calculateLegendSize(this.initialClipRect, legendTop);\n        }\n        this.heatMapAxis.calculateAxisSize(this.initialClipRect);\n    };\n    HeatMap.prototype.refreshBound = function () {\n        this.updateBubbleHelperProperty();\n        this.calculateBounds();\n        this.renderElements();\n    };\n    HeatMap.prototype.initAxis = function () {\n        var axis;\n        var axes = [this.xAxis, this.yAxis];\n        this.axisCollections = [];\n        for (var i = 0, len = axes.length; i < len; i++) {\n            axis = axes[i];\n            axis.orientation = (i === 0) ? 'Horizontal' : 'Vertical';\n            axis.jsonCellLabel = [];\n            this.axisCollections.push(axis);\n        }\n    };\n    /**\n     * Method to bind events for HeatMap\n     */\n    HeatMap.prototype.wireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.add(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick, this);\n        EventHandler.add(this.element, start, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, stop, this.heatMapMouseLeave, this);\n        EventHandler.add(this.element, move, this.heatMapMouseMove, this);\n        EventHandler.add(this.element, cancel, this.heatMapMouseLeave, this);\n        window.addEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize.bind(this));\n        this.setStyle(this.element);\n    };\n    /**\n     * Applying styles for heatmap element\n     */\n    HeatMap.prototype.setStyle = function (element) {\n        element.style.touchAction = 'element';\n        element.style.msTouchAction = 'element';\n        element.style.msContentZooming = 'none';\n        element.style.msUserSelect = 'none';\n        element.style.webkitUserSelect = 'none';\n        element.style.position = 'relative';\n        element.style.display = 'block';\n    };\n    /**\n     * Method to unbind events for HeatMap\n     */\n    HeatMap.prototype.unWireEvents = function () {\n        /*! Find the Events type */\n        var isIE11Pointer = Browser.isPointer;\n        var start = Browser.touchStartEvent;\n        var stop = Browser.touchEndEvent;\n        var move = Browser.touchMoveEvent;\n        var cancel = isIE11Pointer ? 'pointerleave' : 'mouseleave';\n        EventHandler.remove(this.element, Browser.isDevice ? start : 'click', this.heatMapMouseClick);\n        EventHandler.remove(this.element, start, this.heatMapMouseMove);\n        EventHandler.remove(this.element, move, this.heatMapMouseLeave);\n        EventHandler.remove(this.element, move, this.heatMapMouseMove);\n        EventHandler.remove(this.element, cancel, this.heatMapMouseLeave);\n        window.removeEventListener((Browser.isTouch && ('orientation' in window && 'onorientationchange' in window)) ? 'orientationchange' : 'resize', this.heatMapResize);\n    };\n    /**\n     * Handles the heatmap resize.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapResize = function (e) {\n        var _this = this;\n        this.resizing = true;\n        var argData = {\n            heatmap: this,\n            cancel: false,\n            name: 'resized',\n            currentSize: new Size(0, 0),\n            previousSize: new Size(this.availableSize.width, this.availableSize.height),\n        };\n        this.clearSelection();\n        if (this.resizeTimer) {\n            clearTimeout(this.resizeTimer);\n        }\n        this.resizeTimer = setTimeout(function () {\n            if (_this.isDestroyed) {\n                clearTimeout(_this.resizeTimer);\n                return;\n            }\n            _this.createSvg();\n            argData.currentSize = _this.availableSize;\n            _this.trigger('resized', argData);\n            _this.refreshBound();\n            _this.appendSvgObject();\n            _this.trigger('loaded', { heatmap: _this });\n            _this.resizing = false;\n        }, 500);\n        return false;\n    };\n    /**\n     * Get the maximum length of data source for both horizontal and vertical\n     * @private\n     */\n    HeatMap.prototype.calculateMaxLength = function () {\n        var dataSource = this.completeAdaptDataSource;\n        if (dataSource && dataSource.length > 0) {\n            var xAxisMax = dataSource.length - 1;\n            var yAxisMax = 0;\n            for (var i = 0; i <= xAxisMax; i++) {\n                var length_1 = dataSource[i].length;\n                yAxisMax = yAxisMax > length_1 ? yAxisMax : length_1;\n            }\n            this.axisCollections[0].maxLength = xAxisMax;\n            this.axisCollections[1].maxLength = yAxisMax - 1;\n        }\n        else {\n            this.axisCollections[0].maxLength = 0;\n            this.axisCollections[1].maxLength = 0;\n        }\n    };\n    /**\n     * To find mouse x, y for aligned heatmap element svg position\n     */\n    HeatMap.prototype.setMouseXY = function (pageX, pageY) {\n        var rect = this.element.getBoundingClientRect();\n        var svgCanvasRect;\n        if (this.enableCanvasRendering) {\n            svgCanvasRect = document.getElementById(this.element.id + '_canvas').getBoundingClientRect();\n        }\n        else {\n            svgCanvasRect = document.getElementById(this.element.id + '_svg').getBoundingClientRect();\n        }\n        this.mouseX = (pageX - rect.left) - Math.max(svgCanvasRect.left - rect.left, 0);\n        this.mouseY = (pageY - rect.top) - Math.max(svgCanvasRect.top - rect.top, 0);\n    };\n    HeatMap.prototype.heatMapMouseClick = function (e) {\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageY = touchArg.changedTouches[0].clientY;\n            pageX = touchArg.changedTouches[0].clientX;\n        }\n        else {\n            this.isTouch = false;\n            pageY = e.clientY;\n            pageX = e.clientX;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n        if (isheatmapRect) {\n            var currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n            this.trigger('cellClick', {\n                heatmap: this,\n                value: currentRect.value,\n                x: currentRect.x,\n                y: currentRect.y,\n                xLabel: this.heatMapSeries.hoverXAxisLabel,\n                yLabel: this.heatMapSeries.hoverYAxisLabel,\n                xValue: this.heatMapSeries.hoverXAxisValue,\n                yValue: this.heatMapSeries.hoverYAxisValue,\n                cellElement: this.enableCanvasRendering ? null : document.getElementById(currentRect.id)\n            });\n        }\n        this.notify('click', e);\n        if (this.paletteSettings.type !== 'Gradient' && this.legendModule\n            && this.legendSettings.visible && this.legendVisibilityByCellType) {\n            var page = this.legendModule.navigationCollections;\n            if (page.length && pageX > page[0].x && pageX < page[0].x + page[0].width &&\n                pageY > page[0].y && pageY < page[0].y + page[0].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, true);\n            }\n            else if (page.length && pageX > page[1].x && pageX < page[1].x + page[1].width &&\n                pageY > page[1].y && pageY < page[1].y + page[1].height) {\n                this.legendModule.translatePage(this, this.legendModule.currentPage, false);\n            }\n            var legendRange = this.legendModule.legendRange;\n            var legendTextRange = this.legendModule.legendTextRange;\n            var loop = true;\n            for (var i = 0; i < legendRange.length; i++) {\n                if (this.legendModule && this.legendSettings.toggleVisibility &&\n                    this.legendModule.currentPage === legendRange[i].currentPage) {\n                    if ((loop && (pageX >= legendRange[i].x && pageX <= legendRange[i].width + legendRange[i].x) &&\n                        (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                        ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                            pageX >= legendTextRange[i].x && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                            (pageY >= legendTextRange[i].y && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                        this.legendModule.legendRangeSelection(i);\n                        loop = false;\n                    }\n                }\n            }\n        }\n        return false;\n    };\n    /**\n     * Handles the mouse Move.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseMove = function (e) {\n        var pageX;\n        var pageY;\n        var tooltipText;\n        var touchArg;\n        var elementRect = this.element.getBoundingClientRect();\n        if (e.type === 'touchmove' || e.type === 'touchstart') {\n            this.isTouch = true;\n            touchArg = e;\n            pageX = touchArg.changedTouches[0].clientX;\n            pageY = touchArg.changedTouches[0].clientY;\n        }\n        else {\n            this.isTouch = false;\n            pageX = e.clientX;\n            pageY = e.clientY;\n        }\n        pageX -= elementRect.left;\n        pageY -= elementRect.top;\n        this.setMouseXY(pageX, pageY);\n        if (e.target && e.target.id) {\n            var isheatmapRect = this.isHeatmapRect(pageX, pageY);\n            if (this.legendModule) {\n                if (isheatmapRect) {\n                    if (this.paletteSettings.type === 'Gradient' &&\n                        this.legendSettings.showGradientPointer && this.legendSettings.visible && this.legendVisibilityByCellType) {\n                        this.legendModule.renderGradientPointer(e, pageX, pageY);\n                    }\n                }\n                else {\n                    this.legendModule.removeGradientPointer();\n                }\n                this.renderMousePointer(pageX, pageY);\n            }\n            var isshowTooltip = void 0;\n            var currentRect = void 0;\n            isshowTooltip = this.showTooltip && this.tooltipModule ? isheatmapRect : false;\n            if (isheatmapRect) {\n                currentRect = this.heatMapSeries.getCurrentRect(pageX, pageY);\n                isshowTooltip = this.cellSelectionOnMouseMove(e, currentRect, pageX, pageY, isshowTooltip);\n            }\n            this.tooltipOnMouseMove(e, currentRect, isshowTooltip);\n            if (this.legendModule && this.legendSettings.visible && this.paletteSettings.type === 'Fixed' &&\n                this.legendSettings.enableSmartLegend && this.legendSettings.labelDisplayType === 'None') {\n                this.legendModule.createTooltip(pageX, pageY);\n            }\n            if (!this.enableCanvasRendering) {\n                if (this.titleSettings.text && this.titleSettings.textStyle.textOverflow === 'Trim') {\n                    this.titleTooltip(e, pageX, pageY, this.isTouch);\n                }\n                this.axisTooltip(e, pageX, pageY, this.isTouch);\n                if (this.legendModule && this.legendSettings.visible && this.legendSettings.showLabel && this.legendVisibilityByCellType) {\n                    this.legendModule.renderLegendLabelTooltip(e);\n                }\n            }\n            else {\n                elementRect = this.element.getBoundingClientRect();\n                var tooltipRect = (this.paletteSettings.type === 'Fixed' && this.legendSettings.enableSmartLegend &&\n                    this.legendSettings.labelDisplayType === 'None') ? false : true;\n                tooltipText = getTooltipText(this.tooltipCollection, pageX, pageY) ||\n                    (this.legendModule && tooltipRect && getTooltipText(this.legendModule.legendLabelTooltip, pageX, pageY));\n                if (tooltipText) {\n                    showTooltip(tooltipText, pageX, pageY, this.element.offsetWidth, this.element.id + '_canvas_Tooltip', getElement(this.element.id + '_Secondary_Element'), this.isTouch, this);\n                }\n                else {\n                    removeElement(this.element.id + '_canvas_Tooltip');\n                }\n            }\n        }\n        return true;\n    };\n    /**\n     * Triggering cell selection\n     */\n    HeatMap.prototype.cellSelectionOnMouseMove = function (e, currentRect, pageX, pageY, isshowTooltip) {\n        if ((this.cellSettings.tileType === 'Rect' && e.type === 'mousedown' || e.type === 'touchstart' ||\n            e.type === 'pointerdown') && this.allowSelection) {\n            this.previousRect = currentRect;\n            this.multiSelection = true;\n            this.rectSelected = true;\n            this.initialCellX = pageX;\n            this.initialCellY = pageY;\n        }\n        if (this.cellSettings.tileType === 'Rect' && this.multiSelection && currentRect) {\n            this.highlightSelectedCells(this.previousRect, currentRect, pageX, pageY);\n            isshowTooltip = false;\n        }\n        return isshowTooltip;\n    };\n    /**\n     * Rendering tooltip on mouse move\n     */\n    HeatMap.prototype.tooltipOnMouseMove = function (e, currentRect, isshowTooltip) {\n        var _this = this;\n        if (isshowTooltip) {\n            if (this.tempTooltipRectId !== currentRect.id) {\n                if (this.showTooltip) {\n                    if ((this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n                        && !this.enableCanvasRendering) {\n                        this.heatMapSeries.highlightSvgRect(currentRect.id);\n                    }\n                    this.tooltipModule.renderTooltip(currentRect);\n                    if (this.isTouch) {\n                        if (this.tooltipTimer) {\n                            window.clearTimeout(this.tooltipTimer);\n                        }\n                        this.tooltipTimer = setTimeout(function () {\n                            _this.tooltipModule.tooltipObject.fadeOut();\n                            _this.tooltipModule.isFadeout = true;\n                        }, 1500);\n                        if (e.type === 'touchmove') {\n                            e.preventDefault();\n                        }\n                    }\n                }\n                this.tempTooltipRectId = currentRect.id;\n            }\n        }\n        else {\n            if (e.target.id.indexOf('Celltooltip') === -1) {\n                if ((this.cellSettings.enableCellHighlighting || this.showTooltip) && !this.enableCanvasRendering) {\n                    this.heatMapSeries.highlightSvgRect(e.target.id);\n                }\n                if (this.tooltipModule && this.showTooltip) {\n                    this.tooltipModule.showHideTooltip(false, true);\n                }\n            }\n            this.tempTooltipRectId = '';\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedCells = function (previousRect, currentRect, pageX, pageY) {\n        var pXIndex = previousRect.xIndex;\n        var pYIndex = previousRect.yIndex;\n        var cXIndex = currentRect.xIndex;\n        var cYIndex = currentRect.yIndex;\n        var xIndex = Math.abs((currentRect.xIndex === previousRect.xIndex ? 0 : currentRect.xIndex - previousRect.xIndex)) + 1;\n        var yIndex = Math.abs((currentRect.yIndex === previousRect.yIndex ? 0 : currentRect.yIndex - previousRect.yIndex)) + 1;\n        var minX = cXIndex > pXIndex ? pXIndex : cXIndex;\n        var maxX = cXIndex > pXIndex ? cXIndex : pXIndex;\n        var minY = cYIndex > pYIndex ? pYIndex : cYIndex;\n        var maxY = cYIndex > pYIndex ? cYIndex : pYIndex;\n        var tempX = minX;\n        var tempY = minY;\n        var cellX = previousRect.x;\n        var cellY = previousRect.y;\n        this.selectedCellsRect = new Rect(0, 0, 0, 0);\n        this.selectedCellsRect.x = previousRect.x > currentRect.x ? currentRect.x : previousRect.x;\n        this.selectedCellsRect.y = previousRect.y > currentRect.y ? currentRect.y : previousRect.y;\n        this.selectedCellsRect.width = ((previousRect.x > currentRect.x ? (pXIndex - cXIndex) :\n            (cXIndex - pXIndex)) + 1) * currentRect.width;\n        this.selectedCellsRect.height = ((previousRect.y > currentRect.y ? (pYIndex - cYIndex) :\n            (cYIndex - pYIndex)) + 1) * currentRect.height;\n        this.removeSelectedCellsBorder();\n        this.multiCellCollection = [];\n        for (var i = 0; i < (xIndex * yIndex); i++) {\n            this.getSelectedCellDatas(cellX, cellY);\n            if (tempX < maxX) {\n                cellX += cXIndex > pXIndex ? currentRect.width : -currentRect.width;\n                tempX++;\n            }\n            else if (tempY < maxY) {\n                cellY += cYIndex > pYIndex ? currentRect.height : -currentRect.height;\n                cellX = previousRect.x;\n                tempX = minX;\n            }\n        }\n        var x = this.initialCellX > pageX ? pageX : this.initialCellX;\n        var y = this.initialCellY > pageY ? pageY : this.initialCellY;\n        var parentDiv = document.getElementById(this.element.id + '_CellSelection_Container');\n        parentDiv.style.left = (this.selectedCellsRect.x - 1) + 'px';\n        parentDiv.style.top = (this.selectedCellsRect.y - 1) + 'px';\n        var svgObject = this.renderer.createSvg({\n            id: this.element.id + '_CellSelection_Container_svg',\n            width: this.selectedCellsRect.width + 2,\n            height: this.selectedCellsRect.height + 2\n        });\n        parentDiv.appendChild(svgObject);\n        var parent = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n        var rect = new Rect(x - this.selectedCellsRect.x, y - this.selectedCellsRect.y, Math.abs(pageX - this.initialCellX), Math.abs(pageY - this.initialCellY));\n        var rectItems = new RectOption(this.element.id + '_selectedCells', '#87ceeb', { color: 'transparent', width: 1 }, 1, rect, '#0000ff');\n        parent.appendChild(this.renderer.drawRectangle(rectItems));\n        document.getElementById(this.element.id + '_selectedCells').style.opacity = '0.5';\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.removeSelectedCellsBorder = function () {\n        if (!this.enableCanvasRendering) {\n            for (var i = 0; i < this.multiCellCollection.length; i++) {\n                var rectElement = this.multiCellCollection[i].cellElement;\n                if (rectElement) {\n                    var index = rectElement.id.slice((this.element.id + '_HeatMapRect_').length);\n                    var textElement = document.getElementById(this.element.id + '_HeatMapRectLabels_' + index);\n                    var elementClassName = rectElement.getAttribute('class');\n                    if (this.tempMultiCellCollection.length > 0) {\n                        rectElement.setAttribute('opacity', '0.3');\n                        if (this.cellSettings.showLabel && textElement) {\n                            textElement.setAttribute('opacity', '0.3');\n                        }\n                    }\n                    this.removeSvgClass(rectElement, elementClassName);\n                }\n            }\n        }\n        else {\n            var ctx = this.secondaryCanvasRenderer.ctx;\n            var rect = this.previousSelectedCellsRect[0];\n            if (this.previousSelectedCellsRect.length > 0) {\n                ctx.save();\n                ctx.clearRect(rect.x - 1, rect.y - 1, rect.width + 2, rect.height + 2);\n                ctx.restore();\n                this.previousSelectedCellsRect.shift();\n            }\n        }\n        if (this.element.id + '_selectedCellsBorder') {\n            removeElement(this.element.id + '_selectedCellsBorder');\n        }\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.highlightSelectedAreaInCanvas = function (rect) {\n        var oldCanvas = document.getElementById(this.element.id + '_canvas');\n        var newCanvas = document.getElementById(this.element.id + '_secondary_canvas');\n        var initialRect = this.initialClipRect;\n        var rectImage = oldCanvas.getContext('2d').getImageData(rect.x, rect.y, rect.width, rect.height);\n        newCanvas.getContext('2d').putImageData(rectImage, rect.x, rect.y);\n        oldCanvas.style.opacity = '0.3';\n        var topPosition = oldCanvas.getContext('2d').getImageData(0, 0, this.availableSize.width, initialRect.y);\n        newCanvas.getContext('2d').putImageData(topPosition, 0, 0);\n        var bottomPosition = oldCanvas.getContext('2d').getImageData(0, initialRect.y + initialRect.height, this.availableSize.width, this.availableSize.height - (initialRect.y + initialRect.height));\n        newCanvas.getContext('2d').putImageData(bottomPosition, 0, initialRect.y + initialRect.height);\n        var rightPosition = oldCanvas.getContext('2d').getImageData(initialRect.x + initialRect.width, 0, this.availableSize.width - (initialRect.x + initialRect.width), this.availableSize.height);\n        newCanvas.getContext('2d').putImageData(rightPosition, initialRect.x + initialRect.width, 0);\n        var leftPosition = oldCanvas.getContext('2d').getImageData(0, 0, initialRect.x, this.availableSize.height);\n        newCanvas.getContext('2d').putImageData(leftPosition, 0, 0);\n    };\n    /**\n     * To select the multiple cells on mouse move action\n     */\n    HeatMap.prototype.getSelectedCellDatas = function (cellX, cellY) {\n        var xAxis = this.axisCollections[0];\n        var yAxis = this.axisCollections[1];\n        var xLabels = xAxis.tooltipLabels;\n        var yLabels = yAxis.tooltipLabels.slice().reverse();\n        var rectPosition = this.heatMapSeries.getCurrentRect(cellX + 1, cellY + 1);\n        var currentRect = document.getElementById(rectPosition.id);\n        var cellDetails = new SelectedCellDetails(null, '', '', 0, 0, null);\n        cellDetails.value = rectPosition.value;\n        cellDetails.xLabel = xLabels[rectPosition.xIndex].toString();\n        cellDetails.yLabel = yLabels[rectPosition.yIndex].toString();\n        cellDetails.xValue = xAxis.labelValue[rectPosition.xIndex];\n        cellDetails.yValue = yAxis.labelValue.slice().reverse()[rectPosition.yIndex];\n        cellDetails.cellElement = this.enableCanvasRendering ? null : currentRect;\n        this.addSvgClass(currentRect);\n        if (rectPosition.visible && !isNullOrUndefined(rectPosition.value)) {\n            this.multiCellCollection.push(cellDetails);\n        }\n    };\n    /**\n     * To add class for selected cells\n     * @private\n     */\n    HeatMap.prototype.addSvgClass = function (element) {\n        if (!this.enableCanvasRendering) {\n            var className = this.element.id + '_selected';\n            element.setAttribute('class', className);\n        }\n    };\n    /**\n     * To remove class for unselected cells\n     * @private\n     */\n    HeatMap.prototype.removeSvgClass = function (rectElement, className) {\n        if (className) {\n            rectElement.setAttribute('class', className.replace(className, ''));\n        }\n    };\n    /**\n     * To clear the multi cell selection\n     */\n    HeatMap.prototype.clearSelection = function () {\n        if (!this.enableCanvasRendering) {\n            var rect = document.getElementById(this.element.id + '_Container_RectGroup');\n            var text = document.getElementById(this.element.id + '_Container_TextGroup');\n            for (var i = 0; i < rect.childNodes.length; i++) {\n                var elementClassName = rect.childNodes[i].getAttribute('class');\n                if (elementClassName === this.element.id + '_selected') {\n                    this.removeSvgClass(rect.childNodes[i], elementClassName);\n                }\n                rect.childNodes[i].setAttribute('opacity', '1');\n                if (this.cellSettings.showLabel && text && text.childNodes[i]) {\n                    text.childNodes[i].setAttribute('opacity', '1');\n                }\n            }\n        }\n        else {\n            if (this.previousSelectedCellsRect.length > 0) {\n                var ctx = this.secondaryCanvasRenderer.ctx;\n                ctx.save();\n                ctx.clearRect(this.previousSelectedCellsRect[0].x - 1, this.previousSelectedCellsRect[0].y - 1, this.previousSelectedCellsRect[0].width + 2, this.previousSelectedCellsRect[0].height + 2);\n                ctx.restore();\n            }\n            var canvas = document.getElementById(this.element.id + '_canvas');\n            canvas.style.opacity = '1';\n        }\n        this.tempMultiCellCollection = [];\n        this.multiCellCollection = [];\n        this.rectSelected = false;\n        if (this.element.id + '_selectedCellsBorder') {\n            removeElement(this.element.id + '_selectedCellsBorder');\n        }\n    };\n    HeatMap.prototype.renderMousePointer = function (pageX, pageY) {\n        var legendRange = this.legendModule.legendRange;\n        var legendTextRange = this.legendModule.legendTextRange;\n        var loop = true;\n        for (var i = 0; i < legendRange.length; i++) {\n            if (this.legendSettings.toggleVisibility && this.legendModule.currentPage === legendRange[i].currentPage) {\n                if ((loop && (pageX >= legendRange[i].x && pageX <= legendRange[i].width + legendRange[i].x) &&\n                    (pageY >= legendRange[i].y && pageY <= legendRange[i].y + legendRange[i].height) ||\n                    ((this.legendSettings.showLabel && this.legendSettings.labelDisplayType !== 'None' &&\n                        pageX >= legendTextRange[i].x && pageX <= legendTextRange[i].width + legendTextRange[i].x) &&\n                        (pageY >= legendTextRange[i].y && pageY <= legendTextRange[i].y + legendTextRange[i].height)))) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = 'Pointer';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = 'Pointer';\n                    }\n                    loop = false;\n                }\n                else if (loop) {\n                    if (this.enableCanvasRendering) {\n                        document.getElementById(this.element.id + '_canvas').style.cursor = '';\n                    }\n                    else {\n                        document.getElementById(this.element.id + '_svg').style.cursor = '';\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * Handles the mouse end.\n     * @return {boolean}\n     * @private\n     */\n    HeatMap.prototype.heatMapMouseLeave = function (e) {\n        var _this = this;\n        if (e.target && e.target.id &&\n            (this.cellSettings.enableCellHighlighting || (this.tooltipModule && this.showTooltip))\n            && !this.enableCanvasRendering) {\n            this.heatMapSeries.highlightSvgRect(this.tempTooltipRectId);\n        }\n        if (this.allowSelection && this.multiSelection) {\n            this.multiSelection = false;\n            if (e.type === 'mouseup' || e.type === 'touchend' || e.type === 'pointerup') {\n                if (!this.enableCanvasRendering) {\n                    this.tempMultiCellCollection.push(this.multiCellCollection);\n                    var containerRect = document.getElementById(this.element.id + '_Container_RectGroup');\n                    var containerText = document.getElementById(this.element.id + '_Container_TextGroup');\n                    for (var i = 0; i < containerRect.childNodes.length; i++) {\n                        var elementClassName = containerRect.childNodes[i].getAttribute('class');\n                        if (elementClassName !== this.element.id + '_selected') {\n                            containerRect.childNodes[i].setAttribute('opacity', '0.3');\n                            if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                                containerText.childNodes[i].setAttribute('opacity', '0.3');\n                            }\n                        }\n                        else {\n                            containerRect.childNodes[i].setAttribute('opacity', '1');\n                            if (this.cellSettings.showLabel && containerText.childNodes[i]) {\n                                containerText.childNodes[i].setAttribute('opacity', '1');\n                            }\n                        }\n                    }\n                }\n                else {\n                    this.previousSelectedCellsRect.push(this.selectedCellsRect);\n                    this.highlightSelectedAreaInCanvas(this.selectedCellsRect);\n                }\n                removeElement(this.element.id + '_selectedCells');\n                var rect = new Rect(1, 1, this.selectedCellsRect.width, this.selectedCellsRect.height);\n                var rectItems = new RectOption(this.element.id + '_selectedCellsBorder', 'none', { color: 'transparent', width: 1 }, 1, rect, 'Black');\n                var parent_1 = document.getElementById(this.element.id + '_CellSelection_Container_svg');\n                parent_1.appendChild(this.renderer.drawRectangle(rectItems));\n                var argData = {\n                    heatmap: this,\n                    cancel: false,\n                    name: 'cellSelected',\n                    data: this.multiCellCollection\n                };\n                this.trigger('cellSelected', argData);\n            }\n            else if (e.type === 'mouseleave' && (this.element.id + '_selectedCells')) {\n                removeElement(this.element.id + '_selectedCells');\n            }\n        }\n        if (this.tooltipModule && this.showTooltip && e.type === 'mouseleave') {\n            this.tooltipModule.showHideTooltip(false);\n        }\n        this.tempTooltipRectId = '';\n        if (this.legendModule && this.legendSettings.visible && this.legendModule.tooltipObject &&\n            this.legendModule.tooltipObject.element) {\n            var tooltipElement_1 = this.legendModule.tooltipObject.element.firstChild;\n            if (e.type === 'mouseleave') {\n                tooltipElement_1.setAttribute('opacity', '0');\n            }\n            else {\n                if (this.legendTooltipTimer) {\n                    window.clearTimeout(this.legendTooltipTimer);\n                }\n                this.legendTooltipTimer = setTimeout(function () {\n                    tooltipElement_1.setAttribute('opacity', '0');\n                }, 1500);\n            }\n        }\n        if (this.paletteSettings.type === 'Gradient' && this.legendModule && this.legendSettings.showGradientPointer &&\n            this.legendSettings.visible && this.legendVisibilityByCellType) {\n            if (e.type === 'mouseleave') {\n                this.legendModule.removeGradientPointer();\n            }\n            else {\n                if (this.gradientTimer) {\n                    window.clearTimeout(this.gradientTimer);\n                }\n                this.gradientTimer = setTimeout(function () { _this.legendModule.removeGradientPointer(); }, 1500);\n            }\n        }\n        if (this.enableCanvasRendering) {\n            var main = document.getElementById(this.element.id + '_hoverRect_canvas');\n            if (main) {\n                main.style.visibility = 'hidden';\n                this.tempRectHoverClass = '';\n            }\n        }\n        if (this.titleSettings.text && this.titleCollection[0].indexOf('...') !== -1) {\n            if (!this.enableCanvasRendering) {\n                removeElement(this.element.id + '_Title_Tooltip');\n            }\n            else {\n                removeElement(this.element.id + '_canvas_Tooltip');\n            }\n        }\n        return true;\n    };\n    /**\n     * To create div container for rendering two layers of canvas.\n     * @return {void}\n     * @private\n     */\n    HeatMap.prototype.createMultiCellDiv = function (onLoad) {\n        if (onLoad) {\n            var divElement = this.createElement('div', {\n                id: this.element.id + '_Multi_CellSelection_Canvas',\n                styles: 'position:relative'\n            });\n            this.element.appendChild(divElement);\n            divElement.appendChild(this.svgObject);\n            this.svgObject.style.position = 'absolute';\n            this.svgObject.style.left = '0px';\n            this.svgObject.style.top = '0px';\n            this.svgObject.style.zIndex = '0';\n        }\n        else {\n            var element = document.getElementById(this.element.id + '_Multi_CellSelection_Canvas');\n            var secondaryCanvas = this.secondaryCanvasRenderer.createCanvas({\n                width: this.availableSize.width,\n                height: this.availableSize.height, x: 0, y: 0,\n                style: 'position: absolute; z-index: 1'\n            });\n            element.appendChild(secondaryCanvas);\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"height\", void 0);\n    __decorate([\n        Property(true)\n    ], HeatMap.prototype, \"showTooltip\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"tooltipRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"resized\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"loaded\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellRender\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellSelected\", void 0);\n    __decorate([\n        Property('SVG')\n    ], HeatMap.prototype, \"renderingMode\", void 0);\n    __decorate([\n        Property(null)\n    ], HeatMap.prototype, \"dataSource\", void 0);\n    __decorate([\n        Property('Material')\n    ], HeatMap.prototype, \"theme\", void 0);\n    __decorate([\n        Property(false)\n    ], HeatMap.prototype, \"allowSelection\", void 0);\n    __decorate([\n        Complex({}, Margin)\n    ], HeatMap.prototype, \"margin\", void 0);\n    __decorate([\n        Complex({ text: '', textStyle: Theme.heatMapTitleFont }, Title)\n    ], HeatMap.prototype, \"titleSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"xAxis\", void 0);\n    __decorate([\n        Complex({}, LegendSettings)\n    ], HeatMap.prototype, \"legendSettings\", void 0);\n    __decorate([\n        Complex({}, PaletteSettings)\n    ], HeatMap.prototype, \"paletteSettings\", void 0);\n    __decorate([\n        Complex({}, TooltipSettings)\n    ], HeatMap.prototype, \"tooltipSettings\", void 0);\n    __decorate([\n        Complex({}, Axis)\n    ], HeatMap.prototype, \"yAxis\", void 0);\n    __decorate([\n        Complex({}, CellSettings)\n    ], HeatMap.prototype, \"cellSettings\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"load\", void 0);\n    __decorate([\n        Event()\n    ], HeatMap.prototype, \"cellClick\", void 0);\n    HeatMap = __decorate([\n        NotifyPropertyChanges\n    ], HeatMap);\n    return HeatMap;\n}(Component));\nexport { HeatMap };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { isNullOrUndefined, Complex } from '@syncfusion/ej2-base';\nimport { Property, ChildProperty } from '@syncfusion/ej2-base';\nimport { DataUtil } from '@syncfusion/ej2-data';\nimport { increaseDateTimeInterval } from '../utils/helper';\nimport { BubbleData } from '../model/base';\n/**\n * Configures the Adaptor Property in the Heatmap.\n */\nvar Data = /** @class */ (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property(null)\n    ], Data.prototype, \"data\", void 0);\n    __decorate([\n        Property(false)\n    ], Data.prototype, \"isJsonData\", void 0);\n    __decorate([\n        Property('cell')\n    ], Data.prototype, \"adaptorType\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"xDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"yDataMapping\", void 0);\n    __decorate([\n        Property('')\n    ], Data.prototype, \"valueMapping\", void 0);\n    __decorate([\n        Complex({}, BubbleData)\n    ], Data.prototype, \"bubbleDataMapping\", void 0);\n    return Data;\n}(ChildProperty));\nexport { Data };\nvar AdaptiveMinMax = /** @class */ (function () {\n    function AdaptiveMinMax() {\n    }\n    return AdaptiveMinMax;\n}());\nexport { AdaptiveMinMax };\n/**\n *\n * The `Adaptor` module is used to handle JSON and Table data.\n */\nvar Adaptor = /** @class */ (function () {\n    function Adaptor(heatMap) {\n        this.reconstructedXAxis = [];\n        this.reconstructedYAxis = [];\n        this.adaptiveXMinMax = new AdaptiveMinMax();\n        this.adaptiveYMinMax = new AdaptiveMinMax();\n        this.heatMap = heatMap;\n    }\n    /**\n     * Method to construct Two Dimentional Datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructDatasource = function (adaptData) {\n        if (adaptData.adaptorType === 'Cell') {\n            var xAxis = this.heatMap.xAxis;\n            var yAxis = this.heatMap.yAxis;\n            this.adaptiveXMinMax.min = xAxis.minimum;\n            this.adaptiveXMinMax.max = xAxis.maximum;\n            this.adaptiveYMinMax.min = yAxis.minimum;\n            this.adaptiveYMinMax.max = yAxis.maximum;\n            if (((xAxis.valueType === 'Numeric' || xAxis.valueType === 'DateTime') &&\n                (isNullOrUndefined(xAxis.minimum) || isNullOrUndefined(xAxis.maximum))) ||\n                ((yAxis.valueType === 'Numeric' || yAxis.valueType === 'DateTime') &&\n                    (isNullOrUndefined(yAxis.minimum) || isNullOrUndefined(yAxis.maximum)))) {\n                this.getMinMaxValue(adaptData, xAxis, yAxis);\n            }\n            this.heatMap.isCellData = true;\n        }\n        if (adaptData && adaptData.data === undefined) {\n            this.heatMap.completeAdaptDataSource = adaptData;\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Table' || adaptData.data === null) {\n            this.heatMap.completeAdaptDataSource = adaptData.data;\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Table') {\n            this.heatMap.completeAdaptDataSource = this.processJsonTableData(adaptData);\n        }\n        else if (adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            this.heatMap.completeAdaptDataSource = this.processJsonCellData(adaptData);\n        }\n        else if (!adaptData.isJsonData && adaptData.adaptorType === 'Cell') {\n            this.constructAdaptiveAxis();\n            this.heatMap.completeAdaptDataSource = this.processCellData(adaptData);\n            this.heatMap.isCellData = true;\n        }\n    };\n    /**\n     * Method to construct Axis Collection.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.constructAdaptiveAxis = function () {\n        var xAxis = this.heatMap.xAxis;\n        var yAxis = this.heatMap.yAxis;\n        var intervalType;\n        if (xAxis.valueType === 'Numeric') {\n            this.reconstructedXAxis = this.getNumericAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.increment);\n        }\n        if (yAxis.valueType === 'Numeric') {\n            this.reconstructedYAxis = this.getNumericAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.increment);\n        }\n        if (xAxis.valueType === 'DateTime') {\n            this.reconstructedXAxis = this.getDateAxisCollection(this.adaptiveXMinMax.min, this.adaptiveXMinMax.max, xAxis.intervalType, xAxis.increment);\n        }\n        if (yAxis.valueType === 'DateTime') {\n            this.reconstructedYAxis = this.getDateAxisCollection(this.adaptiveYMinMax.min, this.adaptiveYMinMax.max, yAxis.intervalType, yAxis.increment);\n        }\n    };\n    /**\n     * Method to calculate Numeric Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getNumericAxisCollection = function (min, max, increment) {\n        var loopIndex = min;\n        var tempAxisColl = [];\n        while (loopIndex <= max) {\n            tempAxisColl.push(loopIndex.toString());\n            loopIndex = loopIndex + increment;\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate DateTime Axis Collection.\n     * @return {string[]}\n     * @private\n     */\n    Adaptor.prototype.getDateAxisCollection = function (min, max, intervalType, increment) {\n        var option = {\n            skeleton: 'full',\n            type: 'dateTime'\n        };\n        var dateParser = this.heatMap.intl.getDateParser(option);\n        var dateFormatter = this.heatMap.intl.getDateFormat(option);\n        min = Date.parse(dateParser(dateFormatter(new Date(DataUtil.parse.parseJson({ val: min }).val))));\n        var tempInterval = min;\n        var tempAxisColl = [];\n        while (tempInterval <= max) {\n            tempAxisColl.push(new Date(tempInterval).toString());\n            tempInterval = increaseDateTimeInterval(tempInterval, 1, intervalType, increment).getTime();\n        }\n        return tempAxisColl;\n    };\n    /**\n     * Method to calculate Maximum and Minimum Value from datasource.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.getMinMaxValue = function (adapData, xAxis, yAxis) {\n        var data = adapData.data;\n        var label = Object.keys(data[0]);\n        if (data.length > 0) {\n            this.adaptiveXMinMax.min = !isNullOrUndefined(xAxis.minimum) ? xAxis.minimum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.min = !isNullOrUndefined(yAxis.minimum) ? yAxis.minimum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[1]] : data[0][1];\n            this.adaptiveXMinMax.max = !isNullOrUndefined(xAxis.maximum) ? xAxis.maximum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[0]] : data[0][0];\n            this.adaptiveYMinMax.max = !isNullOrUndefined(yAxis.maximum) ? yAxis.maximum : adapData.isJsonData ?\n                // tslint:disable-next-line:no-any\n                data[0][label[1]] : data[0][1];\n        }\n        for (var dataIndex = 0; dataIndex < data.length; dataIndex++) {\n            // tslint:disable-next-line:no-any\n            var xDataIndex = adapData.isJsonData ? data[dataIndex][label[0]] : data[dataIndex][0];\n            // tslint:disable-next-line:no-any\n            var yDataIndex = adapData.isJsonData ? data[dataIndex][label[1]] : data[dataIndex][1];\n            if (xDataIndex < this.adaptiveXMinMax.min && isNullOrUndefined(xAxis.minimum)) {\n                this.adaptiveXMinMax.min = xDataIndex;\n            }\n            if (xDataIndex > this.adaptiveXMinMax.max && isNullOrUndefined(xAxis.maximum)) {\n                this.adaptiveXMinMax.max = xDataIndex;\n            }\n            if (yDataIndex < this.adaptiveYMinMax.min && isNullOrUndefined(yAxis.minimum)) {\n                this.adaptiveYMinMax.min = yDataIndex;\n            }\n            if (yDataIndex > this.adaptiveYMinMax.max && isNullOrUndefined(yAxis.maximum)) {\n                this.adaptiveYMinMax.max = yDataIndex;\n            }\n        }\n    };\n    /**\n     * Method to process Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.reconstructedXAxis;\n        var yLabels = this.reconstructedYAxis;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                if (this.heatMap.xAxis.valueType === 'Category') {\n                    currentDataXIndex = tempDataCollection[xindex][0];\n                }\n                else {\n                    currentDataXIndex = xLabels.indexOf(tempDataCollection[xindex][0].toString());\n                }\n                if (currentDataXIndex > -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    if (this.heatMap.yAxis.valueType === 'Category') {\n                        currentDataYIndex = tempDataCollection[xindex][1];\n                    }\n                    else {\n                        currentDataYIndex = yLabels.indexOf(tempDataCollection[xindex][1].toString());\n                    }\n                    if (currentDataYIndex !== -1) {\n                        while (this.reconstructData[currentDataXIndex][currentDataYIndex] !== '') {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        this.reconstructData[currentDataXIndex][currentDataYIndex] = isNullOrUndefined(tempDataCollection[xindex][2]) ?\n                            '' : tempDataCollection[xindex][2];\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to process JSON Cell datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonCellData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xAxisLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yAxisLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var axisCollections = this.heatMap.axisCollections;\n        if (xAxisLabels.length === 0 || yAxisLabels.length === 0) {\n            this.generateAxisLabels(adaptordata);\n        }\n        var xLabels = (this.heatMap.xAxis.valueType === 'Category') ? (xAxisLabels.length > 0 ?\n            this.heatMap.xAxis.labels : axisCollections[0].jsonCellLabel) : axisCollections[0].labelValue;\n        var yLabels = (this.heatMap.yAxis.valueType === 'Category') ? (yAxisLabels.length > 0 ?\n            this.heatMap.yAxis.labels : axisCollections[1].jsonCellLabel) : axisCollections[1].labelValue;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var index = 0; index < tempDataCollection.length; index++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    currentDataYIndex = this.getSplitDataValue(tempDataCollection[index], adaptordata, yLabels, adaptordata.yDataMapping.split('.'), this.heatMap.yAxis.valueType);\n                    if (currentDataYIndex !== -1) {\n                        while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                            this.reconstructData[currentDataXIndex].push('');\n                        }\n                        if (this.heatMap.bubbleSizeWithColor) {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = [\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.size.split('.'), ''),\n                                this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.bubbleDataMapping.color.split('.'), '')\n                            ];\n                        }\n                        else {\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] = this.getSplitDataValue(tempDataCollection[index], adaptordata, null, adaptordata.valueMapping.split('.'), '');\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * Method to generate axis labels when labels are not given.\n     * @return {string}\n     * @private\n     */\n    Adaptor.prototype.generateAxisLabels = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var hasXLabels = xLabels.length > 0 ? true : false;\n        var hasYLabels = yLabels.length > 0 ? true : false;\n        var axisCollection = this.heatMap.axisCollections;\n        for (var index = 0; index < axisCollection.length; index++) {\n            var valueType = axisCollection[index].valueType;\n            var axis = axisCollection[index];\n            if (valueType === 'Category') {\n                var hasLabels = void 0;\n                var dataMapping = void 0;\n                var labels = void 0;\n                if (axis.orientation === 'Horizontal') {\n                    hasLabels = hasXLabels;\n                    dataMapping = adaptordata.xDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                else {\n                    hasLabels = hasYLabels;\n                    dataMapping = adaptordata.yDataMapping;\n                    axis.jsonCellLabel = labels = [];\n                }\n                if (!hasLabels) {\n                    for (var i = 0; i < tempDataCollection.length; i++) {\n                        if (dataMapping in tempDataCollection[i]) {\n                            var xValue = tempDataCollection[i][dataMapping].toString();\n                            if (labels.indexOf(xValue.toString()) === -1) {\n                                labels.push(xValue);\n                            }\n                        }\n                    }\n                }\n            }\n            else if (valueType === 'DateTime') {\n                axis.clearAxisLabel();\n                axis.calculateDateTimeAxisLabel(this.heatMap);\n            }\n            else {\n                axis.clearAxisLabel();\n                axis.calculateNumericAxisLabels(this.heatMap);\n            }\n        }\n    };\n    /**\n     * Method to get data from complex mapping.\n     * @return {number|string}\n     * @private\n     */\n    Adaptor.prototype.getSplitDataValue = function (\n    // tslint:disable-next-line:no-any \n    tempSplitDataCollection, adaptordata, labels, tempSplitData, valueType) {\n        var value = -1;\n        this.tempSplitDataCollection = tempSplitDataCollection;\n        for (var splitIndex = 0; splitIndex < tempSplitData.length; splitIndex++) {\n            value = !isNullOrUndefined(labels) ? (!(valueType === 'DateTime') ?\n                labels.indexOf(this.tempSplitDataCollection[tempSplitData[splitIndex]]) :\n                labels.map(Number).indexOf(+this.tempSplitDataCollection[tempSplitData[splitIndex]])) : null;\n            if (!isNullOrUndefined(this.tempSplitDataCollection)) {\n                this.tempSplitDataCollection = value !== -1 && !isNullOrUndefined(labels) ?\n                    this.tempSplitDataCollection : this.tempSplitDataCollection[tempSplitData[splitIndex]];\n            }\n            if (isNullOrUndefined(this.tempSplitDataCollection)) {\n                break;\n            }\n        }\n        value = !isNullOrUndefined(labels) ? value : isNullOrUndefined(this.tempSplitDataCollection) ||\n            this.tempSplitDataCollection.toString() === '' ? '' : parseFloat(this.tempSplitDataCollection.toString());\n        return value;\n    };\n    /**\n     * Method to process JSON Table datasource.\n     * @return {Object}\n     * @private\n     */\n    Adaptor.prototype.processJsonTableData = function (adaptordata) {\n        // tslint:disable-next-line:no-any \n        var tempDataCollection = adaptordata.data;\n        var currentDataXIndex = 0;\n        var currentDataYIndex = 0;\n        var xLabels = this.heatMap.xAxis.labels ? this.heatMap.xAxis.labels : [];\n        var yLabels = this.heatMap.yAxis.labels ? this.heatMap.yAxis.labels : [];\n        var key;\n        if (tempDataCollection.length) {\n            this.reconstructData = [];\n            for (var xindex = 0; xindex < tempDataCollection.length; xindex++) {\n                currentDataXIndex = this.getSplitDataValue(tempDataCollection[xindex], adaptordata, xLabels, adaptordata.xDataMapping.split('.'), this.heatMap.xAxis.valueType);\n                if (currentDataXIndex !== -1) {\n                    while (!this.reconstructData[currentDataXIndex]) {\n                        this.reconstructData.push([]);\n                    }\n                    for (var index = 0; index < Object.keys(this.tempSplitDataCollection).length; index++) {\n                        key = Object.keys(this.tempSplitDataCollection)[index];\n                        currentDataYIndex = key !== adaptordata.xDataMapping ? yLabels.indexOf(key) : -1;\n                        if (currentDataYIndex !== -1) {\n                            while (isNullOrUndefined(this.reconstructData[currentDataXIndex][currentDataYIndex])) {\n                                this.reconstructData[currentDataXIndex].push('');\n                            }\n                            this.reconstructData[currentDataXIndex][currentDataYIndex] =\n                                isNullOrUndefined(this.tempSplitDataCollection[key]) ?\n                                    '' : this.tempSplitDataCollection[key];\n                        }\n                    }\n                }\n            }\n        }\n        return this.reconstructData;\n    };\n    /**\n     * To destroy the Adaptor.\n     * @return {void}\n     * @private\n     */\n    Adaptor.prototype.destroy = function (heatMap) {\n        /**\n         * No Lines\n         */\n    };\n    ;\n    /**\n     * To get Module name\n     */\n    Adaptor.prototype.getModuleName = function () {\n        return 'Adaptor';\n    };\n    return Adaptor;\n}());\nexport { Adaptor };\n"],"names":["getThemeColor","theme","style","toLowerCase","heatMapTitle","axisTitle","axisLabel","cellBorder","background","cellTextColor","toggledColor","emptyCellColor","legendLabel","palette","color","stringToNumber","value","containerSize","undefined","indexOf","parseInt","measureText","text","font","htmlObject","document","getElementById","createElement","id","body","appendChild","innerHTML","position","visibility","fontSize","size","fontWeight","fontStyle","fontFamily","top","left","whiteSpace","lineHeight","Size","clientWidth","clientHeight","titlePositionX","width","leftPadding","rightPadding","titleStyle","textAlignment","sum","values","_i","values_1","length","titlePositionY","heatmapSize","topPadding","bottomPadding","height","rotateTextSize","angle","box","options","renderer","SvgRenderer","svgObject","createSvg","font-size","font-style","font-family","font-weight","transform","text-anchor","createText","getBoundingClientRect","remove","right","bottom","getTitle","title","titleCollection","textOverflow","textWrap","push","textTrim","textNone","currentLabel","maximumWidth","textCollection","split","label","labelCollection","i","len","concat","maxWidth","index","substring","showTooltip","x","y","areaWidth","element","isTouch","heatmap","tooltip","initialClipRect","toString","styles","titleSettings","availableSize","setTimeout","removeElement","getElement","increaseDateTimeInterval","interval","intervalType","increment","result","Date","Math","ceil","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setHours","getHours","setMinutes","getMinutes","getTooltipText","tooltipCollection","xPosition","yPosition","region","colorNameToHex","window","getComputedStyle","isRGBValue","exec","convertToHexCode","RgbColor","componentToHex","R","G","B","hex","convertHexToColor","formatValue","isCustom","format","tempInterval","formatFun","replace","Theme","heatMapTitleFont","axisTitleFont","axisLabelFont","legendLabelFont","rectLabelFont","tooltipFont","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","Font","_super","apply","Property","ChildProperty","Margin","Border","TooltipBorder","BubbleData","Title","Complex","PaletteCollection","AxisLabelBorder","BubbleSize","MultiLevelCategories","MultiLevelLabels","type","Collection","ColorCollection","BubbleTooltipData","mappingName","bubbleData","valueType","LegendColorCollection","isHidden","PaletteSettings","g","CellColor","heatMap","convertToRGB","colorMapping","previousOffset","nextOffset","offset","Number","percent","isNaN","previousColor","getEqualColor","nextColor","getPercentageColor","rgbToHex","list","convertToHex","itemColor","substr","colorSplit","previous","next","prevColor","getPercentage","full","round","getColorCollection","colorCollection","legendColorCollection","range","minValue","bubbleSizeWithColor","minColorValue","dataSourceMinValue","maxValue","maxColorValue","dataSourceMaxValue","emptyPointColor","paletteSettings","themeStyle","tempcolorMapping","orderbyOffset","isCompact","offsets","extend","updateLegendColorCollection","isLabel","unshift","returnCollection","PaletterColor","sort","a","isNullOrUndefined","getColorByValue","rbg","compareValue","cellSettings","tileType","bubbleType","singleValue","legendRange","legendVisibilityByCellType","legendModule","visible","TextElement","fontModel","fontColor","fill","CustomizeOption","PathOption","opacity","dashArray","_this","call","stroke","parseFloat","CurrentRect","xIndex","yIndex","xValue","yValue","displayText","textId","SelectedCellDetails","xLabel","yLabel","cellElement","RectOption","border","rect","borderColor","rx","ry","CircleOption","cx","cy","Rect","TextOption","basic","labelRotation","baseline","dy","TextBasic","anchor","baseLine","Line","x1","y1","x2","y2","LineOption","line","strokewidth","dasharray","PathAttributes","path","borderWidth","Path","innerR","start","end","radius","counterClockWise","DrawSvgCanvas","drawRectangle","properties","parentElement","isFromSeries","enableCanvasRendering","drawCanvasRectangle","canvasRenderer","drawCircle","drawCanvasCircle","drawPath","drawCanvasPath","canvasDrawText","createWrapText","tspanElement","renderOptions","dominant-baseline","drawText","createTSpan","drawLine","translateX","translateY","ctx","getOptionValue","save","fillStyle","textAlign","textBaseline","translate","rotate","PI","fillText","restore","setAttributes","canvas","lineWidth","dashArrayString","setLineDash","strokeStyle","canvasCtx","beginPath","globalAlpha","drawCornerRadius","cornerRadius","moveTo","arcTo","closePath","arc","dataSplit","lineTo","Gradient","GradientColor","colorStop","CanvasTooltip","GradientPointer","pathX1","pathY1","pathX2","pathY2","pathX3","pathY3","CurrentLegendRect","LegendRange","currentPage","ToggleVisibility","MultiLevelPosition","Axis","nearSizes","farSizes","maxLabelSize","titleSize","axisLabels","tooltipLabels","labelValue","axisLabelSize","axisLabelInterval","dateTimeAxisLabelInterval","maxLength","min","max","isIntersect","jsonCellLabel","multiLevelSize","xAxisMultiLabelHeight","yAxisMultiLabelHeight","multiLevelPosition","computeSize","axis","getTitleSize","getMaxLabelSize","getMultilevelLabelsHeight","multiLevelLabels","multiLevelLabelSize","multiPosition","innerPadding","orientation","level0","level1","isInversed","opposedPosition","labelSize","multiLevel","categoryLabel","categories","size_1","textStyle","gap","startPosition","endPosition","multiLevelLabelsHeight","isVertical","padding","map","heatMapAxis","calculateLeftPosition","calculateWidth","maximumTextWidth","abs","overflow","labels","labelIntersectAction","showLabelOn","startX","previousEnd","previousStart","elementSize","axisInterval","startPoint","endPoint","calculateNumericAxisLabels","adaptorMin","adaptorMax","adaptorModule","isCellData","adaptiveXMinMax","adaptiveYMinMax","minimum","maximum","temp","labelFormat","match","intl","getNumberFormat","floor","reverse","calculateCategoryAxisLabels","calculateDateTimeAxisLabel","option","skeleton","dateParser","getDateParser","dateFormatter","getDateFormat","parse","DataUtil","parseJson","val","getTime","getSkeleton","calculateLabelInterval","getTotalLabelLength","numberOfDays","year","month","day","minutes","difference","days","years","months","hours","clearAxisLabel","AxisHelper","drawSvgCanvas","renderAxes","axisElement","createGroup","axes","axisCollections","drawXAxisLine","drawXAxisTitle","drawXAxisLabels","drawYAxisLine","drawYAxisTitle","drawYAxisLabels","drawMultiLevels","parent","calculateVisibleLabels","axisCollection","data","dataSource","processLabels","isJsonData","adaptorType","measureAxis","calculateAxisSize","axis_1","i_1","compactInterval","tempintervel","labelPadding","lableStrtX","labelElement","borderElement","lableRect","drawXAxisBorder","rotateSize","diffHeight","labelInterval","lableStartY","labelRect","Browser","isIE","drawYAxisBorder","lableX","endX","endY","startY","createAxisBorderElement","lableY","labelBorder","pathOptions","canvasTranslate","renderXAxisMultiLevelLabels","renderYAxisMultiLevelLabels","textLength","pathRect","level","alignment","textBasic","i_2","renderXAxisLabelBorder","createBorderElement","labelIndex","startY2","renderYAxisLabelBorder","borderIndex","calculateNumberOfDays","date","firstDate","secondDate","givenDate","CellSettings","Series","cellColor","renderRectSeries","createSeriesGroup","isValueInRange","xLength","yLength","tempBorder","circleRadius","tempX","tempY","dataXIndex","dataYIndex","cellSetting","tempWidth","tempHeight","tempVal","tempRectPosition","rectPositionCollection","bubbleColorValue","yAxis","getBubbleRadius","setTextAndColor","rectPosition","renderingMode","updateRectDetails","showLabel","getFormatedText","cellRender","cellRendering","renderTileCell","updateLabelVisibleStatus","renderBubbleCell","renderSectorCell","checkLabelXDisplay","checkLabelYDisplay","tempCircleRadius","getRadiusBypercentage","rangeSelection","isCellValueInRange","themeCellTextStyle","getSaturatedColor","containerTextObject","containerRectObject","toggleValue","clonedDataSource","bubbleText","xAxis","xLabels","yLabels","slice","yLabelValue","argData","cancel","name","trigger","adaptData","isColorValueExist","tempBubbleCollection","bubbleDataMapping","bubblePosition","curve","startAngle","endAngle","cX","cY","X1","Y1","tempcX","tempcY","pathBorderWidth","centerX","centerY","tempColor","sectorContibution","cos","sin","sector","calculateShapes","pathString","merge","circle","bubbleSize","valueInPrecentage","isInversedBubbleSize","saturatedColor","rgbValue","backgroundColor","highlightSvgRect","tempID","tempIndex","tempRectHoverClass","enableCellHighlighting","oldElement","rectSelected","setAttribute","getFormat","getCurrentRect","currentRect","firstRectDetails","heatMapSeries","rectX","rectY","hoverXAxisLabel","hoverXAxisValue","hoverYAxisLabel","hoverYAxisValue","TooltipSettings","Tooltip","isFirst","isFadeout","getModuleName","showHideTooltip","isShow","ele","tooltipObject","fadeOut","firstChild","destroy","createTooltip","tempTooltipText","tool","enableAnimation","location","content","tooltipSettings","areaBounds","createTooltipDiv","element2","getTooltipContent","hetmapSeries","value1","value2","renderTooltip","tooltipRender","TwoDimensional","processDataSource","tempCloneData","completeDataSource","minVal","maxVal","tempVariable","dataLength","labelLength","cloneDataIndex","minMaxDatasource","tempSizeArray","tempColorArray","z","processDataArray","minMaxVal","getMinMaxValue","internalArray","tempx","minMaxValue","getMinValue","getMaxValue","performSort","filter","checkmin","LegendSettings","Legend","maxLegendLabelSize","gradientScaleSize","segmentCollections","textWrapCollections","labelCollections","legendSize","previousOptions","listPerPage","numberOfPages","listWidth","fillRect","legendRect","lastList","navigationCollections","pagingRect","listInterval","legendLabelTooltip","labelXCollections","labelYCollections","legendXCollections","legendYCollections","legendRectPositionCollection","legendTextRange","visibilityCollections","renderLegendItems","legend","rectItems","legendGroup","legendBound","legendRectScale","rectItemsSvg","legendSettings","enableSmartLegend","resizing","legendOnLoad","rendering","grd","horizontalGradient","createLinearGradient","legendMinValue","legendMaxValue","addColorStop","gradientOptions","gradientColor","cgradientColors","gradientPercentage","linearGradient","drawGradient","rectItem","renderColorAxisGrid","renderSmartLegend","renderLegendLabel","legendScale","listRect","translategroup","calculateListPerPage","paginggroup","renderListLegendMode","smartLegendRect","legendX","legendY","legendWidth","legendHeight","labelDisplayType","dominantBaseline","textWrapWidth","clip","labelX","labelY","legendRectPadding","textPosition","lastChild","clippath","createClipPath","clipRect","renderGradientPointer","e","pageX","pageY","direction","legendPath","cellValue","removeGradientPointer","gradientPointer","keys","calculateLegendBounds","calculateListLegendBounds","listHeight","perListWidth","numberOfRows","calculateLegendSize","legendTop","axisTitlePadding","axisHeight","margin","axisWidth","calculateGradientScale","measureListLegendBound","maxHeight","renderPagingElements","rightArrowX","rightArrowY","textSize","textX","pagingTextRect","rightArrowRect","iconSize","rightArrow","leftX","leftArrow","leftArrowRect","leftOption","rightOption","arrow","rightarrow","scale","calculateColorAxisGrid","legendPart","maxTextWrapLength","previousSegmentWidth","nextSegmentWidth","legendElement","renderLegendLabelTooltip","mouseX","mouseY","event","textContent","targetId","offsetWidth","division","listColor","translatePage","page","isNext","removeChild","childNodes","allowSelection","secondaryCanvasRenderer","initialRect","rectWidth","rectHeight","clearRect","oldCanvas","newCanvas","rectImage","getContext","getImageData","putImageData","currentLegendRect","inverted","legendRangeSelection","clearSelection","updateLegendRangeCollections","HeatMap","multiSelection","previousSelectedCellsRect","multiCellCollection","tempMultiCellCollection","preRender","initPrivateVariable","unWireEvents","wireEvents","CanvasRenderer","twoDimensional","tempTooltipRectId","setCulture","Internationalization","render","updateBubbleHelperProperty","initAxis","processInitData","setTheme","calculateMaxLength","completeAdaptDataSource","calculateBounds","renderElements","appendSvgObject","tooltipModule","reRenderDatasource","constructDatasource","setRenderMode","renderSecondaryElement","renderBorder","renderTitle","getPersistData","onPropertyChanged","newProp","oldProp","refreshBounds","_a","refresh","refreshBound","removeSvg","calculateSize","createCanvas","createMultiCellDiv","tooltipDiv","divElement","requiredModules","modules","member","args","classList","add","offsetHeight","titleTooltip","axisTooltip","tooltipText","isHeatmapRect","lastRectDetails","titleHeight","titleRect","isIE11Pointer","isPointer","touchStartEvent","stop","touchEndEvent","move","touchMoveEvent","EventHandler","isDevice","heatMapMouseClick","heatMapMouseMove","heatMapMouseLeave","addEventListener","heatMapResize","bind","setStyle","touchAction","msTouchAction","msContentZooming","msUserSelect","webkitUserSelect","display","removeEventListener","currentSize","previousSize","resizeTimer","clearTimeout","isDestroyed","xAxisMax","yAxisMax","length_1","setMouseXY","svgCanvasRect","touchArg","elementRect","changedTouches","clientY","clientX","notify","loop","toggleVisibility","isheatmapRect","showGradientPointer","renderMousePointer","isshowTooltip","cellSelectionOnMouseMove","tooltipOnMouseMove","tooltipRect","previousRect","initialCellX","initialCellY","highlightSelectedCells","tooltipTimer","preventDefault","pXIndex","pYIndex","cXIndex","cYIndex","minX","maxX","minY","maxY","cellX","cellY","selectedCellsRect","removeSelectedCellsBorder","getSelectedCellDatas","parentDiv","shift","rectElement","textElement","elementClassName","getAttribute","removeSvgClass","highlightSelectedAreaInCanvas","topPosition","bottomPosition","rightPosition","leftPosition","cellDetails","addSvgClass","className","cursor","containerRect","containerText","tooltipElement_1","legendTooltipTimer","gradientTimer","main","onLoad","zIndex","secondaryCanvas","Event","NotifyPropertyChanges","Component","Data","AdaptiveMinMax","Adaptor","reconstructedXAxis","reconstructedYAxis","processJsonTableData","processJsonCellData","constructAdaptiveAxis","processCellData","getNumericAxisCollection","getDateAxisCollection","loopIndex","tempAxisColl","adapData","dataIndex","xDataIndex","yDataIndex","adaptordata","tempDataCollection","currentDataXIndex","currentDataYIndex","reconstructData","xindex","xAxisLabels","yAxisLabels","generateAxisLabels","getSplitDataValue","xDataMapping","yDataMapping","valueMapping","hasXLabels","hasYLabels","hasLabels","dataMapping","tempSplitDataCollection","tempSplitData","splitIndex"],"mappings":"kEA0DA,SAAgBA,GAAcC,GAC1B,GAAIC,EACJ,QAAQD,EAAME,eACV,IAAK,oBACL,IAAK,eACDD,GACIE,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,WAAY,UACZC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,YAAa,UACbC,UAAYC,MAAS,YACfA,MAAS,YACTA,MAAS,YAEnB,MACJ,KAAK,eACL,IAAK,aACL,IAAK,gBACDZ,GACIE,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZC,WAAY,UACZC,cAAe,UACfC,aAAc,UACdC,eAAgB,UAChBC,YAAa,UACbC,UAAYC,MAAS,YACfA,MAAS,YACTA,MAAS,YAEnB,MACJ,SACIZ,GACIE,aAAc,UACdC,UAAW,UACXC,UAAW,UACXC,WAAY,UACZE,cAAe,UACfC,aAAc,UACdF,WAAY,UACZG,eAAgB,UAChBC,YAAa,UACbC,UAAYC,MAAS,YACfA,MAAS,YACTA,MAAS,aAI3B,MAAOZ,GC9FX,QAAgBa,GAAeC,EAAOC,GAClC,MAAc,QAAVD,OAA4BE,KAAVF,GACa,IAAxBA,EAAMG,QAAQ,KAAeF,EAAgB,IAAOG,SAASJ,EAAO,IAAMI,SAASJ,EAAO,IAE9F,KAMX,QAAgBK,GAAYC,EAAMC,GAC9B,GAAIC,GAAaC,SAASC,eAAe,qBAiBzC,OAhBmB,QAAfF,IACAA,EAAaG,gBAAc,QAAUC,GAAI,uBACzCH,SAASI,KAAKC,YAAYN,IAE9BA,EAAWO,UAAYT,EACvBE,EAAWtB,MAAM8B,SAAW,WAC5BR,EAAWtB,MAAM+B,WAAa,SAC9BT,EAAWtB,MAAMgC,UAA0C,IAA9BX,OAAWJ,QAAQ,MAAeI,EAAKY,KAAOZ,EAAKY,KAAO,KACvFX,EAAWtB,MAAMkC,WAAab,EAAKa,WACnCZ,EAAWtB,MAAMmC,UAAYd,EAAKc,UAClCb,EAAWtB,MAAMoC,WAAaf,EAAKe,WACnCd,EAAWtB,MAAMqC,IAAM,OACvBf,EAAWtB,MAAMsC,KAAO,IACxBhB,EAAWtB,MAAMuC,WAAa,SAE9BjB,EAAWtB,MAAMwC,WAAa,SACvB,GAAIC,GAAKnB,EAAWoB,YAAapB,EAAWqB,cAavD,QACgBC,GAAeC,EAAOC,EAAaC,EAAcC,GAW7D,MATiC,SAA7BA,EAAWC,cACCH,EAEsB,WAA7BE,EAAWC,cACJH,EAAcD,EAAQ,EAGtBA,EAAQC,EAyP5B,QAAgBI,GAAIC,GAEhB,IAAK,GADDD,GAAM,EACDE,EAAK,EAAGC,EAAWF,EAAQC,EAAKC,EAASC,OAAQF,IAEtDF,GADYG,EAASD,EAGzB,OAAOF,GAGX,QAAgBK,GAAeC,EAAaC,EAAYC,EAAeV,GAWnE,MATiC,SAA7BA,EAAWC,cACCO,EAAYG,OAASD,EAEC,WAA7BV,EAAWC,cACJO,EAAYG,OAAS,EAGrBF,EAKpB,QAAgBG,GAAevC,EAAMD,EAAMyC,GACvC,GAEIC,GACAC,EACAzC,EAJA0C,EAAW,GAAIC,eAAY,4BAC3BC,EAAYF,EAASG,WAAYzC,GAAI,+BAAgCmB,MAAO,IAAKc,OAAQ,KAiB7F,OAbAI,IACIK,YAAa/C,EAAKY,KAClBoC,aAAchD,EAAKc,UACnBmC,cAAejD,EAAKe,WACpBmC,cAAelD,EAAKa,WACpBsC,UAAa,UAAYX,EAAQ,UACjCY,cAAe,UAEnBnD,EAAa0C,EAASU,WAAWX,EAAS3C,GAC1C8C,EAAUtC,YAAYN,GACtBC,SAASI,KAAKC,YAAYsC,GAC1BJ,EAAMxC,EAAWqD,wBACjBC,SAAOV,GACA,GAAIzB,GAAMqB,EAAIe,MAAQf,EAAIxB,KAAQwB,EAAIgB,OAAShB,EAAIzB,KAoP9D,QACgB0C,GAASC,EAAOhF,EAAO6C,GACnC,GAAIoC,KACJ,QAAQjF,EAAMkF,cACV,IAAK,OACDD,EAAkBE,EAASH,EAAOnC,EAAO7C,EACzC,MACJ,KAAK,OACDiF,EAAgBG,KAAKC,EAASxC,EAAOmC,EAAOhF,GAC5C,MACJ,SACIiF,EAAgBG,KAAKE,EAASzC,EAAOmC,EAAOhF,IAGpD,MAAOiF,GAEX,QAAgBE,GAASI,EAAcC,EAAcnE,GAKjD,IAAK,GADDD,GAHAqE,EAAiBF,EAAaG,MAAM,KACpCC,EAAQ,GACRC,KAEKC,EAAI,EAAGC,EAAML,EAAenC,OAAQuC,EAAIC,EAAKD,IAClDzE,EAAOqE,EAAeI,GAClB1E,EAAYwE,EAAMI,OAAO3E,GAAOC,GAAMwB,MAAQ2C,EAC9CG,EAAQA,EAAMI,QAAkB,KAAVJ,EAAe,GAAK,KAAOvE,GAGnC,KAAVuE,GACAC,EAAgBR,KAAKC,EAASG,EAAcG,EAAOtE,IACnDsE,EAAQvE,IAGRwE,EAAgBR,KAAKC,EAASG,EAAcpE,EAAMC,IAClDD,EAAO,IAGXuE,GAASE,IAAMC,EAAM,GACrBF,EAAgBR,KAAKC,EAASG,EAAcG,EAAOtE,GAG3D,OAAOuE,GAGX,QAAgBP,GAASW,EAAU5E,EAAMC,GACrC,GAAIsE,GAAQvE,EACRa,EAAOd,EAAYC,EAAMC,GAAMwB,KACnC,IAAIZ,EAAO+D,EAEP,IAAK,GAAIC,GADQ7E,EAAKkC,OACQ,EAAG2C,GAAS,IAAKA,EAG3C,GAFAN,EAAQvE,EAAK8E,UAAU,EAAGD,GAAS,OACnChE,EAAOd,EAAYwE,EAAOtE,GAAMwB,QACpBmD,EACR,MAAOL,EAInB,OAAOA,GAGX,QAAgBL,GAASU,EAAU5E,EAAMC,GACrC,GAAIsE,GAAQvE,EACRa,EAAOd,EAAYC,EAAMC,GAAMwB,KACnC,IAAIZ,EAAO+D,EAEP,IAAK,GAAIH,GADQzE,EAAKkC,OACI,EAAGuC,GAAK,IAAKA,EAGnC,GAFAF,EAAQvE,EAAK8E,UAAU,EAAGL,IAC1B5D,EAAOd,EAAYwE,EAAOtE,GAAMwB,QACpBmD,EACR,MAAOL,EAInB,OAAOA,GAuBX,QAAgBQ,GAAY/E,EAAMgF,EAAGC,EAAGC,EAAW5E,EAAI6E,EAASC,EAASC,GACrE,GAAIC,GAAUnF,SAASC,eAAeE,GAElCO,GADcwE,EAAQE,gBACfxF,EAAYC,GACnBgB,WAAY,WAAYH,KAAM,OAC9BE,UAAW,SAAUD,WAAY,aAEjCW,EAAQZ,EAAKY,MAAQ,CAEzBuD,IADAA,EAAKA,EAAIvD,EAAQyD,EAAaF,EAAIvD,EAAQuD,GAClC,EAAI,EAAIA,EACXM,GAYDA,EAAQ7E,UAAYT,EACpBsF,EAAQ1G,MAAMqC,KAAOgE,EAAI,IAAIO,WAAa,KAC1CF,EAAQ1G,MAAMsC,MAAQ8D,EAAI,IAAIQ,WAAa,OAb3CF,EAAUjF,gBAAc,OACpBI,UAAWT,EACXM,GAAIA,EACJmF,OAAQ,QAAUR,EAAI,IAAIO,WAAa,YAAcR,EAAI,IAAIQ,WACzD,8PAIRL,EAAQ3E,YAAY8E,IAOpBtF,IAASqF,EAAQK,cAAc1F,KAC/BsF,EAAQ1G,MAAM6C,MAASuD,EAAI,GAAMnE,EAAKY,MAAQ,EAAI4D,EAAQM,cAAclE,OACnE4D,EAAQM,cAAclE,OAASuD,EAAI,KAAKQ,WAAa,KAAO,IAGjEF,EAAQ1G,MAAMsC,KAAQ8D,EAAI,GAAMnE,EAAKY,MAAQ,EAAI4D,EAAQM,cAAclE,OAClE4D,EAAQM,cAAclE,OAASZ,EAAKY,MAAQ,IAAI+D,WAAa,KAAOR,EAAEQ,WAAa,KACxFF,EAAQ1G,MAAMqC,IAAOgE,EAAI,GAAMpE,EAAK0B,OAAS,EAAI8C,EAAQM,cAAcpD,QAClE0C,GAAKpE,EAAK0B,OAAS,GAAK,IAAIiD,WAAa,KAAOF,EAAQ1G,MAAMqC,KAEnEmE,GACAQ,WAAW,WAAcC,EAAcvF,IAAQ,MAIvD,QAAgBuF,GAAcvF,GAC1B,GAAI6E,GAAUW,EAAWxF,EACrB6E,IACA3B,SAAO2B,GAIf,QAAgBW,GAAWxF,GACvB,MAAOH,UAASC,eAAeE,GAGnC,QAAgByF,GAAyBrG,EAAOsG,EAAUC,EAAcC,GACpE,GAAIC,GAAS,GAAIC,MAAK1G,EAEtB,QADAsG,EAAWK,KAAKC,KAAKN,EAAWE,GACxBD,GACJ,IAAK,QACDE,EAAOI,YAAYJ,EAAOK,cAAgBR,EAC1C,MACJ,KAAK,SACDG,EAAOM,SAASN,EAAOO,WAAaV,EACpC,MACJ,KAAK,OACDG,EAAOQ,QAAQR,EAAOS,UAAYZ,EAClC,MACJ,KAAK,QACDG,EAAOU,SAASV,EAAOW,WAAad,EACpC,MACJ,KAAK,UACDG,EAAOY,WAAWZ,EAAOa,aAAehB,GAGhD,MAAOG,GAcX,QAAgBc,GAAeC,EAAmBC,EAAWC,GAKzD,IAAK,GAHD9B,GACA+B,EACArH,EAHAkC,EAASgF,EAAkBhF,OAItBuC,EAAI,EAAGA,EAAIvC,EAAQuC,IAGxB,GAFAa,EAAU4B,EAAkBzC,GAC5B4C,EAAS/B,EAAQ+B,OACbF,GAAaE,EAAOrC,GAAKmC,GAAcE,EAAOrC,EAAIqC,EAAO5F,OAAU2F,GAAaC,EAAOpC,GAAKmC,GAAcC,EAAOpC,EAAIoC,EAAO9E,OAAS,CACrIvC,EAAOsF,EAAQtF,IACf,OAGR,MAAOA,GAkEX,QAAgBsH,GAAe9H,GAC3B,GAAI2F,EACJ3F,GAAkB,gBAAVA,EAA0B,QAAUA,GAC5C2F,EAAUhF,SAASC,eAAe,uBAC1BxB,MAAMY,MAAQA,EACtBA,EAAQ+H,OAAOC,iBAAiBrC,GAAS3F,KACzC,IACIiI,GADM,uGACWC,KAAKlI,EAC1B,OAAOmI,GAAiB,GAAIC,GAAS9H,SAAS2H,EAAW,GAAI,IAAK3H,SAAS2H,EAAW,GAAI,IAAK3H,SAAS2H,EAAW,GAAI,MAG3H,QAAgBE,GAAiBjI,GAC7B,MAAO,IAAMmI,EAAenI,EAAMoI,GAAKD,EAAenI,EAAMqI,GAAKF,EAAenI,EAAMsI,GAG1F,QAAgBH,GAAenI,GAC3B,GAAIuI,GAAMvI,EAAM8F,SAAS,GACzB,OAAsB,KAAfyC,EAAI/F,OAAe,IAAM+F,EAAMA,EAG1C,QAAgBC,GAAkBD,GAC9B,GAAI9B,GAAS,4CAA4CuB,KAAKO,EAC9D,OAAO9B,GAAS,GAAIyB,GAAS9H,SAASqG,EAAO,GAAI,IAAKrG,SAASqG,EAAO,GAAI,IAAKrG,SAASqG,EAAO,GAAI,KAC/F,GAAIyB,GAAS,IAAK,IAAK,KAG/B,QAAgBO,GAAYC,EAAUC,EAAQC,EAAcC,GACxD,MAAOH,GAAWC,EAAOG,QAAQ,UAAWD,EAAUD,IAChDC,EAAUD,GD13BpB,GAAWG,IACX,SAAWA,GAEPA,EAAMC,kBACF7H,KAAM,OACNC,WAAY,MACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,YAGhByH,EAAME,eACF9H,KAAM,OACNC,WAAY,SACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,YAGhByH,EAAMG,eACF/H,KAAM,OACNC,WAAY,SACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,YAGhByH,EAAMI,iBACFhI,KAAM,OACNC,WAAY,SACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,WACZ8C,aAAc,QAGlB2E,EAAMK,eACFjI,KAAM,OACNC,WAAY,SACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,WACZ8C,aAAc,QAGlB2E,EAAMM,aACFlI,KAAM,OACNC,WAAY,SACZtB,MAAO,KACPuB,UAAW,SACXC,WAAY,WACZ8C,aAAc,SAEnB2E,IAAUA,MExDb,IAAIO,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAO5DK,EAAsB,SAAUC,GAEhC,QAASD,KACL,MAAkB,QAAXC,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAuB/D,MAzBAX,GAAU2B,EAAMC,GAIhBb,GACIe,WAAS,SACVH,EAAKd,UAAW,WAAQ,IAC3BE,GACIe,WAAS,KACVH,EAAKd,UAAW,YAAS,IAC5BE,GACIe,WAAS,aACVH,EAAKd,UAAW,iBAAc,IACjCE,GACIe,WAAS,WACVH,EAAKd,UAAW,iBAAc,IACjCE,GACIe,WAAS,WACVH,EAAKd,UAAW,gBAAa,IAChCE,GACIe,WAAS,WACVH,EAAKd,UAAW,oBAAiB,IACpCE,GACIe,WAAS,SACVH,EAAKd,UAAW,mBAAgB,IAC5Bc,GACTI,iBAKEC,EAAwB,SAAUJ,GAElC,QAASI,KACL,MAAkB,QAAXJ,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAc/D,MAhBAX,GAAUgC,EAAQJ,GAIlBb,GACIe,WAAS,KACVE,EAAOnB,UAAW,WAAQ,IAC7BE,GACIe,WAAS,KACVE,EAAOnB,UAAW,YAAS,IAC9BE,GACIe,WAAS,KACVE,EAAOnB,UAAW,UAAO,IAC5BE,GACIe,WAAS,KACVE,EAAOnB,UAAW,aAAU,IACxBmB,GACTD,iBAKEE,EAAwB,SAAUL,GAElC,QAASK,KACL,MAAkB,QAAXL,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAW/D,MAbAX,GAAUiC,EAAQL,GAIlBb,GACIe,WAAS,KACVG,EAAOpB,UAAW,YAAS,IAC9BE,GACIe,WAAS,IACVG,EAAOpB,UAAW,YAAS,IAC9BE,GACIe,WAAS,KACVG,EAAOpB,UAAW,aAAU,IACxBoB,GACTF,iBAKEG,EAA+B,SAAUN,GAEzC,QAASM,KACL,MAAkB,QAAXN,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAQ/D,MAVAX,GAAUkC,EAAeN,GAIzBb,GACIe,WAAS,KACVI,EAAcrB,UAAW,YAAS,IACrCE,GACIe,WAAS,IACVI,EAAcrB,UAAW,YAAS,IAC9BqB,GACTH,iBAKEI,EAA4B,SAAUP,GAEtC,QAASO,KACL,MAAkB,QAAXP,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAQ/D,MAVAX,GAAUmC,EAAYP,GAItBb,GACIe,WAAS,OACVK,EAAWtB,UAAW,WAAQ,IACjCE,GACIe,WAAS,OACVK,EAAWtB,UAAW,YAAS,IAC3BsB,GACTJ,iBAKEK,EAAuB,SAAUR,GAEjC,QAASQ,KACL,MAAkB,QAAXR,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAQ/D,MAVAX,GAAUoC,EAAOR,GAIjBb,GACIe,WAAS,KACVM,EAAMvB,UAAW,WAAQ,IAC5BE,GACIsB,aAAYV,IACbS,EAAMvB,UAAW,gBAAa,IAC1BuB,GACTL,iBAKEO,EAAmC,SAAUV,GAE7C,QAASU,KACL,MAAkB,QAAXV,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAW/D,MAbAX,GAAUsC,EAAmBV,GAI7Bb,GACIe,WAAS,OACVQ,EAAkBzB,UAAW,YAAS,IACzCE,GACIe,WAAS,OACVQ,EAAkBzB,UAAW,YAAS,IACzCE,GACIe,WAAS,OACVQ,EAAkBzB,UAAW,YAAS,IAClCyB,GACTP,iBAKEQ,EAAiC,SAAUX,GAE3C,QAASW,KACL,MAAkB,QAAXX,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAW/D,MAbAX,GAAUuC,EAAiBX,GAI3Bb,GACIe,WAAS,YACVS,EAAgB1B,UAAW,YAAS,IACvCE,GACIe,WAAS,IACVS,EAAgB1B,UAAW,YAAS,IACvCE,GACIe,WAAS,cACVS,EAAgB1B,UAAW,WAAQ,IAC/B0B,GACTR,iBAEES,EAA4B,SAAUZ,GAEtC,QAASY,KACL,MAAkB,QAAXZ,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAQ/D,MAVAX,GAAUwC,EAAYZ,GAItBb,GACIe,WAAS,OACVU,EAAW3B,UAAW,cAAW,IACpCE,GACIe,WAAS,SACVU,EAAW3B,UAAW,cAAW,IAC7B2B,GACTT,iBAKEU,EAAsC,SAAUb,GAEhD,QAASa,KACL,MAAkB,QAAXb,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAc/D,MAhBAX,GAAUyC,EAAsBb,GAIhCb,GACIe,WAAS,OACVW,EAAqB5B,UAAW,YAAS,IAC5CE,GACIe,WAAS,OACVW,EAAqB5B,UAAW,UAAO,IAC1CE,GACIe,WAAS,KACVW,EAAqB5B,UAAW,WAAQ,IAC3CE,GACIe,WAAS,OACVW,EAAqB5B,UAAW,uBAAoB,IAChD4B,GACTV,iBAKEW,EAAkC,SAAUd,GAE5C,QAASc,KACL,MAAkB,QAAXd,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAiB/D,MAnBAX,GAAU0C,EAAkBd,GAI5Bb,GACIe,WAAS,WACVY,EAAiB7B,UAAW,gBAAa,IAC5CE,GACIe,WAAS,SACVY,EAAiB7B,UAAW,eAAY,IAC3CE,GACIsB,UAAQ5C,EAAMG,cAAe+B,IAC9Be,EAAiB7B,UAAW,gBAAa,IAC5CE,GACIsB,WAAU7L,MAAO,UAAWiC,MAAO,EAAGkK,KAAM,aAAeJ,IAC5DG,EAAiB7B,UAAW,aAAU,IACzCE,GACI6B,gBAAeH,IAChBC,EAAiB7B,UAAW,iBAAc,IACtC6B,GACTX,iBAKEc,EAAiC,WACjC,QAASA,GAAgBnM,EAAOF,EAAO+E,GACnCoF,KAAKjK,MAAQA,EACbiK,KAAKnK,MAAQA,EACbmK,KAAKpF,MAAQA,EAEjB,MAAOsH,MAMPC,EAAmC,WACnC,QAASA,GAAkBC,EAAaC,EAAYC,GAChDtC,KAAKoC,YAAcA,EACnBpC,KAAKqC,WAAaA,EAClBrC,KAAKsC,UAAYA,EAErB,MAAOH,MAMPI,EAAuC,WACvC,QAASA,GAAsBxM,EAAOF,EAAO+E,EAAO4H,GAChDxC,KAAKjK,MAAQA,EACbiK,KAAKnK,MAAQA,EACbmK,KAAKpF,MAAQA,EACboF,KAAKwC,SAAWA,EAEpB,MAAOD,MC5RPlD,EAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,EAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAQ5D8B,EAAiC,SAAUxB,GAE3C,QAASwB,KACL,MAAkB,QAAXxB,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAW/D,MAbAX,GAAUoD,EAAiBxB,GAI3Bb,GACI6B,kBAAiBN,IAClBc,EAAgBvC,UAAW,cAAW,IACzCE,GACIe,WAAS,aACVsB,EAAgBvC,UAAW,WAAQ,IACtCE,GACIe,WAAS,KACVsB,EAAgBvC,UAAW,sBAAmB,IAC1CuC,GACTrB,iBAKEnD,EAA0B,WAC1B,QAASA,GAAS0C,EAAG+B,EAAGlD,GACpBQ,KAAK7B,EAAIwC,EACTX,KAAK5B,EAAIsE,EACT1C,KAAK3B,EAAImB,EAEb,MAAOvB,MAGP0E,EAA2B,WAC3B,QAASA,GAAUC,GACf5C,KAAK4C,QAAUA,EAmOnB,MA5NAD,GAAUzC,UAAU2C,aAAe,SAAU9M,EAAO+M,GAGhD,IAAK,GAFDC,GAAiBD,EAAa,GAAG/M,MACjCiN,EAAa,EACRlI,EAAI,EAAGA,EAAIgI,EAAavK,OAAQuC,IAAK,CAC1C,GAAImI,GAASC,OAAOJ,EAAahI,GAAG/E,MACpC,IAAIA,GAASkN,EAAQ,CACjBD,EAAaC,CACb,OAGAD,EAAaC,EACbF,EAAiBE,EAGzB,GAAIE,GAAU,CAEdA,IAAWpN,EAAQgN,IADRC,EAAaD,GAExBI,EAAUC,MAAMD,GAAW,EAAIA,CAC/B,IAAIE,GAAgBrD,KAAKsD,cAAcR,EAAcC,GACjDQ,EAAYvD,KAAKsD,cAAcR,EAAcE,EACjD,OAAOhD,MAAKwD,mBAAmBL,EAASE,EAAeE,IAO3DZ,EAAUzC,UAAUuD,SAAW,SAAU9C,EAAG+B,EAAGlD,GAC3C,MAAO,IAAMQ,KAAK9B,eAAeyC,GAAKX,KAAK9B,eAAewE,GAAK1C,KAAK9B,eAAesB,IAOvFmD,EAAUzC,UAAUhC,eAAiB,SAAUuC,GAC3C,GAAInC,GAAMmC,EAAE5E,SAAS,GACrB,OAAsB,KAAfyC,EAAI/F,OAAe,IAAM+F,EAAMA,GAO1CqE,EAAUzC,UAAUoD,cAAgB,SAAUI,EAAMT,GAChD,IAAK,GAAInI,GAAI,EAAGA,EAAI4I,EAAKnL,OAAQuC,IAC7B,GAAIoI,OAAOQ,EAAK5I,GAAG/E,SAAWkN,EAAQ,CAClC,GAAIpN,GAAQ6N,EAAK5I,GAAGjF,KAOpB,QAN8B,IAA1BA,EAAMK,QAAQ,OACdL,EAAQmK,KAAK2D,aAAa9N,IAEG,IAAxBA,EAAMK,QAAQ,OACnBL,EAAQ,WAELA,EAGf,MAAO,UAOX8M,EAAUzC,UAAUyD,aAAe,SAAU9N,GACzC,GAAI+N,GAAY/N,EAAMgO,OAAO,GAEzBC,GADJF,EAAYA,EAAUjJ,MAAM,KAAK,GAAGA,MAAM,KAAK,IACpBA,MAAM,IAEjC,OADAiJ,GAAY5D,KAAKyD,SAAStN,SAAS2N,EAAW,GAAI,IAAK3N,SAAS2N,EAAW,GAAI,IAAK3N,SAAS2N,EAAW,GAAI,MAQhHnB,EAAUzC,UAAUsD,mBAAqB,SAAUL,EAASY,EAAUC,GAClE,GAAIT,GAAYS,EAAKrJ,MAAM,KAAK,GAC5BsJ,EAAYF,EAASpJ,MAAM,KAAK,GAChCgG,EAAIX,KAAKkE,cAAcf,EAAShN,SAAS8N,EAAUJ,OAAO,EAAG,GAAI,IAAK1N,SAASoN,EAAUM,OAAO,EAAG,GAAI,KACvGnB,EAAI1C,KAAKkE,cAAcf,EAAShN,SAAS8N,EAAUJ,OAAO,EAAG,GAAI,IAAK1N,SAASoN,EAAUM,OAAO,EAAG,GAAI,KACvGrE,EAAIQ,KAAKkE,cAAcf,EAAShN,SAAS8N,EAAUJ,OAAO,EAAG,GAAI,IAAK1N,SAASoN,EAAUM,OAAO,EAAG,GAAI,IAC3G,OAAO,IAAI5F,GAAS0C,EAAG+B,EAAGlD,IAO9BmD,EAAUzC,UAAUgE,cAAgB,SAAUf,EAASY,EAAUC,GAC7D,GAAIG,GAAOH,EAAOD,CAClB,OAAOrH,MAAK0H,MAAOL,EAAYI,EAAOhB,IAM1CR,EAAUzC,UAAUmE,mBAAqB,WACrC,GAAIzB,GAAU5C,KAAK4C,OACnBA,GAAQ0B,mBACR1B,EAAQ2B,wBACR,IAAIC,GACAC,EAAW7B,EAAQ8B,oBAAsB9B,EAAQ+B,cAAgB/B,EAAQgC,mBACzEC,EAAWjC,EAAQ8B,oBAAsB9B,EAAQkC,cAAgBlC,EAAQmC,kBAC7EnC,GAAQoC,gBAAkBpC,EAAQqC,gBAAgBD,gBAAkBpC,EAAQqC,gBAAgBD,gBACxFpC,EAAQsC,WAAWxP,cACvB,IAAIyP,GAAmBnF,KAAKoF,cAAcxC,EAAQqC,gBAAgBrP,SAAWgN,EAAQqC,gBAAgBrP,QAAQ2C,OAAS,EAClHqK,EAAQqC,gBAAgBrP,QAAUgN,EAAQsC,WAAWtP,QACzD,IAAKuP,EAAiBE,UAelBzC,EAAQ0B,gBAAkBa,EAAiBG,QAC3C1C,EAAQ2B,sBAAwBgB,YAAWJ,EAAiBG,QAAS,MAAM,OAT3E,IALId,EADiC,aAAjC5B,EAAQqC,gBAAgBjD,MACf6C,EAAWJ,IAAaU,EAAiBG,QAAQ/M,OAAS,IAG1DsM,EAAWJ,GAAaU,EAAiBG,QAAe,OAEjEH,EAAiBG,QAAQ/M,QAAU,EACnC,IAAK,GAAI2C,GAAQ,EAAGA,EAAQiK,EAAiBG,QAAQ/M,OAAQ2C,IACzD0H,EAAQ0B,gBAAgBjK,KAAK,GAAI6H,GAAgBxF,KAAK0H,MAAuC,KAAhC,EAAclJ,EAAQsJ,IAAiB,IAAKW,EAAiBG,QAAQpK,GAAOrF,MAAOsP,EAAiBG,QAAQpK,GAAON,QAChLgI,EAAQ2B,sBAAsBlK,KAAK,GAAIkI,GAAsB7F,KAAK0H,MAAuC,KAAhC,EAAclJ,EAAQsJ,IAAiB,IAAKW,EAAiBG,QAAQpK,GAAOrF,MAAOsP,EAAiBG,QAAQpK,GAAON,OAAO,GAQ/MoF,MAAKwF,4BAA4Bf,EAAUI,EAAUM,IAMzDxC,EAAUzC,UAAUsF,4BAA8B,SAAUf,EAAUI,EAAUM,GAClC,UAAtCnF,KAAK4C,QAAQqC,gBAAgBjD,OAAqBmD,EAAiBE,WAAaF,EAAiBM,WAGjGhB,EAAWzE,KAAK4C,QAAQ2B,sBAAsB,GAAGxO,OACjDiK,KAAK4C,QAAQ2B,sBAAsBmB,QAAQ,GAAInD,GAAsBkC,EAAUzE,KAAK4C,QAAQ2B,sBAAsB,GAAG1O,MAAOmK,KAAK4C,QAAQ2B,sBAAsB,GAAG3J,OAAO,IAEzKiK,EAAW7E,KAAK4C,QAAQ2B,sBAAsBvE,KAAK4C,QAAQ2B,sBAAsBhM,OAAS,GAAGxC,OAC7FiK,KAAK4C,QAAQ2B,sBAAsBlK,KAAK,GAAIkI,GAAsBsC,EAAU7E,KAAK4C,QAAQ2B,sBAAsBvE,KAAK4C,QAAQ2B,sBAAsBhM,OAAS,GAAG1C,MAAOmK,KAAK4C,QAAQ2B,sBAAsBvE,KAAK4C,QAAQ2B,sBAAsBhM,OAAS,GAAGqC,OAAO,MAOtQ+H,EAAUzC,UAAUkF,cAAgB,SAAUE,GAC1C,GAAIK,GAAmB,GAAIC,IACvBrF,EAAM,OAqBV,OAnBAoF,GAAiBN,WAAY,EAC7BM,EAAiBF,SAAU,EAE3BE,EAAiBL,QAAUA,EAAQO,KAAK,SAAUC,EAAGtG,GAIjD,MAHIuG,qBAAkBD,EAAO,QAAMC,oBAAkBvG,EAAO,SACxDmG,EAAiBF,SAAU,GAE1BM,oBAAkBD,EAAEvF,KAAUwF,oBAAkBvG,EAAEe,KAInDoF,EAAiBN,WAAY,EACtBS,GAJAA,EAAEvF,GAAOf,EAAEe,KAOrBoF,EAAiBN,YAClBM,EAAiBL,QAAUtF,KAAK4C,QAAQqC,gBAAgBrP,SAAWoK,KAAK4C,QAAQqC,gBAAgBrP,QAAQ2C,OAAS,EAC7GyH,KAAK4C,QAAQqC,gBAAgBrP,QAAUoK,KAAK4C,QAAQsC,WAAWtP,SAEhE+P,GAMXhD,EAAUzC,UAAU8F,gBAAkB,SAAU3P,GAC5C,GACI4P,GADApQ,EAAQ,GAERqQ,EAAe,CACnB,IAAwB,KAApB7P,EAAKwF,WACL,GAA2C,WAAvCmE,KAAK4C,QAAQuD,aAAaC,UACgB,SAAzCpG,KAAK4C,QAAQuD,aAAaE,YAAkE,WAAzCrG,KAAK4C,QAAQuD,aAAaE,WAG7E,GAA0C,UAAtCrG,KAAK4C,QAAQqC,gBAAgBjD,KAClC,IAAK,GAAI1G,GAAI,EAAGA,EAAI0E,KAAK4C,QAAQ0B,gBAAgB/L,OAAQ+C,IAAK,CAC1D4K,EAAelG,KAAK4C,QAAQ0B,gBAAgBhJ,EAAI,GAAK0E,KAAK4C,QAAQ0B,gBAAgBhJ,EAAI,GAAGvF,MACrFiK,KAAK4C,QAAQ0B,gBAAgBhJ,GAAGvF,KACpC,IAAIuQ,GAActG,KAAK4C,QAAQgC,qBAAuB5E,KAAK4C,QAAQmC,kBACnE,IAAK1O,GAAQ6P,GAAsB,IAAN5K,GAAWgL,GAAgBjQ,EAAO6P,GAC1D7P,GAAQ6P,GAAgB5K,IAAM0E,KAAK4C,QAAQ0B,gBAAgB/L,OAAS,EAAI,CACzE,GAAIgO,OAAc,EACdvG,MAAK4C,QAAQ4D,6BACbD,EAAcvG,KAAK4C,QAAQ6D,aAAaF,aAE5C1Q,EAASmK,KAAK4C,QAAQ4D,4BAA8BD,EAAYjL,KAAOiL,EAAYjL,GAAGoL,QAClF1G,KAAK4C,QAAQsC,WAAWzP,aAAeuK,KAAK4C,QAAQ0B,gBAAgBhJ,GAAGzF,KAC3E,YAKJQ,GAAO2J,KAAK4C,QAAQ0B,gBAAgB,GAAGvO,MACvCF,EAAQmK,KAAK4C,QAAQ0B,gBAAgB,GAAGzO,MAEnCQ,EAAO2J,KAAK4C,QAAQ0B,gBAAgBtE,KAAK4C,QAAQ0B,gBAAgB/L,OAAS,GAAGxC,MAClFF,EAAQmK,KAAK4C,QAAQ0B,gBAAgBtE,KAAK4C,QAAQ0B,gBAAgB/L,OAAS,GAAG1C,OAG9EoQ,EAAMjG,KAAK6C,aAAaxM,EAAM2J,KAAK4C,QAAQ0B,iBAC3CzO,EAAQmK,KAAKyD,SAASwC,EAAI9H,EAAG8H,EAAI7H,EAAG6H,EAAI5H,QA5B5CxI,GAAQmK,KAAK4C,QAAQ0B,gBAAgB,GAAGzO,UAiC5CA,GAAQmK,KAAK4C,QAAQoC,eAEzB,OAAOnP,IAEJ8M,KF3RPtD,EAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAwCnF4G,EAA6B,WAC7B,QAASA,GAAYC,EAAWC,GAC5B7G,KAAK,aAAe4G,EAAU1P,KAC9B8I,KAAK,cAAgB4G,EAAUxP,UAC/B4I,KAAK,eAAiB4G,EAAUvP,WAChC2I,KAAK,eAAiB4G,EAAUzP,WAChC6I,KAAK8G,KAAOD,GAAwB,GAExC,MAAOF,MAoBPjP,EAAsB,WACtB,QAASA,GAAKI,EAAOc,GACjBoH,KAAKlI,MAAQA,EACbkI,KAAKpH,OAASA,EAElB,MAAOlB,MAIPqP,EAAiC,WACjC,QAASA,GAAgBpQ,GACrBqJ,KAAKrJ,GAAKA,EAEd,MAAOoQ,MAIPC,EAA4B,SAAU/F,GAEtC,QAAS+F,GAAWrQ,EAAImQ,EAAMhP,EAAOjC,EAAOoR,EAASC,EAAW3H,GAC5D,GAAI4H,GAAQlG,EAAOmG,KAAKpH,KAAMrJ,IAAOqJ,IAOrC,OANAmH,GAAMF,QAAUA,EAChBE,EAAML,KAAOA,EACbK,EAAME,OAASxR,GAAgB,GAC/BsR,EAAM,gBAAkBG,WAAWxP,EAAM+D,YACzCsL,EAAM,oBAAsBD,EAC5BC,EAAM5H,EAAIA,EACH4H,EAEX,MAXA9H,GAAU2H,EAAY/F,GAWf+F,GACTD,GAMEQ,EAA6B,WAC7B,QAASA,GAAYlM,EAAGC,EAAGxD,EAAOc,EAAQ7C,EAAOY,EAAI6Q,EAAQC,EAAQC,EAAQC,EAAQjB,EAASkB,EAAaC,GACvG7H,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EACT0E,KAAKlI,MAAQA,EACbkI,KAAKpH,OAASA,EACdoH,KAAKjK,MAAQA,EACbiK,KAAKrJ,GAAKA,EACVqJ,KAAKwH,OAASA,EACdxH,KAAKyH,OAASA,EACdzH,KAAK0H,OAASA,EACd1H,KAAK2H,OAASA,EACd3H,KAAK0G,QAAUA,EACf1G,KAAK4H,YAAcA,EACnB5H,KAAK6H,OAASA,EAElB,MAAON,MAOPO,EAAqC,WACrC,QAASA,GAAoB/R,EAAOgS,EAAQC,EAAQN,EAAQC,EAAQM,GAChEjI,KAAKjK,MAAQA,EACbiK,KAAK+H,OAASA,EACd/H,KAAKgI,OAASA,EACdhI,KAAK0H,OAASA,EACd1H,KAAK2H,OAASA,EACd3H,KAAKiI,YAAcA,EAEvB,MAAOH,MAOPI,GAA4B,SAAUjH,GAEtC,QAASiH,GAAWvR,EAAImQ,EAAMqB,EAAQlB,EAASmB,EAAMC,EAAaC,EAAIC,EAAI9O,EAAWyN,GACjF,GAAIC,GAAQlG,EAAOmG,KAAKpH,KAAMrJ,EAAImQ,EAAMqB,EAAOrQ,MAAOuQ,EAAapB,EAASC,IAAclH,IAQ1F,OAPAmH,GAAM7L,EAAI8M,EAAK9M,EACf6L,EAAM9L,EAAI+M,EAAK/M,EACf8L,EAAMvO,OAASwP,EAAKxP,OAAS,EAAIwP,EAAKxP,OAAS,EAC/CuO,EAAMrP,MAAQsQ,EAAKtQ,MAAQ,EAAIsQ,EAAKtQ,MAAQ,EAC5CqP,EAAMmB,GAAKA,GAAU,EACrBnB,EAAMoB,GAAKA,GAAU,EACrBpB,EAAM1N,UAAYA,GAAwB,GACnC0N,EAEX,MAZA9H,GAAU6I,EAAYjH,GAYfiH,GACTlB,GAMEwB,GAA8B,SAAUvH,GAExC,QAASuH,GAAa7R,EAAImQ,EAAMqB,EAAQlB,EAASoB,EAAaI,EAAIC,EAAI/H,GAClE,GAAIwG,GAAQlG,EAAOmG,KAAKpH,KAAMrJ,EAAImQ,EAAMqB,EAAOrQ,MAAOuQ,EAAapB,IAAYjH,IAI/E,OAHAmH,GAAMsB,GAAKA,GAAU,EACrBtB,EAAMuB,GAAKA,GAAU,EACrBvB,EAAMxG,EAAIA,GAAQ,EACXwG,EAEX,MARA9H,GAAUmJ,EAAcvH,GAQjBuH,GACTxB,GAME2B,GAAsB,WACtB,QAASA,GAAKtN,EAAGC,EAAGxD,EAAOc,GACvBoH,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EACT0E,KAAKlI,MAAQA,EACbkI,KAAKpH,OAASA,EAElB,MAAO+P,MAOPC,GAA4B,SAAU3H,GAEtC,QAAS2H,GAAWjS,EAAIkS,EAAOrN,EAASqL,GACpC,GAAIM,GAAQlG,EAAOmG,KAAKpH,KAAMxE,EAASqL,IAAc7G,IAerD,OAdAmH,GAAM1N,UAAY,GAClB0N,EAAM,qBAAuB,OAC7BA,EAAM2B,cAAgB,EACtB3B,EAAM4B,SAAW,OACjB5B,EAAMxQ,GAAKA,EACXwQ,EAAM9L,EAAIwN,EAAMxN,EAChB8L,EAAM7L,EAAIuN,EAAMvN,EAChB6L,EAAM,eAAiB0B,EAAM,eAC7B1B,EAAM9Q,KAAOwS,EAAMxS,KACnB8Q,EAAM1N,UAAYoP,EAAMpP,UACxB0N,EAAM2B,cAAgBD,EAAMC,cAC5B3B,EAAM,qBAAuB0B,EAAM,qBACnC1B,EAAM4B,SAAWF,EAAME,SACvB5B,EAAM6B,GAAKH,EAAMG,GACV7B,EAEX,MAnBA9H,GAAUuJ,EAAY3H,GAmBf2H,GACTjC,GAMEsC,GAA2B,WAC3B,QAASA,GAAU5N,EAAGC,EAAG4N,EAAQ7S,EAAMyS,EAAerP,EAAW0P,EAAUH,GACvEhJ,KAAKvG,UAAY,GACjBuG,KAAK,qBAAuB,OAC5BA,KAAK8I,cAAgB,EACrB9I,KAAK+I,SAAW,OAChB/I,KAAK3E,EAAIA,GAAQ,EACjB2E,KAAK1E,EAAIA,GAAQ,EACjB0E,KAAK,eAAiBkJ,GAAkB,GACxClJ,KAAK3J,KAAOA,GAAc,GAC1B2J,KAAKvG,UAAYA,GAAwB,GACzCuG,KAAK8I,cAAgBA,EACrB9I,KAAK,qBAAuBmJ,GAAsB,GAClDnJ,KAAK+I,SAAWI,GAAsB,GACtCnJ,KAAKgJ,GAAKA,GAAU,GAExB,MAAOC,MAOPG,GAAsB,WACtB,QAASA,GAAKC,EAAIC,EAAIC,EAAIC,GACtBxJ,KAAKqJ,GAAKA,EACVrJ,KAAKsJ,GAAKA,EACVtJ,KAAKuJ,GAAKA,EACVvJ,KAAKwJ,GAAKA,EAEd,MAAOJ,MAOPK,GAA4B,SAAUxI,GAEtC,QAASwI,GAAW9S,EAAI+S,EAAMrC,EAAQsC,EAAa1C,EAAS2C,GACxD,GAAIzC,GAAQlG,EAAOmG,KAAKpH,KAAMrJ,EAAI,KAAMgT,EAAatC,EAAQJ,EAAS2C,EAAW,OAAS5J,IAK1F,OAJAmH,GAAMkC,GAAKK,EAAKL,GAChBlC,EAAMmC,GAAKI,EAAKJ,GAChBnC,EAAMoC,GAAKG,EAAKH,GAChBpC,EAAMqC,GAAKE,EAAKF,GACTrC,EAEX,MATA9H,GAAUoK,EAAYxI,GASfwI,GACTzC,GAME6C,GAAgC,SAAU5I,GAE1C,QAAS4I,GAAelT,EAAImT,EAAMhD,EAAMqB,EAAQ4B,EAAa9C,EAASoB,GAClE,GAAIlB,GAAQlG,EAAOmG,KAAKpH,KAAMrJ,EAAImQ,EAAMiD,EAAa1B,EAAapB,EAAS,OAASjH,IAIpF,OAHAmH,GAAM5H,EAAIuK,EAAKvK,EACf4H,EAAM9L,EAAIyO,EAAKzO,EACf8L,EAAM7L,EAAIwO,EAAKxO,EACR6L,EAEX,MARA9H,GAAUwK,EAAgB5I,GAQnB4I,GACT7C,GAMEgD,GAAsB,WACtB,QAASA,GAAKzK,EAAG0K,EAAQ5O,EAAGC,EAAG+N,EAAIC,EAAIb,EAAIC,EAAIwB,EAAOC,EAAKC,EAAQC,GAC/DrK,KAAKT,EAAIA,EACTS,KAAKiK,OAASA,EACdjK,KAAKyI,GAAKA,EACVzI,KAAK0I,GAAKA,EACV1I,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EACT0E,KAAKqJ,GAAKA,EACVrJ,KAAKsJ,GAAKA,EACVtJ,KAAKkK,MAAQA,EACblK,KAAKmK,IAAMA,EACXnK,KAAKoK,OAASA,EACdpK,KAAKqK,iBAAmBA,EAE5B,MAAOL,MAoDPM,GAA+B,WAC/B,QAASA,GAAc5O,GACnBsE,KAAK4C,QAAUlH,EA0OnB,MAvOA4O,GAAcpK,UAAUqK,cAAgB,SAAUC,EAAYC,EAAeC,GACpE1K,KAAK4C,QAAQ+H,sBAId3K,KAAK4K,oBAAoB5K,KAAK4C,QAAQiI,eAAgBL,EAAYE,GAHlED,EAAc5T,YAAYmJ,KAAK4C,QAAQ3J,SAASsR,cAAcC,KAOtEF,EAAcpK,UAAU4K,WAAa,SAAUN,EAAYC,GAClDzK,KAAK4C,QAAQ+H,sBAId3K,KAAK+K,iBAAiB/K,KAAK4C,QAAQiI,eAAgBL,GAHnDC,EAAc5T,YAAYmJ,KAAK4C,QAAQ3J,SAAS6R,WAAWN,KAOnEF,EAAcpK,UAAU8K,SAAW,SAAUR,EAAYxR,EAASyR,GACzDzK,KAAK4C,QAAQ+H,sBAId3K,KAAKiL,eAAejL,KAAK4C,QAAQiI,eAAgBL,EAAYxR,GAH7DyR,EAAc5T,YAAYmJ,KAAK4C,QAAQ3J,SAAS+R,SAASR,KAOjEF,EAAcpK,UAAUvG,WAAa,SAAU6Q,EAAYC,EAAepU,GACjE2J,KAAK4C,QAAQ+H,sBAId3K,KAAKkL,eAAeV,EAAYnU,GAHhCoU,EAAc5T,YAAYmJ,KAAK4C,QAAQ3J,SAASU,WAAW6Q,EAAYnU,KAO/EiU,EAAcpK,UAAUiL,eAAiB,SAAUnS,EAAS1C,EAAMmU,GAC9D,GACIlU,GACA6U,EACA/U,EACAuC,EAJAyS,IAyBJ,IApBAA,GACI1U,GAAMqC,EAAQrC,GACd0E,EAAKrC,EAAQqC,EACbC,EAAKtC,EAAQsC,EACbwL,KAAQ9N,EAAQ8N,KAChBzN,YAAa/C,EAAKY,KAClBoC,aAAchD,EAAKc,UACnBmC,cAAejD,EAAKe,WACpBmC,cAAelD,EAAKa,WACpBuC,cAAeV,EAAQ,eACvBS,UAAaT,EAAQS,UACrB6R,oBAAqBtS,EAAQ,sBAEjC3C,EAAO2C,EAAQ3C,KAAK,GACf2J,KAAK4C,QAAQ+H,sBAId3K,KAAK4C,QAAQiI,eAAeU,SAASvS,EAAS3C,GAH9CE,EAAayJ,KAAK4C,QAAQ3J,SAASU,WAAW0R,EAAehV,GAKrC,gBAAjB2C,GAAQ3C,MAAqB2C,EAAQ3C,KAAKkC,OAAS,EAC1D,IAAK,GAAIuC,GAAI,EAAGC,EAAM/B,EAAQ3C,KAAKkC,OAAQuC,EAAIC,EAAKD,IAChDlC,EAAUxC,EAAY4C,EAAQ3C,KAAKyE,GAAIxE,GAAa,OAC/C0J,KAAK4C,QAAQ+H,uBAQd3R,EAAQrC,GAAKqC,EAAQrC,GAAKmE,EAC1B9B,EAAQsC,GAAK1C,EACboH,KAAK4C,QAAQiI,eAAeU,SAASvS,EAASA,EAAQ3C,KAAKyE,MAT3DsQ,EAAepL,KAAK4C,QAAQ3J,SAASuS,aACjCnQ,EAAKrC,EAAQqC,EAAG1E,GAAMqC,EAAQrC,GAAKmE,EACnCQ,EAAMtC,IAAc8B,EAAIlC,GACzBI,EAAQ3C,KAAKyE,IAChBvE,EAAWM,YAAYuU,GAS9BpL,MAAK4C,QAAQ+H,uBACdF,EAAc5T,YAAYN,IAGlC+T,EAAcpK,UAAUuL,SAAW,SAAUjB,EAAYC,GAChDzK,KAAK4C,QAAQ+H,sBAId3K,KAAK4C,QAAQiI,eAAeY,SAASjB,GAHrCC,EAAc5T,YAAYmJ,KAAK4C,QAAQ3J,SAASwS,SAASjB,KAOjEF,EAAcpK,UAAUgL,eAAiB,SAAUlS,EAAS4B,EAAO8Q,EAAYC,GAC3E,GAAIC,GAAM5L,KAAK4C,QAAQiI,eAAee,GACjCF,KACDA,EAAa1S,EAAQqC,GAEpBsQ,IACDA,EAAa3S,EAAQsC,EAEzB,IAAInE,GAAa6I,KAAK6L,eAAe7S,EAAS,cACzC+M,qBAAkB5O,IAA4C,YAA7BA,EAAWjC,gBAC7CiC,EAAa,SAEjB,IAAIE,GAAa2I,KAAK6L,eAAe7S,EAAS,eAC1C/B,GAAgE,IAApD+B,EAAQ,aAAa6C,WAAY3F,QAAQ,MAAe8C,EAAQ,aAAe,KAAOA,EAAQ,aAC1GkQ,EAASlJ,KAAK6L,eAAe7S,EAAS,eAEtC1C,EADY0J,KAAK6L,eAAe7S,EAAS,cAAc9D,cACnC,IAAMiC,EAAa,IAAMF,EAAW,IAAMI,CACnD,YAAX6R,IACAA,EAAS,UAEb0C,EAAIE,OACJF,EAAIG,UAAY/S,EAAQ8N,KACxB8E,EAAItV,KAAOA,EACXsV,EAAII,UAAY9C,EACZlQ,EAAQ+P,WACR6C,EAAIK,aAAejT,EAAQ+P,UAE/B6C,EAAIM,UAAUR,EAAYC,GAC1BC,EAAIO,OAAOnT,EAAQ8P,cAAgBpM,KAAK0P,GAAK,KAC7CR,EAAIS,SAASzR,EAAO5B,EAAQqC,EAAIqQ,EAAY1S,EAAQsC,EAAIqQ,GACxDC,EAAIU,WAIRhC,EAAcpK,UAAU2L,eAAiB,SAAU7S,EAASuH,GACxD,MAAOvH,GAAQuH,IAEnB+J,EAAcpK,UAAUqM,cAAgB,SAAUC,EAAQxT,GACtDwT,EAAOZ,IAAIa,UAAYzT,EAAQ,eAC/B,IAAIkO,GAAYlO,EAAQ,mBACxB,KAAK+M,oBAAkBmB,GAAY,CAC/B,GAAIwF,GAAkBxF,EAAUvM,MAAM,IACtC6R,GAAOZ,IAAIe,aAAaxW,SAASuW,EAAgB,GAAI,IAAKvW,SAASuW,EAAgB,GAAI,MAE3FF,EAAOZ,IAAIgB,YAAc5T,EAAgB,QAG7CsR,EAAcpK,UAAU0K,oBAAsB,SAAU4B,EAAQxT,EAAS0R,GACrE,GAAImC,GAAYL,EAAOZ,GACJ5S,GAAQsP,EAC3BkE,GAAOZ,IAAIE,OACXU,EAAOZ,IAAIkB,YACXN,EAAOZ,IAAImB,YAAc/T,EAAiB,QAC1CgH,KAAKuM,cAAcC,EAAQxT,GAC3BgH,KAAKgN,iBAAiBR,EAAQxT,IACzBA,EAAQ,iBAA8C,GAA3BA,EAAQ,iBAAyB0R,IAC7D8B,EAAOZ,IAAIvE,SAEfmF,EAAOZ,IAAIU,UACXE,EAAOZ,IAAMiB,GAIjBvC,EAAcpK,UAAU8M,iBAAmB,SAAUR,EAAQxT,GACzD,GAAIiU,GAAejU,EAAQsP,GACvBjN,EAAIrC,EAAQqC,EACZC,EAAItC,EAAQsC,EACZxD,EAAQkB,EAAQlB,MAChBc,EAASI,EAAQJ,MACA,UAAjBI,EAAQ8N,OACR9N,EAAQ8N,KAAO,eAEnB0F,EAAOZ,IAAIG,UAAY/S,EAAQ8N,KAC3BhP,EAAQ,EAAImV,IACZA,EAAenV,EAAQ,GAEvBc,EAAS,EAAIqU,IACbA,EAAerU,EAAS,GAE5B4T,EAAOZ,IAAIkB,YACXN,EAAOZ,IAAIsB,OAAO7R,EAAIvD,EAAQmV,EAAc3R,GAC5CkR,EAAOZ,IAAIuB,MAAM9R,EAAIvD,EAAOwD,EAAGD,EAAIvD,EAAOwD,EAAI1C,EAAQqU,GACtDT,EAAOZ,IAAIuB,MAAM9R,EAAIvD,EAAOwD,EAAI1C,EAAQyC,EAAGC,EAAI1C,EAAQqU,GACvDT,EAAOZ,IAAIuB,MAAM9R,EAAGC,EAAI1C,EAAQyC,EAAGC,EAAG2R,GACtCT,EAAOZ,IAAIuB,MAAM9R,EAAGC,EAAGD,EAAIvD,EAAOwD,EAAG2R,GACrCT,EAAOZ,IAAIwB,YACXZ,EAAOZ,IAAI9E,QAGfwD,EAAcpK,UAAU6K,iBAAmB,SAAUyB,EAAQxT,GACzDwT,EAAOZ,IAAIE,OACXU,EAAOZ,IAAIkB,YACXN,EAAOZ,IAAIyB,IAAIrU,EAAQyP,GAAIzP,EAAQ0P,GAAI1P,EAAQ2H,EAAG,EAAG,EAAIjE,KAAK0P,IAC9DI,EAAOZ,IAAIG,UAAY/S,EAAQ8N,KAC/B0F,EAAOZ,IAAImB,YAAc/T,EAAQiO,QACjCuF,EAAOZ,IAAI9E,OACX9G,KAAKuM,cAAcC,EAAQxT,GACvBA,EAAQ,iBAA+C,IAA5BA,EAAQ,iBACnCwT,EAAOZ,IAAIvE,SAEfmF,EAAOZ,IAAIU,WAGfhC,EAAcpK,UAAU+K,eAAiB,SAAUuB,EAAQhC,EAAYxR,GACnE,GACIsU,GADO9C,EAAWjL,EACD5E,MAAM,IACTqF,MAAK6L,eAAe7S,EAAS,eAC/CwT,GAAOZ,IAAIE,OACXU,EAAOZ,IAAIkB,YACXN,EAAOZ,IAAImB,YAAcvC,EAAWvD,QACpCuF,EAAOZ,IAAIG,UAAYvB,EAAW1D,KAClC9G,KAAKuM,cAAcC,EAAQhC,EAC3B,KAAK,GAAI1P,GAAI,EAAGA,EAAIwS,EAAU/U,OAAQuC,GAAQ,EAAG,CAC7C,GAAIuO,GAAK/B,WAAWgG,EAAUxS,EAAI,IAC9BwO,EAAKhC,WAAWgG,EAAUxS,EAAI,GAClC,QAAQwS,EAAUxS,IACd,IAAK,IACD0R,EAAOZ,IAAIsB,OAAO7D,EAAIC,EACtB,MACJ,KAAK,IACDkD,EAAOZ,IAAI2B,OAAOlE,EAAIC,EACtB,MACJ,KAAK,IACL,IAAK,IACDkD,EAAOZ,IAAIyB,IAAIrU,EAAQqC,EAAGrC,EAAQsC,EAAGtC,EAAQoR,OAAyB,SAAhBpR,EAAQkR,MAAmC,SAAdlR,EAAQmR,KAAkB,GAC7GrP,EAAqB,MAAjBwS,EAAUxS,GAAaA,EAAI,GAAKA,EAAI,CACxC,MACJ,KAAK,IACD0R,EAAOZ,IAAIwB,aAIvBZ,EAAOZ,IAAI9E,OACP0D,EAAW,iBAAkD,IAA/BA,EAAW,iBACzCgC,EAAOZ,IAAIvE,SAEfmF,EAAOZ,IAAIU,WAGRhC,KA6EPkD,GAA0B,WAC1B,QAASA,GAASnS,EAAGgO,EAAIE,EAAID,EAAIE,GAC7BxJ,KAAKrJ,GAAK0E,EACV2E,KAAKqJ,GAAKA,EACVrJ,KAAKuJ,GAAKA,EACVvJ,KAAKsJ,GAAKA,EACVtJ,KAAKwJ,GAAKA,EAEd,MAAOgE,MAGPC,GAA+B,WAC/B,QAASA,GAAc5X,EAAO6X,GAC1B1N,KAAKnK,MAAQA,EACbmK,KAAK0N,UAAYA,EAErB,MAAOD,MA+EPE,GAA+B,WAC/B,QAASA,GAActX,EAAM+R,GACzBpI,KAAKtC,OAAS,GAAIiL,IAAK,EAAG,EAAG,EAAG,GAChC3I,KAAK3J,KAAOA,EACZ2J,KAAKtC,OAAS0K,EAElB,MAAOuF,MAuBP/H,GAA+B,WAC/B,QAASA,MAET,MAAOA,MAMPgI,GAAiC,WACjC,QAASA,GAAgBC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,GAC7DlO,KAAK6N,OAASA,EACd7N,KAAK8N,OAASA,EACd9N,KAAK+N,OAASA,EACd/N,KAAKgO,OAASA,EACdhO,KAAKiO,OAASA,EACdjO,KAAKkO,OAASA,EAElB,MAAON,MAOPO,GAAmC,WACnC,QAASA,GAAkB9S,EAAGC,EAAGxD,EAAOc,EAAQgC,EAAOjE,GACnDqJ,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EACT0E,KAAKlI,MAAQA,EACbkI,KAAKpH,OAASA,EACdoH,KAAKpF,MAAQA,EACboF,KAAKrJ,GAAKA,EAEd,MAAOwX,MAIPC,GAA6B,WAC7B,QAASA,GAAY/S,EAAGC,EAAGxD,EAAOc,EAAQ7C,EAAO2Q,EAAS2H,GACtDrO,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EACT0E,KAAKlI,MAAQA,EACbkI,KAAKpH,OAASA,EACdoH,KAAKjK,MAAQA,EACbiK,KAAK0G,QAAUA,EACf1G,KAAKqO,YAAcA,EAEvB,MAAOD,MAIPE,GAAkC,WAClC,QAASA,GAAiB5H,EAAS3Q,GAC/BiK,KAAK0G,QAAUA,EACf1G,KAAKjK,MAAQA,EAEjB,MAAOuY,MAmCPC,GAAoC,WACpC,QAASA,GAAmBlT,EAAGC,GAC3B0E,KAAK3E,EAAIA,EACT2E,KAAK1E,EAAIA,EAEb,MAAOiT,MGr4BPlP,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAW5D6N,GAAsB,SAAUvN,GAEhC,QAASuN,KACL,GAAIrH,GAAmB,OAAXlG,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,IAwChE,OAtCAmH,GAAMiB,KAAO,GAAIO,QAAK1S,OAAWA,GAAW,EAAG,GAE/CkR,EAAMsH,aAENtH,EAAMuH,YAENvH,EAAMwH,aAAe,GAAIjX,GAAK,EAAG,GAEjCyP,EAAMyH,UAAY,GAAIlX,GAAK,EAAG,GAE9ByP,EAAM0H,cAEN1H,EAAM2H,iBAEN3H,EAAM4H,cAEN5H,EAAM6H,cAAgB,EAEtB7H,EAAM8H,kBAAoB,EAE1B9H,EAAM+H,6BAEN/H,EAAMgI,UAAY,EAElBhI,EAAMiI,IAAM,EAEZjI,EAAMkI,IAAM,EAEZlI,EAAMmI,aAAc,EAEpBnI,EAAMoI,iBACNpI,EAAMqI,kBAENrI,EAAMsI,yBAENtI,EAAMuI,yBAENvI,EAAMwI,sBACCxI,EAkfX,MA5hBA9H,IAAUmP,EAAMvN,GAkDhBuN,EAAKtO,UAAU0P,YAAc,SAAUC,EAAMnU,EAAS0M,GAClD,GAAIlR,GAAO,GAAIQ,GAAK,EAAG,EAEvBsI,MAAK4O,UAAYiB,EAAKC,aAAaD,EADhB,IAEnB7P,KAAK2O,aAAekB,EAAKE,gBAAgBF,EAAMnU,GAC/CsE,KAAKgQ,0BAA0BH,EAAMzH,EAAM1M,EAC3C,KAAK,GAAIZ,GAAI,EAAGA,EAAIkF,KAAKiQ,iBAAiB1X,OAAQuC,IAC9C5D,EAAO2Y,EAAKK,oBALG,GAK+BpV,GAC9CkF,KAAKwP,eAAenV,KAAKnD,IAOjCsX,EAAKtO,UAAUiQ,cAAgB,SAAUN,EAAM3U,GAC3C,GAAIkV,GAAoC,eAArBP,EAAKQ,YAA+B,GAAK,GACxDF,EAAgB,GAAI5B,IAAmB,EAAG,EAC9C,IAAyB,eAArBsB,EAAKQ,YAA8B,CACnC,GAAIC,GAAST,EAAKlB,aAAa/V,OAASwX,EACpCG,EAASvQ,KAAKyP,sBAAsBvU,EAAQ,EAChDiV,GAAc9U,EAAKwU,EAAKW,WAAaX,EAAKzH,KAAK/M,EAAIwU,EAAKzH,KAAKtQ,MAAQ+X,EAAKzH,KAAK/M,EAC/E8U,EAAc7U,EAAc,IAAVJ,EAAc2U,EAAKzH,KAAK9M,GAAKuU,EAAKY,iBAAmBH,EAASA,GAC5ET,EAAKF,mBAAmBzU,EAAQ,GAAGI,GAAKuU,EAAKY,iBAAmBF,EAASA,OAE5E,CACD,GAAID,GAAST,EAAKlB,aAAa7W,MAAQsY,EACnCG,EAAmB,IAAVrV,GAAgB8E,KAAKwP,eAAetU,EAAQ,GAAS,KAClEiV,GAAc9U,EAAc,IAAVH,EAAc2U,EAAKzH,KAAK/M,GAAKwU,EAAKY,iBAAmBH,EAASA,GAC5ET,EAAKF,mBAAmBzU,EAAQ,GAAGG,GAAKwU,EAAKY,kBAAoBF,EAASH,GAAgBG,EAASH,GACvGD,EAAc7U,EAAIuU,EAAKW,WAAaX,EAAKzH,KAAK9M,EAAIuU,EAAKzH,KAAK9M,EAAIuU,EAAKzH,KAAKxP,OAE9E,MAAOuX,IAEX3B,EAAKtO,UAAUgQ,oBAAsB,SAAUE,EAAclV,GAIzD,IAAK,GAHDwV,GAAY,GAAIhZ,GAAK,EAAG,GACxBiZ,EAAa3Q,KAAKiQ,iBAClBW,EAAgBD,EAAWzV,GAAO2V,WAC7B/V,EAAI,EAAGA,EAAI8V,EAAcrY,OAAQuC,IAAK,CAC3C,GAAIgW,GAAS1a,EAAYwa,EAAc9V,GAAGzE,KAAMsa,EAAWzV,GAAO6V,UAClEL,GAAU5Y,MAAS4Y,EAAU5Y,MAAQgZ,EAAOhZ,MAAS4Y,EAAU5Y,MAAQgZ,EAAOhZ,MAC9E4Y,EAAU9X,OAAU8X,EAAU9X,OAASkY,EAAOlY,OAAU8X,EAAU9X,OAASkY,EAAOlY,OAEtF,GAAI1B,GAA6B,eAArB8I,KAAKqQ,YAAgCrQ,KAAKyP,sBAAsBvU,GAAS8E,KAAK0P,sBAAsBxU,EAOhH,OANI8E,MAAKyQ,gBACLzQ,KAAK0O,SAASrU,KAAKnD,GAGnB8I,KAAKyO,UAAUpU,KAAKnD,GAEjBwZ,GAEXlC,EAAKtO,UAAU8P,0BAA4B,SAAUH,EAAMzH,EAAM1M,GAC7D,GAAIgV,GACAM,EACApY,EAEAsR,EACAC,EACA8G,EACAC,EAJAC,KAKAC,EAAkC,aAArBvB,EAAKQ,YAElBgB,GADaD,EAAahJ,EAAKxP,OAASwP,EAAKtQ,MAAS+X,EAAKb,cAC5B,aAArBa,EAAKQ,YAA6B,GAAK,GACrDrQ,MAAKiQ,iBAAiBqB,IAAI,SAAUX,EAAYzV,GAC5CyV,EAAWE,WAAWS,IAAI,SAAUV,GAChC1G,EAAuC,gBAAxB0G,GAAc1G,MAAqB0G,EAAc1G,MAAQhH,OAAO,GAAIzG,MAAKmU,EAAc1G,QACtGC,EAAmC,gBAAtByG,GAAczG,IAAmByG,EAAczG,IAAMjH,OAAO,GAAIzG,MAAKmU,EAAczG,MACrE,KAAvByG,EAAcva,MAAuC,OAAxBua,EAAc1G,OAAwC,OAAtB0G,EAAczG,MAC3EuG,EAAYta,EAAYwa,EAAcva,KAAMsa,EAAWI,WACvDnY,EAASwY,EAAaV,EAAU5Y,MAAQ4Y,EAAU9X,OAClDqY,EAAgBvV,EAAQ6V,YAAYC,sBAAsB3B,EAAM3F,EAAO0G,EAAc1G,MAAO9B,GAC5F8I,EAAcxV,EAAQ6V,YAAYE,eAAe5B,EAAMe,EAAczG,IAAKA,EAAK/B,GAC/EsI,EAAYta,EAAYwa,EAAcva,KAAMsa,EAAWI,WACvDC,EAA2C,OAAnCJ,EAAcc,iBAA6BhV,KAAKiV,IAAIT,EAAcD,GACtEL,EAAcc,iBACbhB,EAAU5Y,MAAQkZ,EAAMK,GAAqC,SAAxBV,EAAWiB,WAAyBR,IAC1ExY,GAAoBwB,EAASwW,EAAcva,KAAM2a,EAAMK,EAASV,EAAWI,WAAkB,QAEjGI,EAAuBjW,GAAUiW,EAAuBjW,GAClDiW,EAAuBjW,GAAStC,EAAUA,EAASyY,EAAUF,EAAuBjW,GADzBtC,EAASyY,OAKlFD,EACApR,KAAK0P,sBAAwByB,EAG7BnR,KAAKyP,sBAAwB0B,GAGrC3C,EAAKtO,UAAU4P,aAAe,SAAUD,EAAMO,GAC1C,GAAIxB,GAAY,GAAIlX,GAAK,EAAG,EAW5B,OAVIsI,MAAK/F,MAAM5D,QACXuY,EAAYxY,EAAY4J,KAAK/F,MAAM5D,KAAM2J,KAAK/F,MAAM8W,YAC1CnY,QAAUwX,GAEpBP,EAAKY,gBACLzQ,KAAK0O,SAASrU,KAAKuU,EAAUhW,QAG7BoH,KAAKyO,UAAUpU,KAAKuU,EAAUhW,QAE3BgW,GAEXJ,EAAKtO,UAAU6P,gBAAkB,SAAUF,EAAMnU,GAC7C,GAAIgV,GAAY,GAAIhZ,GAAK,EAAG,GACxBma,EAAS7R,KAAK6O,WACdwC,EAAWxB,EAAK1H,OAAOrQ,MAAQ,GAAK+X,EAAKI,iBAAiB1X,OAAS,EAAK,GAAK,CAGjF,IAFAsX,EAAK/W,MAAQ+W,EAAK/G,cAClB+G,EAAKP,aAAc,EACM,eAArBO,EAAKQ,cAA+D,aAA9BR,EAAKiC,sBAC1CjC,EAAK/G,cAAgB,KAAQ,GAAmC,SAA9B+G,EAAKiC,sBAMxC,IAAK,GALDzV,GAA+B,aAAnBwT,EAAKvN,WAAiD,SAArBuN,EAAKkC,YAClDrW,EAAQE,gBAAgB9D,MAAQ+X,EAAKb,cAAgBtT,EAAQE,gBAAgB9D,MAAQ+X,EAAKhB,WAAWtW,OACrGyZ,EAAStW,EAAQE,gBAAgBP,GAAOwU,EAAKW,WAAkB9U,EAAQE,gBAAgB9D,MAA5B,GAC3Dma,MAAc,GACdC,MAAgB,GACXpX,EAAI,EAAGC,EAAM8W,EAAOtZ,OAAQuC,EAAIC,EAAKD,IAAK,CAC/C,GACIqX,GAAc/b,EADNyb,EAAO/W,GACkB+U,EAAKkB,WACtCqB,EAAmC,aAAnBvC,EAAKvN,WAAiD,SAArBuN,EAAKkC,YACtDlC,EAAKX,0BAA0BpU,GAAKuB,EAAWA,EAC/CgW,EAAaL,GAAWnC,EAAKW,aACanU,EAAW8V,EAAYra,OAAS,GAAxEuE,EAAW8V,EAAYra,OAAS,GAElCwa,GADJD,EAAaA,EAAa3W,EAAQE,gBAAgBP,EAAIK,EAAQE,gBAAgBP,EAAIgX,GACtDF,EAAYra,KACxC,IAAK+X,EAAKW,WAeL,CACD,GAAIzK,oBAAkBmM,GAClBA,EAAgBG,MAEf,IAAKH,EAAgBI,EAAW,CACC,aAA9BzC,EAAKiC,qBACLjC,EAAK/W,MAAQ,GAGb+W,EAAKP,aAAc,CAEvB,OAEJ4C,EAAgBG,MA5BE,CAClB,GAAItM,oBAAkBkM,GAClBA,EAAcK,MAEb,IAAKD,EAAaJ,EAAc,CACC,aAA9BpC,EAAKiC,qBACLjC,EAAK/W,MAAQ,GAGb+W,EAAKP,aAAc,CAEvB,OAEJ2C,EAAcK,EAiBlBN,GAAUnC,EAAKW,YAAc4B,EAAeA,EAGpD,IAAStX,EAAI,EAAGA,EAAI+W,EAAOtZ,OAAQuC,IAAK,CACpC,GAAI5D,GAAQ2Y,EAAK/W,MAAQ,KAAQ,EAC7B1C,EAAYyb,EAAO/W,GAAI+U,EAAKkB,WAAalY,EAAegX,EAAKkB,UAAWc,EAAO/W,GAAI+U,EAAK/W,MAC5F4X,GAAU5Y,MAAS4Y,EAAU5Y,MAAQZ,EAAKY,MAAS4Y,EAAU5Y,MAAQZ,EAAKY,MAC1E4Y,EAAU9X,OAAU8X,EAAU9X,OAAS1B,EAAK0B,OAAU8X,EAAU9X,OAAS1B,EAAK0B,OAQlF,MANIiX,GAAKY,gBACLzQ,KAAK0O,SAASrU,KAA2B,eAArBwV,EAAKQ,YAAgCK,EAAU9X,OAAS8X,EAAU5Y,MAAQuZ,GAG9FrR,KAAKyO,UAAUpU,KAA2B,eAArBwV,EAAKQ,YAAgCK,EAAU9X,OAAS8X,EAAU5Y,MAAQuZ,GAE5FX,GAOXlC,EAAKtO,UAAUqS,2BAA6B,SAAU7W,GAElD,GAGI8W,GACAC,EAJArD,EAAM,EACNC,EAAM,EACNhT,EAAW2D,KAAK3D,SAAW2D,KAAK3D,SAAW,CAG3CX,GAAQgX,eAAiBhX,EAAQiX,aACjCH,EAAkC,eAArBxS,KAAKqQ,YACd3U,EAAQgX,cAAcE,gBAAgBxD,IAAM1T,EAAQgX,cAAcG,gBAAgBzD,IACtFqD,EAAkC,eAArBzS,KAAKqQ,YACd3U,EAAQgX,cAAcE,gBAAgBvD,IAAM3T,EAAQgX,cAAcG,gBAAgBxD,KAE1FD,EAAOrJ,oBAAkB/F,KAAK8S,SAA2B,GAA4B,EAA5C9S,KAAK8S,QAC9CzD,EAAOtJ,oBAAkB/F,KAAK+S,SACzB,GAA6B/S,KAAKmP,UAAYnP,KAAKzD,UADfyD,KAAK+S,OAE9C,IAAIC,EACAhT,MAAK8S,SAAW9S,KAAK+S,SAAW3D,EAAMC,IACtC2D,EAAO5D,EACPA,EAAMC,EACNA,EAAM2D,GAEV3D,EAAOtJ,oBAAkB/F,KAAK+S,SAAkBN,GAA2BpD,EAAMD,EAAxCC,CACzC,IAAI3Q,GAASsB,KAAKiT,YACdxU,EAAuC,OAA5BC,EAAOwU,MAAM,UAC5BlT,MAAKtB,OAAShD,EAAQyX,KAAKC,iBACvB1U,OAAQD,EAAW,GAAKC,GAE5B,KAAS5D,EAAIsU,EAAKtU,GAAKuU,EAAKvU,GAASuB,EAAW2D,KAAKzD,UAAY,CACzDxG,EAAQyI,EAAYC,EAAUC,EAAQ5D,EAAGkF,KAAKtB,OAClDsB,MAAK6O,WAAWxU,KAAKtE,GAEzBiK,KAAKoP,IAAM,EACXpP,KAAKgP,cAAgBtS,KAAK2W,OAAQhE,EAAMD,GAAOpP,KAAKzD,UAAa,GACjEyD,KAAKqP,IAAMrP,KAAKgP,cAAgB,EAChChP,KAAKiP,kBAAoB5S,CACzB,KAAK,GAAIvB,GAAIsU,EAAKtU,GAAKuU,EAAKvU,GAAQkF,KAAKzD,UAAW,CAChD,GAAIxG,GAAQyI,EAAYC,EAAUC,EAAQ5D,EAAGkF,KAAKtB,OAClDsB,MAAK8O,cAAczU,KAAKtE,GACxBiK,KAAK+O,WAAW1U,KAAKS,GAEzBkF,KAAK+O,WAAa/O,KAAKwQ,WAAaxQ,KAAK+O,WAAWuE,UAAYtT,KAAK+O,YAMzEP,EAAKtO,UAAUqT,4BAA8B,WACzC,GAAI1B,GAAS7R,KAAK6R,OAAS7R,KAAK6R,SAChCA,GAAUA,EAAOtZ,OAAS,EAAKsZ,EAAS7R,KAAKuP,aAC7C,IAGIyD,GAHA5D,EAAOrJ,oBAAkB/F,KAAK8S,SAA0B,EAAf9S,KAAK8S,QAC9CzD,EAAOtJ,oBAAkB/F,KAAK+S,SAA0B/S,KAAKmP,UAApBnP,KAAK+S,QAC9C1W,EAAW2D,KAAK3D,SAAW2D,KAAK3D,SAAW,CAO/C,KALK0J,oBAAkB/F,KAAK8S,WAAa/M,oBAAkB/F,KAAK+S,UAAY3D,EAAMC,IAC9E2D,EAAO5D,EACPA,EAAMC,EACNA,EAAM2D,GAENnB,GAAUA,EAAOtZ,OAAS,EAC1B,IAASuC,EAAIsU,EAAKtU,GAAKuU,EAAKvU,GAAQuB,EAAU,CAC1C,GAAItG,GAAQ8b,EAAO/W,GAAK+W,EAAO/W,GAAGe,WAAaf,EAAEe,UACjDmE,MAAK6O,WAAWxU,KAAKtE,OAIzB,KAAS+E,EAAIsU,EAAKtU,GAAKuU,EAAKvU,GAAQuB,EAChC2D,KAAK6O,WAAWxU,KAAKS,EAAEe,WAG/B,KAAK,GAAIf,GAAIsU,EAAKtU,GAAKuU,EAAKvU,IACxBkF,KAAK8O,cAAczU,KAAKwX,EAAO/W,GAAK+W,EAAO/W,GAAGe,WAAaf,EAAEe,YAC7DmE,KAAK+O,WAAW1U,KAAKwX,EAAO/W,GAAK+W,EAAO/W,GAAGe,WAAaf,EAAEe,WAE9DmE,MAAKoP,IAAMA,EACXpP,KAAKqP,IAAMA,EACXrP,KAAKgP,cAAgBK,EAAMD,EAAM,EACjCpP,KAAKiP,kBAAoB5S,EACzB2D,KAAK+O,WAAa/O,KAAKwQ,WAAaxQ,KAAK+O,WAAWuE,UAAYtT,KAAK+O,YAOzEP,EAAKtO,UAAUsT,2BAA6B,SAAU9X,GAClD,GAOI0T,GACAC,EARAhT,EAAW2D,KAAK3D,SAAW2D,KAAK3D,SAAW,EAC3CoX,GACAC,SAAU,OACV1R,KAAM,YAEN2R,EAAajY,EAAQyX,KAAKS,cAAcH,GACxCI,EAAgBnY,EAAQyX,KAAKW,cAAcL,GAG3CjB,EAAa,KACbC,EAAa,IACb/W,GAAQgX,eAAiBhX,EAAQiX,aACjCH,EAAkC,eAArBxS,KAAKqQ,YAA+B3U,EAAQgX,cAAcE,gBAAgBxD,IACnF1T,EAAQgX,cAAcG,gBAAgBzD,IAC1CqD,EAAkC,eAArBzS,KAAKqQ,YAA+B3U,EAAQgX,cAAcE,gBAAgBvD,IACnF3T,EAAQgX,cAAcG,gBAAgBxD,IAE9C,IAAIyD,GAAU9S,KAAK8S,QAAU9S,KAAK8S,QAAWN,GAA0B,KACnEO,EAAU/S,KAAK+S,QAAU/S,KAAK+S,QAAWN,GAA0B,IACvE,IAAgB,OAAZK,GAAgC,OAAZC,EAAkB,CACtC3D,EAAM,EACNC,EAAMrP,KAAKmP,UAAYnP,KAAKzD,SAC5B,KAAK,GAAIzB,GAAIsU,EAAKtU,GAAKuU,EAAKvU,GAASuB,EAAW2D,KAAKzD,UACjDyD,KAAK6O,WAAWxU,KAAKS,EAAEe,YACvBmE,KAAK8O,cAAczU,KAAKS,EAAEe,YAC1BmE,KAAK+O,WAAW1U,KAAKS,EAAEe,WAE3BmE,MAAKoP,IAAM,EACXpP,KAAKqP,IAAMrP,KAAKmP,UAChBnP,KAAKgP,eAAiBK,EAAMD,GAAOpP,KAAKzD,UAAY,EACpDyD,KAAKiP,kBAAoB5S,MAExB,CACe,OAAZyW,GAAgC,OAAZC,EAEpB1D,EAAMjT,EADNgT,EAAM3S,KAAKsX,MAAMJ,EAAWE,EAAc,GAAIpX,MAAKuX,WAASD,MAAME,WAAYC,IAAKpB,IAAWoB,QAC1DlU,KAAKmP,UAAWnP,KAAK1D,aAAc0D,KAAKzD,WAAW4X,UAEtE,OAAZrB,GAAgC,OAAZC,EAEzB3D,EAAMhT,EADNiT,EAAM5S,KAAKsX,MAAMJ,EAAWE,EAAc,GAAIpX,MAAKuX,WAASD,MAAME,WAAYC,IAAKnB,IAAWmB,SACzDlU,KAAKmP,UAAWnP,KAAK1D,aAAc0D,KAAKzD,WAAW4X,WAGxF/E,EAAM3S,KAAKsX,MAAMJ,EAAWE,EAAc,GAAIpX,MAAKuX,WAASD,MAAME,WAAYC,IAAKpB,IAAWoB,QAC9F7E,EAAM5S,KAAKsX,MAAMJ,EAAWE,EAAc,GAAIpX,MAAKuX,WAASD,MAAME,WAAYC,IAAKnB,IAAWmB,SAElGlU,KAAKtB,OAAShD,EAAQyX,KAAKW,eACvBpV,OAAQsB,KAAKiT,YAAaS,SAAU1T,KAAKoU,eAG7C,KADA,GAAIzV,GAAeyQ,EACZzQ,GAAgB0Q,GAAK,CACpBtZ,EAAQiK,KAAKtB,OAAO,GAAIjC,MAAKkC,GACjCqB,MAAK6O,WAAWxU,KAAKtE,GACI,SAArBiK,KAAK+R,cACL1V,EAAW2D,KAAKqU,uBAAuB1V,GACvCqB,KAAKkP,0BAA0B7U,KAAKgC,IAExCsC,EAAevC,EAAyBuC,EAActC,EAAU2D,KAAK1D,aAAc0D,KAAKzD,WAAW4X,UAOvG,IALAnU,KAAKoP,IAAM,EACXpP,KAAKiP,kBAAoB5S,EACzB2D,KAAKgP,cAAgBhP,KAAKsU,oBAAoBlF,EAAKC,GACnDrP,KAAKqP,IAAMrP,KAAKgP,cAAgB,EAChCrQ,EAAeyQ,EACRzQ,GAAgB0Q,GAAK,CACxB,GAAItZ,GAAQiK,KAAKtB,OAAO,GAAIjC,MAAKkC,GACjCqB,MAAK8O,cAAczU,KAAKtE,GACxBiK,KAAK+O,WAAW1U,KAAK,GAAIoC,MAAKkC,IAC9BA,EAAevC,EAAyBuC,EAAc,EAAGqB,KAAK1D,aAAc0D,KAAKzD,WAAW4X,WAGpGnU,KAAK+O,WAAa/O,KAAKwQ,WAAaxQ,KAAK+O,WAAWuE,UAAYtT,KAAK+O,YAEzEP,EAAKtO,UAAUmU,uBAAyB,SAAUhY,GAC9C,GAGIkY,GACA5V,EAJA6V,EAAO,GAAI/X,MAAKJ,GAAUQ,cAC1B4X,EAAQ,GAAIhY,MAAKJ,GAAUU,WAAa,EACxC2X,EAAM,GAAIjY,MAAKJ,GAAUY,SAG7B,IAAyB,UAArB+C,KAAK+R,aAAgD,WAArB/R,KAAK+R,YACZ,UAArB/R,KAAK+R,aAAiD,WAAtB/R,KAAK1D,aACrCqC,EAAejC,KAAKC,KAAK,GAAKqD,KAAKzD,YAGnCgY,EAAoC,UAArBvU,KAAK+R,YAA0ByC,EAAO,GAAM,EAAI,IAAM,IAAM,GAAI/X,MAAK+X,EAAMC,EAAO,GAAGxX,UACpGsX,GAAgB,EAAIG,EACpB/V,EAAqC,SAAtBqB,KAAK1D,aAA0BI,KAAKC,KAAK4X,EAAevU,KAAKzD,WAAmC,UAAtByD,KAAK1D,aAC1FI,KAAKC,KAAqB,GAAf4X,EAAqBvU,KAAKzD,WAAmC,YAAtByD,KAAK1D,aACvDI,KAAKC,KAAqB,GAAf4X,EAAoB,GAAMvU,KAAKzD,WAAa,OAG9D,IAAyB,SAArByD,KAAK+R,YACVpT,EAAqC,UAAtBqB,KAAK1D,aAA2BI,KAAKC,KAAK,GAAKqD,KAAKzD,WAAmC,YAAtByD,KAAK1D,aACjFI,KAAKC,KAAK,KAAYqD,KAAKzD,WAAa,MAE3C,IAAyB,UAArByD,KAAK+R,YAAyB,CACnC,GAAI4C,GAAU,GAAIlY,MAAKJ,GAAUgB,YACjCsB,GAAqC,YAAtBqB,KAAK1D,aAA6BI,KAAKC,MAAM,GAAKgY,GAAW3U,KAAKzD,WAAa,MAG9FoC,GAAe,CAEnB,OAAOA,IAKX6P,EAAKtO,UAAUkU,YAAc,WAoBzB,MAlB0B,UAAtBpU,KAAK1D,aACM,OAEgB,WAAtB0D,KAAK1D,aACC,OAEgB,SAAtB0D,KAAK1D,aACC,MAEgB,UAAtB0D,KAAK1D,aACC,OAEN0D,KAAK1D,aACC,QAQnBkS,EAAKtO,UAAUoU,oBAAsB,SAAUlF,EAAKC,GAChD,GAGIuF,GACAC,EAJAtc,EAAS,EACTua,EAAU,GAAIrW,MAAK2S,GACnB2D,EAAU,GAAItW,MAAK4S,EAGvB,QAAQrP,KAAK1D,cACT,IAAK,QACD,GAAIwY,IAAU/B,EAAQlW,cAAgBiW,EAAQjW,eAAiBmD,KAAKzD,UAAa,CACjFhE,GAASmE,KAAK2W,MAAMyB,EACpB,MACJ,KAAK,SACD,GAAIC,GAA2D,IAAjDhC,EAAQlW,cAAgBiW,EAAQjW,cAC9CkY,IAAUjC,EAAQ/V,WAElBxE,GADAwc,GAAUhC,EAAQhW,aACC,EAAI,EAAIL,KAAK2W,MAAO0B,EAAS/U,KAAKzD,UAAa,EAClE,MACJ,KAAK,OACDqY,EAAalY,KAAKiV,IAAImB,EAAQqB,UAAYpB,EAAQoB,WAClDU,EAAOnY,KAAK2W,MAAMuB,SAClBrc,EAASmE,KAAK2W,MAAOwB,EAAO7U,KAAKzD,UAAa,EAC9C,MACJ,KAAK,QACDqY,EAAalY,KAAKiV,IAAImB,EAAQqB,UAAYpB,EAAQoB,UAClD,IAAIa,GAAQtY,KAAK2W,MAAMuB,OACvBrc,GAASmE,KAAK2W,MAAM2B,EAAQhV,KAAKzD,WAAa,CAC9C,MACJ,KAAK,UACDqY,EAAalY,KAAKiV,IAAImB,EAAQqB,UAAYpB,EAAQoB,UAClD,IAAIQ,GAAUjY,KAAK2W,MAAMuB,MACzBrc,GAASmE,KAAK2W,MAAMsB,EAAU3U,KAAKzD,WAAa,EAGxD,MAAOhE,IAMXiW,EAAKtO,UAAU+U,eAAiB,WAC5BjV,KAAK6O,cACL7O,KAAK8O,iBACL9O,KAAKkP,6BACLlP,KAAK+O,eAET3O,IACIsB,WAAUrL,KAAM,GAAI0a,UAAWjS,EAAME,eAAiByC,IACvD+M,EAAKtO,UAAW,YAAS,IAC5BE,IACIe,YAAS,IACVqN,EAAKtO,UAAW,sBAAmB,IACtCE,IACIe,WAAS,OACVqN,EAAKtO,UAAW,aAAU,IAC7BE,IACIsB,UAAQ5C,EAAMG,cAAe+B,IAC9BwN,EAAKtO,UAAW,gBAAa,IAChCE,IACIe,WAAS,IACVqN,EAAKtO,UAAW,oBAAiB,IACpCE,IACIe,YAAS,IACVqN,EAAKtO,UAAW,iBAAc,IACjCE,IACIe,WAAS,aACVqN,EAAKtO,UAAW,gBAAa,IAChCE,IACIe,WAAS,IACVqN,EAAKtO,UAAW,gBAAa,IAChCE,IACIe,WAAS,SACVqN,EAAKtO,UAAW,kBAAe,IAClCE,IACIe,WAAS,OACVqN,EAAKtO,UAAW,cAAW,IAC9BE,IACIe,WAAS,OACVqN,EAAKtO,UAAW,cAAW,IAC9BE,IACIe,WAAS,OACVqN,EAAKtO,UAAW,eAAY,IAC/BE,IACIe,WAAS,KACVqN,EAAKtO,UAAW,kBAAe,IAClCE,IACIe,WAAS,SACVqN,EAAKtO,UAAW,mBAAgB,IACnCE,IACIe,WAAS,SACVqN,EAAKtO,UAAW,2BAAwB,IAC3CE,IACIsB,WAAU7L,MAAO,UAAWiC,MAAO,EAAGkK,KAAM,aAAeJ,IAC5D4M,EAAKtO,UAAW,aAAU,IAC7BE,IACI6B,gBAAeF,IAChByM,EAAKtO,UAAW,uBAAoB,IAChCsO,GACTpN,iBCvjBE8T,GAA4B,WAC5B,QAASA,GAAWtS,GAChB5C,KAAK4C,QAAUA,EACf5C,KAAKqR,QAAU,GACfrR,KAAKmV,cAAgB,GAAI7K,IAAc1H,GAuzB3C,MAjzBAsS,GAAWhV,UAAUkV,WAAa,WAC9BpV,KAAKpE,gBAAkBoE,KAAK4C,QAAQhH,eACpC,IACIyZ,GACA7Z,EAFAoH,EAAU5C,KAAK4C,OAGdA,GAAQ+H,wBACT0K,EAAcrV,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,mBAG/E,KAAK,GADD4e,GAAOvV,KAAK4C,QAAQ4S,gBACf1a,EAAI,EAAGC,EAAMwa,EAAKhd,OAAQuC,EAAIC,EAAKD,IAAK,CAC7C,GAAI+U,GAAO0F,EAAKza,EAES,gBAArB+U,EAAKQ,aACAzN,EAAQ+H,wBACTnP,EAAUwE,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,gBAE3EqJ,KAAKyV,cAAcja,EAASqU,GAC5B7P,KAAK0V,eAAe7F,EAAMrU,EAASqU,EAAKzH,MACxCpI,KAAK2V,gBAAgB9F,EAAMrU,EAASqU,EAAKzH,QAGzC5M,EAAUoH,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,eAClEqJ,KAAK4V,cAAcpa,EAASqU,GAC5B7P,KAAK6V,eAAehG,EAAMrU,EAASqU,EAAKzH,MACxCpI,KAAK8V,gBAAgBjG,EAAMrU,EAASqU,EAAKzH,OAEzCyH,EAAKI,iBAAiB1X,OAAS,GAC/ByH,KAAK+V,gBAAgBva,EAASqU,GAE7BjN,EAAQ+H,uBACT0K,EAAYxe,YAAY2E,GAG3BoH,EAAQ+H,uBACT3K,KAAK4C,QAAQzJ,UAAUtC,YAAYwe,IAG3CH,EAAWhV,UAAUuV,cAAgB,SAAUO,EAAQnG,GACnD,GAAIvU,GAAI0E,KAAKpE,gBAAgBN,GAAMuU,EAAKY,gBAAgD,EAA9BzQ,KAAKpE,gBAAgBhD,QAC3E8Q,EAAO,GAAID,IAAWzJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,aAAc,GAAIyS,IAAKpJ,KAAKpE,gBAAgBP,EAAGC,EAAG0E,KAAKpE,gBAAgBP,EAAI2E,KAAKpE,gBAAgB9D,MAAOwD,GAAI,cAAe,EAC9K0E,MAAKmV,cAAc1J,SAAS/B,EAAMsM,IAEtCd,EAAWhV,UAAU0V,cAAgB,SAAUI,EAAQnG,GACnD,GAAIxU,GAAI2E,KAAKpE,gBAAgBP,GAAOwU,EAAKY,gBAAuBzQ,KAAKpE,gBAAgB9D,MAAzB,GACxD4R,EAAO,GAAID,IAAWzJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,aAAc,GAAIyS,IAAK/N,EAAG2E,KAAKpE,gBAAgBN,EAAGD,EAAG2E,KAAKpE,gBAAgBhD,OAASoH,KAAKpE,gBAAgBN,GAAI,cAAe,EAC/K0E,MAAKmV,cAAc1J,SAAS/B,EAAMsM,IAEtCd,EAAWhV,UAAUwV,eAAiB,SAAU7F,EAAMmG,EAAQ5N,GAC1D,GAAI9M,GAAI8M,EAAK9M,GAAMuU,EAAKY,kBACiBZ,EAAKlB,aAAa/V,OAASoH,KAAKqR,QAAUlZ,EAAI0X,EAAKJ,wBADjDI,EAAKlB,aAAa/V,OAASoH,KAAKqR,QACvElZ,EAAI0X,EAAKJ,uBACb,IAAII,EAAK5V,MAAM5D,KAAM,CACjB,GAAIuM,GAAU5C,KAAK4C,QACf3I,EAAQ4V,EAAK5V,MACbkY,EAAc/b,EAAY6D,EAAM5D,KAAM4D,EAAM8W,WAC5CM,EAAUrR,KAAKqR,QACfnI,EAA2C,SAAlCjP,EAAM8W,UAAU7Y,cAA2B,QAClB,QAAlC+B,EAAM8W,UAAU7Y,cAA0B,MAAQ,QACtDmZ,GAAUxB,EAAKY,kBAAoBY,EAAUc,EAAYvZ,OAAS,GAAMyY,EAAW,EAAIc,EAAYvZ,OAAS,CAC5G,IAAII,GAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,cAAe,GAAIsS,IAAUb,EAAK/M,EAAIxD,EAAeuQ,EAAKtQ,MAAO,EAAG,EAAGmC,EAAM8W,WAAYzV,EAAI+V,EAASnI,EAAQjP,EAAM5D,MAAO4D,EAAM8W,UAAW9W,EAAM8W,UAAUlb,OAAS+M,EAAQsC,WAAW9P,UAC1O4K,MAAKmV,cAAcxb,WAAWX,EAASgd,EAAQ/b,EAAM5D,QAG7D6e,EAAWhV,UAAU2V,eAAiB,SAAUhG,EAAMmG,EAAQ5N,GAC1D,GAAIyH,EAAK5V,MAAM5D,KAAM,CACjB,GAAI4D,GAAQ4V,EAAK5V,MACb2I,EAAU5C,KAAK4C,QACfkG,EAAiB+G,kBAAwB,IAAM,GAE/C3G,GADc9S,EAAY6D,EAAM5D,KAAM4D,EAAM8W,WACD,SAAlC9W,EAAM8W,UAAU7Y,cAA2B,QAClB,QAAlC+B,EAAM8W,UAAU7Y,cAA0B,MAAQ,UAClDmZ,EAAU,EACdA,GAAUxB,EAAKY,gBAAkBY,GAAWA,CAC5C,IAAIhW,GAAI+M,EAAK/M,EAAIgW,GAAYxB,kBAAwBA,EAAKlB,aAAa7W,MAAQK,EAAI0X,EAAKH,yBAClFG,EAAKlB,aAAa7W,MAAQK,EAAI0X,EAAKH,yBACrCpU,EAAI8M,EAAK9M,EAAI9C,EAAe4P,EAAM,EAAG,EAAGnO,EAAM8W,YAAclB,EAAKY,gBAAkBzQ,KAAKqR,SAAWrR,KAAKqR,SACxGrY,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,cAAe,GAAIsS,IAAU5N,EAAGC,EAAI0E,KAAKqR,QAASnI,EAAQjP,EAAM5D,KAAMyS,EAAe,UAAYA,EAAgB,MAAY,MAAY,IAAK,QAAS7O,EAAM8W,UAAW9W,EAAM8W,UAAUlb,OAAS+M,EAAQsC,WAAW9P,UACjQ4K,MAAK4C,QAAQ+H,sBAId3K,KAAKmV,cAAcjK,eAAelS,EAASiB,EAAM5D,KAAMgF,EAAGC,GAH1D0E,KAAKmV,cAAcxb,WAAWX,EAASgd,EAAQ/b,EAAM5D,QAWjE6e,EAAWhV,UAAU+V,uBAAyB,WAM1C,IAAK,GAJDpG,GACAqG,EAFUlW,KAAK4C,QAEU4S,gBACzBW,EAAOnW,KAAK4C,QAAQwT,WACpBC,IAAkBF,GAAQA,EAAKG,YAAmC,SAArBH,EAAKI,aAC7Czb,EAAI,EAAGC,EAAMmb,EAAe3d,OAAQuC,EAAIC,EAAKD,IAE3B,aADvB+U,EAAOqG,EAAepb,IACbwH,WAA2B+T,GAChCxG,EAAKoF,iBACLpF,EAAK0C,2BAA2BvS,KAAK4C,UAEb,aAAnBiN,EAAKvN,WAA4B+T,GACtCxG,EAAKoF,iBACLpF,EAAK2D,2BAA2BxT,KAAK4C,UAEb,aAAnBiN,EAAKvN,YACVuN,EAAKoF,iBACLpF,EAAK0D,+BAET1D,EAAKf,cAAgBe,EAAKW,WAAaX,EAAKf,cAAcwE,UAAYzD,EAAKf,eAQnFoG,EAAWhV,UAAUsW,YAAc,SAAUpO,GAIzC,IAAK,GAFDyH,GADAnU,EAAUsE,KAAK4C,QAEfsT,EAAiBxa,EAAQ8Z,gBACpB1a,EAAIob,EAAe3d,OAAS,EAAGuC,GAAK,EAAGA,IAAK,CAEjD,GAAIuW,GAAkC,SADtCxB,EAAOqG,EAAepb,IACHiW,UAAU7Z,KAAiB,EAAI8I,KAAKqR,OACvDxB,GAAKpB,aACLoB,EAAKnB,YACLmB,EAAKD,YAAYC,EAAMnU,EAAS0M,GAC3ByH,EAAKY,gBAUmB,eAArBZ,EAAKQ,aACLjI,EAAK9M,GAAKnD,EAAI0X,EAAKnB,UAAY2C,EAC/BjJ,EAAKxP,QAAUT,EAAI0X,EAAKnB,UAAY2C,GAGpCjJ,EAAKtQ,OAASK,EAAI0X,EAAKnB,UAAY2C,EAdd,eAArBxB,EAAKQ,YACLjI,EAAKxP,QAAWT,EAAI0X,EAAKpB,WAAa4C,GAGtCjJ,EAAK/M,GAAKlD,EAAI0X,EAAKpB,WAAa4C,EAChCjJ,EAAKtQ,OAASK,EAAI0X,EAAKpB,WAAa4C,KAmBpD6D,EAAWhV,UAAUuW,kBAAoB,SAAUrO,GAI/C,IAAK,GADD8N,GAFUlW,KAAK4C,QAEU4S,gBACpB1a,EAAI,EAAGC,EAAMmb,EAAe3d,OAAQuC,EAAIC,EAAKD,IAAK,CACvD,GAAI4b,GAASR,EAAepb,EAC5B4b,GAAOtO,KAAO7C,YAAW6C,EAAM,MAAM,GACV,eAAvBsO,EAAOrG,aAAiCqG,EAAOjG,kBAC/CiG,EAAOtO,KAAK9M,EAAI8M,EAAK9M,EAAI8M,EAAKxP,OAC9B8d,EAAOtO,KAAKxP,OAAS,GAEE,aAAvB8d,EAAOrG,aAA8BqG,EAAOjG,kBAC5CiG,EAAOtO,KAAK/M,EAAI+M,EAAK/M,EAAI+M,EAAKtQ,MAC9B4e,EAAOtO,KAAKtQ,MAAQ,GAExB4e,EAAO/G,qBACP,KAAK,GAAIgH,GAAM,EAAGA,EAAMD,EAAOzG,iBAAiB1X,OAAQoe,IAAO,CAC3D,GAAIxG,GAAgBuG,EAAOvG,cAAcuG,EAAQC,EACjDD,GAAO/G,mBAAmBtV,KAAK8V,MAI3C+E,EAAWhV,UAAUyV,gBAAkB,SAAU9F,EAAMmG,EAAQ5N,GAC3D,GAAIxF,GAAU5C,KAAK4C,QACfiP,EAAShC,EAAKhB,WACdxS,EAAW+L,EAAKtQ,MAAQ+X,EAAKb,cAC7B4H,EAAkB,EAClBxE,EAAevC,EAAKxT,SAAWwT,EAAKxT,SAAW,EAC/Cwa,EAAezO,EAAKtQ,OAAS+X,EAAKb,cAAgBa,EAAKZ,mBACvD+D,EAAOnD,EAAKZ,iBAChB,IAAI4H,EAAe,EACf,KAAOA,EAAe1gB,SAAS0Z,EAAKkB,UAAU7Z,KAAM,KAChD8b,GAAc,EACd6D,EAAezO,EAAKtQ,OAAS+X,EAAKb,cAAgBgE,OAItDA,GAAOnD,EAAKf,cAAcvW,MAE1BsX,GAAKZ,kBAAoB+D,IACzB4D,EAAkB5D,EAClBnB,EAAShC,EAAKf,cACdsD,EAAeY,EAEnB,IAEI8D,GAFAzF,EAAU,GACV0F,EAAa3O,EAAK/M,GAAMwU,EAAKW,WAAiBpI,EAAKtQ,MAAT,GAE1CgB,EAAQ+W,EAAK/W,KACjBuY,GAAUrR,KAAKqR,OACf,IACI2F,GACAC,CACCrU,GAAQ+H,wBACTqM,EAAehX,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,gBAC5EsgB,EAAgBjX,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,qBAEjF,KAAK,GAAImE,GAAI,EAAGC,EAAM8W,EAAOtZ,OAAQuC,EAAIC,EAAKD,IAAK,CAC/C,GAAIoc,GAAY,GAAIvO,IAAKoO,EAAY3O,EAAK9M,EAAGe,EAAU+L,EAAKxP,QACxDgC,EAAuC,SAA9BiV,EAAKiC,sBAAmCjC,EAAKP,YAAkC,aAAnBO,EAAKvN,WACrD,SAArBuN,EAAKkC,YAAyBzX,EAAS+B,EAAW+V,EAAcP,EAAO/W,GAAI+U,EAAKkB,WAChFzW,EAASuV,EAAKX,0BAA0BpU,GAAKuB,EAAUwV,EAAO/W,GAAI+U,EAAKkB,WAAac,EAAO/W,GAC3FqX,EAAc/b,EAAYwE,EAAOiV,EAAKkB,WACtCtX,MAAY,EAChBqd,GAAgBjH,qBAETwB,GAAYvY,EAAQ,KAAS,EAAKqZ,EAAYvZ,OAAS,EAAK,EACnE,IAAIyC,GAAI6b,EAAU7b,GAAOwU,EAAKW,aAC2B0G,EAAUpf,MAAQ,EAAMqa,EAAYra,MAAQ,GAAhGof,EAAUpf,MAAQ,EAAMqa,EAAYra,MAAQ,EACf,UAA9B+X,EAAKiC,qBACLzW,EAAMwU,EAAKW,WAAsDnV,EAAK0b,EAAa1a,EAAYhB,EAAK0b,EAAa1a,EAAvFhB,GAAK6b,EAAU7b,EAAIA,EAAI6b,EAAU7b,EAEtDvC,EAAQ,KAAQ,IAErBuC,GADAA,EAAIA,EAAI+M,EAAK/M,EAAI+M,EAAK/M,EAAIA,GAChB8W,EAAYra,MAAUsQ,EAAK/M,EAAI+M,EAAKtQ,MAAWsQ,EAAK/M,EAAI+M,EAAKtQ,MAAQqa,EAAYra,MAASuD,EAExG,IAAIC,GAAI8M,EAAK9M,EAAIwb,CAEjB,IADA9W,KAAKmX,gBAAgBtH,EAAMoH,EAAepH,EAAKzH,KAAM/M,EAAG8W,EAAYra,MAAOgD,GACvEhC,EAAQ,KAAQ,EAAG,CACnBA,EAASA,EAAQ,IAAOA,EAAQ,IAAMA,CACtC,IAAIse,GAAave,EAAegX,EAAKkB,UAAWnW,EAAO9B,GACnDue,EAAaxH,EAAKlB,aAAa/V,OAAS8D,KAAKC,KAAKya,EAAWxe,OAASuZ,EAAYvZ,OACtEiX,GAAKY,eAIrBhX,GAAY,UAAYX,EAAQ,KAHhCuC,EAAI6b,EAAU7b,GAAKwU,EAAKW,YAAe0G,EAAUpf,MAAQ,EAAMof,EAAUpf,MAAQ,IAGvC,KAF1CwD,GAASuU,EAAKY,iBAAoB2G,EAAWxe,OAAS,EAC/CE,EAAQ,KAAS,KAAQA,EAAQ,MAAU,IAAO,EAAKse,SAAqB,GAEzE,IAEd,GAAIpe,GAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,eAAiBmE,EAAG,GAAImO,IAAU5N,EAAGC,EAAIxC,EAAQ,KAAQ,EAAK,QAAU,SAAU8B,EAAO9B,EAAOW,GAAYoW,EAAKkB,UAAWlB,EAAKkB,UAAUlb,OAAS+M,EAAQsC,WAAW7P,UAOzN,IANc,IAAVyD,GAAekH,KAAK4C,QAAQ+H,sBAC5B3K,KAAKmV,cAAcjK,eAAelS,EAAS4B,GAG3CoF,KAAKmV,cAAcxb,WAAWX,EAASge,EAAcpc,GAEjC,IAApBgc,EAAuB,CACvB,GAAIU,GAAoC,aAAnBzH,EAAKvN,WAAiD,SAArBuN,EAAKkC,YACvDlC,EAAKX,0BAA0BpU,GAAK+U,EAAKZ,iBAC7C8H,IAA4BlH,EAAKW,YAC3B8G,EAAgBjb,EADyBib,EAAgBjb,MAI/D0a,IAA4BlH,EAAKW,YAA8CoG,EAAkBva,EAAlDua,EAAkBva,GAEvC,IAA1BzB,EAAM1E,QAAQ,QACd8J,KAAK4C,QAAQrF,kBAAkBlD,KAAK,GAAIsT,IAAckE,EAAO/W,GAAI,GAAI6N,IAAKtN,EAAGC,EAAI6W,EAAYvZ,OAAQuZ,EAAYra,MAAOqa,EAAYvZ,UAEhH,IAApBge,IACA9b,GAAS8b,EAAkB,GAG9BhU,EAAQ+H,wBACTqL,EAAOnf,YAAYmgB,GACnBhB,EAAOnf,YAAYogB,KAG3B/B,EAAWhV,UAAU4V,gBAAkB,SAAUjG,EAAMmG,EAAQ5N,GAC3D,GAAIxF,GAAU5C,KAAK4C,QACfiP,EAAShC,EAAKhB,WACdxS,EAAW+L,EAAKxP,OAASiX,EAAKb,cAC9B4H,EAAkB,EAClBC,EAAezO,EAAKxP,QAAUiX,EAAKb,cAAgBa,EAAKZ,mBACxD+D,EAAOnD,EAAKZ,iBAChB,IAAI4H,EAAe,EACf,KAAOA,EAAe1gB,SAAS0Z,EAAKkB,UAAU7Z,KAAM,KAChD8b,GAAc,EACd6D,EAAezO,EAAKxP,QAAUiX,EAAKb,cAAgBgE,OAIvDA,GAAOnD,EAAKf,cAAcvW,MAE1BsX,GAAKZ,kBAAoB+D,IACzB4D,EAAkB5D,EAClBnB,EAAShC,EAAKf,cAElB,IAAIuC,GAAU,GACVkG,EAAcnP,EAAK9M,GAAKuU,EAAKW,WAAa,EAAIpI,EAAKxP,QACnDsQ,EAAS2G,EAAKY,gBAAkB,QAAU,KAC9CY,GAAUxB,EAAKY,gBAAkBY,GAAWA,CAC5C,IAAI2F,GACAC,CACCrU,GAAQ+H,wBACTqM,EAAehX,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,gBAC5EsgB,EAAgBjX,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,qBAEjF,KAAK,GAAImE,GAAI,EAAGC,EAAM8W,EAAOtZ,OAAQuC,EAAIC,EAAKD,IAAK,CAC/C,GAAI0c,GAAY,GAAI7O,IAAKP,EAAK/M,EAAGkc,EAAanP,EAAKtQ,MAAOuE,GACtDtF,EAAWygB,EAAU5e,OAAS,EAC9ByC,EAAImc,EAAUnc,EAAIgW,EAClB/V,EAAIkc,EAAUlc,GAAKuU,EAAKW,WAAazZ,GAAYA,GACjDiC,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,eAAiBmE,EAAG,GAAImO,IAAU5N,EAAGC,EAAG4N,EAAQ2I,EAAO/W,GAAI,EAAG,cAA4B,MAAY,IAAK,UAAW+U,EAAKkB,UAAWlB,EAAKkB,UAAUlb,OAAS+M,EAAQsC,WAAW7P,UAKnO,IAJIoiB,UAAQC,OAAS9U,EAAQ+H,wBACzB3R,EAAQgQ,GAAK,OAEjBhJ,KAAKmV,cAAcxb,WAAWX,EAASge,EAAcnF,EAAO/W,IACpC,IAApB8b,EAAuB,CACvB,GAAIU,GAAoC,aAAnBzH,EAAKvN,WAAiD,SAArBuN,EAAKkC,YACvDlC,EAAKX,0BAA0BpU,GAAK+U,EAAKZ,iBAC7CsI,IAA6B1H,EAAKW,WAAc8G,EAAgBjb,GAC1Dib,EAAgBjb,MAGtBkb,IAA6B1H,EAAKW,WAAcoG,EAAkBva,GAAcua,EAAkBva,EAClGvB,GAAS8b,EAAkB,CAE/B,IAAIzE,GAAc/b,EAAYyb,EAAO/W,GAAI+U,EAAKkB,UAC9C/Q,MAAK2X,gBAAgB9H,EAAMoH,EAAepH,EAAKzH,KAAM9M,EAAG6W,EAAYvZ,OAAQkC,GAE3E8H,EAAQ+H,wBACTqL,EAAOnf,YAAYmgB,GACnBhB,EAAOnf,YAAYogB,KAG3B/B,EAAWhV,UAAUiX,gBAAkB,SAAUtH,EAAMmG,EAAQ5N,EAAMwP,EAAQ9f,EAAOoD,GAChF,GAOI2c,GACAC,EARAzb,EAAW+L,EAAKtQ,MAAQ+X,EAAKb,cAC7BlF,EAAO,GAEPsI,EAAevC,EAAKxT,SAAWwT,EAAKxT,SAAW,EAC/C2V,EAASnC,EAAKW,WAAapI,EAAK/M,EAAI+M,EAAKtQ,MAASuE,EAAWnB,EAAQkX,EACrEhK,EAAK/M,EAAKgB,EAAWnB,EAAQkX,EAC7B2F,EAAS3P,EAAK9M,CAKlB,QAFAwc,EAAOC,GAAUlI,EAAKY,kBAAoBZ,EAAKlB,aAAa/V,OAP9C,IAOkEiX,EAAKlB,aAAa/V,OAPpF,IAQdif,EAAOhI,EAAKW,WAAawB,EAAS3V,EAAW2V,EAAS3V,EAC9CwT,EAAK1H,OAAOnG,MAChB,IAAK,YACD8H,EAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACpED,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,MAAkB/F,EAAS,IAAM+F,CAC7G,MACJ,KAAK,mBACDjO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACnED,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,GAC5E,MACJ,KAAK,sBACDjO,EAAO,KAAYkI,EAAS,IAAM8F,EAAO,MAAkB9F,EAAS,IAAM+F,EAAS,MACnEF,EAAO,IAAME,EAAS,MAAkBF,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,4BACDhO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACnED,EAAO,IAAME,EAAS,MAAkBF,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,QAKDhO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,KAHtE8F,EAAOC,GAAWD,EAAOC,GAAU,GAAMlI,EAAKY,gBAAkB,EAAI,IAGe,OAFvEZ,EAAKW,WAAcoH,EAAS9f,EAFxB,EAE8C8f,EAF9C,GAKQ,IAAME,EAAO,OAFzBjI,EAAKW,WAAcoH,EAHf,EAGsCA,EAAS9f,EAH/C,GAMZ,IAAMggB,EAAO,MACPD,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,IAG1ElI,EAAK1H,OAAOrQ,MAAQ,GAA0B,kBAArB+X,EAAK1H,OAAOnG,MACrChC,KAAKgY,wBAAwBnI,EAAM/F,EAAMkM,EAAQ9a,IAGzDga,EAAWhV,UAAUyX,gBAAkB,SAAU9H,EAAMmG,EAAQ5N,EAAM6P,EAAQrf,EAAQsC,GACjF,GAOI2c,GACAC,EARAzb,EAAW+L,EAAKxP,OAASiX,EAAKb,cAC9BlF,EAAO,GAEPsI,EAAevC,EAAKxT,SAAWwT,EAAKxT,SAAW,EAC/C2V,EAAS5J,EAAK/M,EACd0c,EAASlI,EAAKW,WAAapI,EAAK9M,EAAKe,EAAWnB,EAAQkX,EACxDhK,EAAK9M,EAAI8M,EAAKxP,OAAUyD,EAAWnB,EAAQkX,CAK/C,QAFAyF,EAAO7F,GAAWnC,EAAKY,gBAAyDZ,EAAKlB,aAAa7W,MAPpF,KAO6B+X,EAAKlB,aAAa7W,MAP/C,KAQdggB,EAAOjI,EAAKW,WAAauH,EAAS1b,EAAW0b,EAAS1b,EAC9CwT,EAAK1H,OAAOnG,MAChB,IAAK,YACD8H,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACnED,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,MAAkB/F,EAAS,IAAM+F,CAC7G,MACJ,KAAK,mBACDjO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkBF,EAAO,IAAME,EAAS,MACnEF,EAAO,IAAMC,EAAO,MAAkB9F,EAAS,IAAM8F,EAAO,GAC5E,MACJ,KAAK,sBACDhO,EAAO,KAAY+N,EAAO,IAAME,EAAS,MAAkB/F,EAAS,IAAM+F,EAAS,MACnE/F,EAAS,IAAM8F,EAAO,MAAkBD,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,4BACDhO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,MAAkBF,EAAO,IAAME,EAAS,MACnEF,EAAO,IAAMC,EAAO,MAAkB9F,EAAS,IAAM8F,EAAO,GAC5E,MACJ,KAAK,QAIDhO,EAAO,KAAYkI,EAAS,IAAM+F,EAAS,OAH3CF,EAAO7F,GAAUA,EAAS6F,GAAQ,GAGkC,IAAME,EAAS,MACnEF,EAAO,KAHXhI,EAAKW,WAAayH,EAASrf,EAAS,EAAIqf,EAASrf,EAAS,GAGjC,MACjCif,EAAO,KAHChI,EAAKW,WAAayH,EAASrf,EAAS,EAAIqf,EAASrf,EAAS,GAG7C,MAAkBif,EAAO,IAAMC,EAAO,MAC/C9F,EAAS,IAAM8F,EAGnCjI,EAAK1H,OAAOrQ,MAAQ,GAA0B,kBAArB+X,EAAK1H,OAAOnG,MACrChC,KAAKgY,wBAAwBnI,EAAM/F,EAAMkM,EAAQ9a,IAQzDga,EAAWhV,UAAU8X,wBAA0B,SAAUnI,EAAMqI,EAAalC,EAAQ9a,GAChF,GACIvE,GAA0B,eAArBkZ,EAAKQ,YAA+B,sBAAwB,sBACjE8H,EAAc,GAAInR,GAAWhH,KAAK4C,QAAQpH,QAAQ7E,GAAKA,EAAKuE,EAAO,cAAe2U,EAAK1H,OAAOrQ,MAAO+X,EAAK1H,OAAOtS,MAAO,EAAG,OAAQqiB,EACvI,IAAKlY,KAAK4C,QAAQ+H,sBAKd3K,KAAK4C,QAAQiI,eAAeG,SAASmN,MARrCC,QAGqC,CACrC,GAAInB,GAAgBjX,KAAK4C,QAAQ3J,SAAS+R,SAASmN,EACnDnC,GAAOnf,YAAYogB,KAM3B/B,EAAWhV,UAAU6V,gBAAkB,SAAUC,EAAQnG,GACrD,GAAIrU,EACCwE,MAAK4C,QAAQ+H,wBACdnP,EAAUwE,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,IAAMkZ,EAAKQ,YAAc,sBAEpF,eAArBR,EAAKQ,YAA+BrQ,KAAKqY,4BAA4BxI,EAAMrU,EAASqU,EAAKzH,MACrFpI,KAAKsY,4BAA4BzI,EAAMrU,EAASqU,EAAKzH,MACpDpI,KAAK4C,QAAQ+H,uBACdqL,EAAOnf,YAAY2E,IAQ3B0Z,EAAWhV,UAAUmY,4BAA8B,SAAUxI,EAAMmG,EAAQ5N,GACvE,GAEI9M,GAEA0W,EACA+F,EAEApc,EACAuO,EACAC,EACAuG,EACAxH,EAEA8N,EAGAhG,EACAlZ,EACAygB,EAlBApR,EAAQnH,KACR3E,EAAI,EAKJwc,EAAO,EAMPrH,EAAaX,EAAKW,WAElBC,EAAkBZ,EAAKY,gBACvB+H,EAAW,GAIXzhB,GAAYyZ,EAAaX,EAAKzH,KAAKtQ,MAAQ,GAAK+X,EAAKzH,KAAK/M,CAC9DwU,GAAKI,iBAAiBqB,IAAI,SAAUX,EAAY8H,GAC5CzB,EAAe7P,EAAMvE,QAAQ3J,SAASqc,aAAc3e,GAAIwQ,EAAMvE,QAAQpH,QAAQ7E,GAAK,wBAA0B8hB,IAC7G9H,EAAWE,WAAWS,IAAI,SAAUV,EAAe9V,GAC/Ca,GAAU,EACVuO,EAAuC,gBAAxB0G,GAAc1G,MAAqB0G,EAAc1G,MAAQhH,OAAO,GAAIzG,MAAKmU,EAAc1G,QACtGC,EAAmC,gBAAtByG,GAAczG,IAAmByG,EAAczG,IAAMjH,OAAO,GAAIzG,MAAKmU,EAAczG,MAChG6H,EAASjb,EAAWoQ,EAAMqK,sBAAsB3B,EAAM3F,EAAO0G,EAAc1G,MAAO2F,EAAKzH,MACvF2P,EAASlI,EAAKF,mBAAmB8I,GAAOnd,EACxCuc,EAAO9gB,EAAWoQ,EAAMsK,eAAe5B,EAAMe,EAAczG,IAAKA,EAAK0F,EAAKzH,MAC1EsI,EAAYta,EAAYwa,EAAcva,KAAMsa,EAAWI,WACvDC,GAA2C,OAAnCJ,EAAcc,iBAA6BhV,KAAKiV,IAAIkG,EAAO7F,GAAUpB,EAAcc,kBA3BrF,GA4BNpW,EAAIyc,GAAUtH,IAAqBZ,EAAKJ,sBAAsBgJ,GAAS/H,EAAU9X,QAAW8X,EAAU9X,QACtGd,EAAQ8Y,EAAcc,iBAAmBd,EAAcc,iBAAmBhB,EAAU5Y,MACpFuD,EAAKmV,EAAgCwB,EAAShB,EAA5BgB,EA9BZ,GA+BuB,WAAzBrB,EAAW+H,WACXrd,GAAMwc,EAAO7F,GAAU,EAAKA,EAC5B3W,IAAMqV,EAAU5Y,MAAQkZ,EAAMA,EAAMN,EAAU5Y,OAAS,GAEzB,QAAzB6Y,EAAW+H,WAChBrd,EAAKmV,EAA8BwB,EApCjC,GAoCgB6F,EApChB,GAqCFxc,GAAMqV,EAAU5Y,MAAQkZ,EAAMA,EAAMN,EAAU5Y,OAG9CuD,EAAKmV,EAAgCqH,EAxCnC,GAwCgB7F,EAxChB,GA0CsB,SAAxBrB,EAAWiB,UAAuBlB,EAAU5Y,MAAQ4E,KAAKiV,IAAIkG,EAAO7F,KACpE3W,EAAKmV,EAAgCwB,EAAStB,EAAU5Y,MA3CtD,GA2CgBka,EA3ChB,GA4CF9I,EAAS,QAEb,IAAIyP,GAAY,GAAI1P,IAAU5N,EAAGC,EAAG4N,EAAQ0H,EAAcva,KAAM,EAAG,kBAC/D2C,EAAU,GAAI4P,IAAWzB,EAAMvE,QAAQpH,QAAQ7E,GAAK,oBAAsB8hB,EAAQ,QAAU3d,EAAG6d,EAAWhI,EAAWI,UAAWJ,EAAWI,UAAUlb,OAASsR,EAAMvE,QAAQsC,WAAW7P,UAS3L,IAR4B,SAAxBsb,EAAWiB,UACX5Y,EAAQ3C,KAAO+D,EAASwW,EAAcva,KAAM2a,EAAKL,EAAWI,WAC5DwH,EAAavf,EAAQ3C,KAAKkC,QAEG,SAAxBoY,EAAWiB,WAChB5Y,EAAQ3C,KAAOiE,EAAS0W,EAAKJ,EAAcva,KAAMsa,EAAWI,WAC5DwH,EAAa,GAEW,SAAxB5H,EAAWiB,UAAuB5Y,EAAQ3C,KAAKkC,OAAS,EAAG,CAC3D4O,EAAMgO,cAAchK,eAAenS,EAAS2X,EAAWI,UAAWiG,EAClE,KAAK,GAAI4B,GAAM,EAAGA,EAAM5f,EAAQ3C,KAAKkC,OAAQqgB,IACzC,IAA0C,IAAtC5f,EAAQ3C,KAAKuiB,GAAK1iB,QAAQ,OAAe,CACzCyF,GAAU,CACV,YAKRwL,GAAMgO,cAAcxb,WAAWX,EAASge,EAAche,EAAQ3C,KAE7D8Q,GAAMvE,QAAQ+H,uBACfqL,EAAOnf,YAAYmgB,KAEc,IAAjChe,EAAQ3C,KAAKH,QAAQ,SAAqD,IAApC8C,EAAQ3C,KAAK,GAAGH,QAAQ,QAAiByF,IAC/EwL,EAAMvE,QAAQrF,kBAAkBlD,KAAK,GAAIsT,IAAciD,EAAcva,KAAM,GAAIsS,IAAKtN,EAAGC,EAAIoV,EAAU9X,OAAQoY,EAAKN,EAAU9X,OAAS2f,KAErI5H,EAAWxI,OAAOrQ,MAAQ,GAAgC,kBAA3B6Y,EAAWxI,OAAOnG,OACjDwW,EAAWrR,EAAM0R,uBAAuBJ,EAAO5I,EAAMmC,EAAQ+F,EAAQF,EAAMW,EAAUC,EAAO/H,EAAWM,EAAK3V,MAGnG,KAAbmd,IACArR,EAAM2R,oBAAoBL,EAAO5I,EAAM2I,EAAUxC,GACjDwC,EAAW,MAGdxY,KAAK4C,QAAQ+H,uBACdqL,EAAOnf,YAAYmgB,IAQ3B9B,EAAWhV,UAAU2Y,uBAAyB,SAAUE,EAAYlJ,EAAMmC,EAAQ+F,EAAQF,EAAM/N,EAAM2O,EAAO/H,EAAWM,EAAK3V,GACzH,GAEIyc,GAAOC,GAAUlI,EAAKY,iBAAoBZ,EAAKJ,sBAAsBsJ,GACrElJ,EAAKJ,sBAAsBsJ,GAC/B,QAAQlJ,EAAKI,iBAAiBwI,GAAOtQ,OAAOnG,MACxC,IAAK,YACD8H,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACpED,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,MAAkB/F,EAAS,IAAM+F,EAAS,GACtH,MACJ,KAAK,mBACDjO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACpED,EAAO,IAAMC,EAAO,MAAkBD,EAAO,IAAME,EAAS,GAC5E,MACJ,KAAK,sBACDjO,GAAQ,KAAYkI,EAAS,IAAM8F,EAAO,MAAkB9F,EAAS,IAAM+F,EAAS,MACpEF,EAAO,IAAME,EAAS,MAAkBF,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,4BACDhO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,IAAM8F,EAAO,MACpED,EAAO,IAAME,EAAS,MAAkBF,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,QAIDhO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkB/F,EAAS,KAAO+F,GAAUD,EAAOC,GAAU,GAAK,OAFtGlI,EAAKW,YAAcE,EAAU5Y,MAAQkZ,EAAMA,EAAMN,EAAU5Y,OAASuD,EAD9D,EAC4EA,EAD5E,GAIU,KAAO0c,GAAUD,EAAOC,GAAU,GAAK,OAFvDlI,EAAKW,WAAanV,EAFZ,GAE2BqV,EAAU5Y,MAAQkZ,EAAMA,EAAMN,EAAU5Y,OAASuD,EAF5E,GAI2E,KAAO0c,GAC3FD,EAAOC,GAAU,GAAK,MAAkBF,EAAO,KAAOE,GAAUD,EAAOC,GAAU,GAClF,MAAkBF,EAAO,IAAME,EAAS,IAGpD,MAAOjO,IAOXoL,EAAWhV,UAAUoY,4BAA8B,SAAUzI,EAAMmG,EAAQ5N,GACvE,GAEI9M,GAEA0W,EACA+F,EACAiB,EACAlB,EACA5N,EACAC,EACAuG,EAGAsG,EAGAhG,EAEA3a,EAlBA8Q,EAAQnH,KACR3E,EAAI,EAWJmV,EAAaX,EAAKW,WAGlBgI,GADkB3I,EAAKY,gBACZ,IAIX1Z,GAFY8Y,EAAKzH,KAAKxP,OAASiX,EAAKb,cAAiBa,EAAKtT,WAE7CiU,EAAgC,EAAnBX,EAAKzH,KAAKxP,QAAciX,EAAKzH,KAAK9M,EAChEuU,GAAKI,iBAAiBqB,IAAI,SAAUX,EAAY8H,GAC5CO,EAAUnJ,EAAKF,mBAAmB8I,GAAOnd,EACzC0b,EAAe7P,EAAMvE,QAAQ3J,SAASqc,aAAc3e,GAAIwQ,EAAMvE,QAAQpH,QAAQ7E,GAAK,wBAA0B8hB,IAC7G9H,EAAWE,WAAWS,IAAI,SAAUV,EAAe9V,GAC/CoP,EAAuC,gBAAxB0G,GAAc1G,MAAqB0G,EAAc1G,MAAQhH,OAAO,GAAIzG,MAAKmU,EAAc1G,QACtGC,EAAmC,gBAAtByG,GAAczG,IAAmByG,EAAczG,IAAMjH,OAAO,GAAIzG,MAAKmU,EAAczG,MAChG4N,EAAShhB,EAAWoQ,EAAMqK,sBAAsB3B,EAAM3F,EAAO0G,EAAc1G,MAAO2F,EAAKzH,MACvF4J,EAASnC,EAAKF,mBAAmB8I,GAAOpd,EACxCyc,EAAO/gB,EAAWoQ,EAAMsK,eAAe5B,EAAMe,EAAc1G,MAAOC,EAAK0F,EAAKzH,MAC5EsI,EAAYta,EAAYwa,EAAcva,KAAMsa,EAAWI,WACvDC,GAA2C,OAAnCJ,EAAcc,iBAA6BhV,KAAKiV,IAAIK,GAAUpB,EAAcc,kBA3B9E,EA4BN,IAAIzW,GAAWyB,KAAKiV,IAAIK,GAAUA,EAASnC,EAAKL,eAAeiJ,GAAO3gB,MAAQ,KAAgB,EACzF4Y,EAAU5Y,MAAQ,CACvBuD,IAAKwU,EAAKY,gBAAkBuB,EAASA,EAASnC,EAAKL,eAAeiJ,GAAO3gB,MAAQ,IAAemD,EAChGK,EAAIyc,EA/BE,GAgCsB,SAAxBpH,EAAWiB,WAEPvb,EADwB,SAAxBsa,EAAWiB,SACJxX,EAASwW,EAAcva,KAAM2a,EAAKL,EAAWI,WAG7CzW,EAAS0W,EAAKJ,EAAcva,KAAMsa,EAAWI,YAG/B,WAAzBJ,EAAW+H,UACXpd,IAAOwc,EAAOC,GAAU,EAAK1hB,EAAKkC,OAASmY,EAAU9X,OAAU,EAG/D0C,EAD8B,QAAzBqV,EAAW+H,UACZlI,EAAasH,EAAOpH,EAAU9X,OAAS,EAAI0C,EAAIoV,EAAU9X,OAGzD4X,EAAalV,EAAIoV,EAAU9X,OAAS,EAAIkf,EAAOpH,EAAU9X,OAE7D+X,EAAWxI,OAAOrQ,MAAQ,GAAgC,kBAA3B6Y,EAAWxI,OAAOnG,OACjDwW,EAAWrR,EAAM8R,uBAAuBR,EAAO5I,EAAMmC,EAAQ+F,EAAQD,EAAMU,EAAUC,EAAO/H,EAAWM,EAAK1V,GAEhH,IAAIqd,GAAY,GAAI1P,IAAU5N,EAAGC,EAAG,QAASsV,EAAcva,KAAM,EAAG,kBAChE2C,EAAU,GAAI4P,IAAWzB,EAAMvE,QAAQpH,QAAQ7E,GAAK,oBAAsB8hB,EAAQ,QAAU3d,EAAG6d,EAAWhI,EAAWI,UAAWJ,EAAWI,UAAUlb,OAASsR,EAAMvE,QAAQsC,WAAW7P,UAC3L2D,GAAQ3C,KAAOA,EACf8Q,EAAMgO,cAAcxb,WAAWX,EAASge,EAAche,EAAQ3C,OACzB,IAAjC2C,EAAQ3C,KAAKH,QAAQ,QACrBiR,EAAMvE,QAAQrF,kBAAkBlD,KAAK,GAAIsT,IAAciD,EAAcva,KAAM,GAAIsS,IAAKtN,EAAGC,EAAIoV,EAAU9X,OAAQoY,EAAKN,EAAU9X,UAE3HuO,EAAMvE,QAAQ+H,uBACfqL,EAAOnf,YAAYmgB,KAGV,KAAbwB,IACArR,EAAM2R,oBAAoBL,EAAO5I,EAAM2I,EAAUxC,GACjDwC,EAAW,MAGdxY,KAAK4C,QAAQ+H,uBACdqL,EAAOnf,YAAYmgB,IAQ3B9B,EAAWhV,UAAU+Y,uBAAyB,SAAUF,EAAYlJ,EAAMmC,EAAQ+F,EAAQD,EAAMhO,EAAM2O,EAAO/H,EAAWM,EAAK1V,GACzH,GAGIuc,GAAO7F,GAAUnC,EAAKY,kBAAoBZ,EAAKL,eAAeuJ,GAAYjhB,MAHhE,IAIT+X,EAAKL,eAAeuJ,GAAYjhB,MAJvB,GAKd,QAAQ+X,EAAKI,iBAAiBwI,GAAOtQ,OAAOnG,MACxC,IAAK,YACD8H,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkBF,EAAO,IAAME,EAAS,MACpEF,EAAO,IAAMC,EAAO,MAAkB9F,EAAS,IAAM8F,EAAO,MAAkB9F,EAAS,IAAM+F,EAAS,GACtH,MACJ,KAAK,mBACDjO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkBF,EAAO,IAAME,EAAS,MACpEF,EAAO,IAAMC,EAAO,MAAkB9F,EAAS,IAAM8F,EAAO,GAC5E,MACJ,KAAK,sBACDhO,GAAQ,KAAY+N,EAAO,IAAME,EAAS,MAAkB/F,EAAS,IAAM+F,EAAS,MACpE/F,EAAS,IAAM8F,EAAO,MAAkBD,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,4BACDhO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,MAAkBF,EAAO,IAAME,EAAS,MACpE/F,EAAS,IAAM8F,EAAO,MAAkBD,EAAO,IAAMC,EAAO,GAC5E,MACJ,KAAK,QAIDhO,GAAQ,KAAYkI,EAAS,IAAM+F,EAAS,OAAmB/F,GAAU6F,EAAO7F,GAAU,GAAK,IAAM+F,EAAS,OAC7F/F,GAAU6F,EAAO7F,GAAU,GAAK,KAHzCnC,EAAKW,WAAclV,EADX,GAC2B,EAAMA,EAAKoV,SADtC,IAI+C,OAAmBsB,GAAU6F,EAAO7F,GAAU,GACzG,KAHInC,EAAKW,WAAclV,EAAKoV,SAFhB,GAEkDpV,EAFlD,GAEkE,GAGhE,OAAmB0W,GAAU6F,EAAO7F,GAAU,GAAK,IACjE8F,EAAO,MAAkB9F,EAAS,IAAM8F,EAAO,IAG3D,MAAOhO,IAOXoL,EAAWhV,UAAU4Y,oBAAsB,SAAUI,EAAarJ,EAAM/F,EAAMkM,GAC1E,GACIrf,GAA0B,eAArBkZ,EAAKQ,YAA+B,QAAU,QACnD8H,EAAc,GAAInR,GAAWhH,KAAK4C,QAAQpH,QAAQ7E,GAAK,IAAMA,EAAK,oBAAsBuiB,EAAa,cAAerJ,EAAKI,iBAAiBiJ,GAAa/Q,OAAOrQ,MAAO+X,EAAKI,iBAAiBiJ,GAAa/Q,OAAOtS,MAAO,EAAG,GAAIiU,GAC7NmN,EAAgBjX,KAAK4C,QAAQ3J,SAAS+R,SAASmN,EAC9CnY,MAAK4C,QAAQ+H,sBAId3K,KAAK4C,QAAQiI,eAAeG,SAASmN,MARrCC,IAKApC,EAAOnf,YAAYogB,IAU3B/B,EAAWhV,UAAUsR,sBAAwB,SAAU3B,EAAM3F,EAAOtP,EAAOwN,GACvE,GAAIrS,GACAsG,CAgBJ,OAfqB,gBAAVzB,IACgB,YAAnBiV,EAAKvN,YAA4BuN,EAAKiD,SAAWjD,EAAKkD,WAEtD7I,GADU2F,EAAKiD,QAAUjD,EAAKiD,QAAU,GAI5CzW,GADgC,eAArBwT,EAAKQ,YAA+BjI,EAAKtQ,MAAQsQ,EAAKxP,SAC9CiX,EAAKb,cAAgBa,EAAKtT,WAC7CxG,GAAS8Z,EAAKW,YAAc,EAAI,GAAKtG,EAAQ7N,EAC7CtG,EAA6B,eAArB8Z,EAAKQ,YAA+Bta,GAASA,IAGrDsG,EAAW2D,KAAKmZ,sBAAsBjP,EAAO2F,GAAM,EAAMzH,GACzDrS,EAAQ8Z,EAAKW,YAAcnU,EAAWA,EACtCtG,EAA6B,eAArB8Z,EAAKQ,YAA+Bta,GAASA,GAElDA,GAMXmf,EAAWhV,UAAUuR,eAAiB,SAAU5B,EAAMjV,EAAOuP,EAAK/B,GAC9D,GAAI/L,GACAtG,CAiBJ,OAhBqB,gBAAV6E,IACgB,YAAnBiV,EAAKvN,YAA4BuN,EAAKiD,SAAWjD,EAAKkD,WAEtD5I,GADU0F,EAAKiD,QAAUjD,EAAKiD,QAAU,GAI5CzW,GADgC,eAArBwT,EAAKQ,YAA+BjI,EAAKtQ,MAAQsQ,EAAKxP,SAC9CiX,EAAKb,cAAgBa,EAAKtT,WAC7CxG,GAAS8Z,EAAKW,YAAc,EAAI,IAAMrG,EAAM,GAAK9N,EACjDtG,EAA6B,eAArB8Z,EAAKQ,YAA+Bta,GAASA,IAIrDA,EADAsG,EAAW2D,KAAKmZ,sBAAsBhP,EAAK0F,GAAM,EAAOzH,GAExDrS,EAAQ8Z,EAAKW,YAAcza,EAAQA,EACnCA,EAA6B,eAArB8Z,EAAKQ,YAA+Bta,GAASA,GAElDA,GAEXmf,EAAWhV,UAAUiZ,sBAAwB,SAAUC,EAAMvJ,EAAM3F,EAAO9B,GAWtE,IAAK,GAPDiR,GACAC,EAEAviB,EADA8a,EAAShC,EAAKd,WAEd1S,GAAiC,eAArBwT,EAAKQ,YAA+BjI,EAAKtQ,MAAQsQ,EAAKxP,QAAUiX,EAAKb,cACjFuK,EAAY,GAAI9c,MAAKyG,OAAOkW,IAC5BvE,EAAO,EACF3Z,EAAQ,EAAGA,EAAQ2U,EAAKb,cAAe9T,IAAS,CAGrD,GAFAme,EAAY,GAAI5c,MAAKyG,OAAO2O,EAAO3W,KACnCoe,EAAazJ,EAAKW,WAAa,GAAI/T,MAAKyG,OAAO2O,EAAO3W,EAAQ,KAAO,GAAIuB,MAAKyG,OAAO2O,EAAO3W,EAAQ,KAChGA,KAAW2U,EAAKW,WAAa,EAAIX,EAAKb,cAAgB,GAEtD,GADAsK,EAAa,GAAI7c,MAAKyG,OAAO2O,EAAO3W,KACV,UAAtB2U,EAAKvT,aACLgd,EAAa,GAAI7c,MAAKyG,OAAOoW,EAAWpc,SAASoc,EAAWnc,WAAa,SAExE,IAA2B,YAAtB0S,EAAKvT,aACXgd,EAAa,GAAI7c,MAAKyG,OAAOoW,EAAWlc,WAAWkc,EAAWjc,aAAe,SAE5E,IAA2B,SAAtBwS,EAAKvT,aACXgd,EAAa,GAAI7c,MAAKyG,OAAOoW,EAAWtc,QAAQsc,EAAWrc,UAAY,SAEtE,CACGsX,EAAqC,WAAtB1E,EAAKvT,aACpB,GAAIG,MAAK6c,EAAWzc,cAAeyc,EAAWvc,WAAa,EAAG,GAAGE,UACjEqc,EAAWzc,cAAgB,GAAM,EAAI,IAAM,GAC/Cyc,GAAa,GAAI7c,MAAKyG,OAAOoW,EAAWtc,QAAQsc,EAAWrc,UAAYsX,KAG/E,GAAIrR,OAAOmW,IAAcD,GAAQlW,OAAOoW,IAAeF,EAAM,CACzD,GAA0B,YAAtBvJ,EAAKvT,cAAoD,UAAtBuT,EAAKvT,aAA0B,CAGlEuY,EAAQxY,EAFWK,KAAK0H,MAAM1H,KAAKiV,KAAK0H,EAAUlF,UAAYmF,EAAWnF,WAhCrE,MAiCiBzX,KAAKiV,KAAK0H,EAAUlF,UAAYoF,EAAUpF,WAjC3D,KAoCJpd,GADAmE,EAAQ2U,EAAKW,WAAaX,EAAKb,cAAgB,EAAI9T,EAAQA,GACxCmB,EAAWwY,CAC9B,OAGA,GAAIN,GAAe7X,KAAK0H,MAAM1H,KAAKiV,KAAK0H,EAAUlF,UAAYmF,EAAWnF,WAzCxE,OA0CDjK,GAAQqP,EAAUtc,UAAYsc,EAAUvc,QAAQuc,EAAUtc,UAAY,GACjD,IAAjBsX,IACAM,EAAQxY,EAAWkY,EAAiB7X,KAAKiV,KAAK0H,EAAUlF,UAAYoF,EAAUpF,WA5CjF,QA+CDpd,GADAmE,EAAQ2U,EAAKW,WAAaX,EAAKb,cAAgB,EAAI9T,EAAQA,GACxCmB,EAAWwY,CAC9B,QAIZ,MAAO9d,IAEJme,KC9zBP7V,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAW5D6Y,GAA8B,SAAUvY,GAExC,QAASuY,KACL,MAAkB,QAAXvY,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KA6B/D,MA/BAX,IAAUma,EAAcvY,GAIxBb,IACIe,YAAS,IACVqY,EAAatZ,UAAW,gBAAa,IACxCE,IACIe,WAAS,KACVqY,EAAatZ,UAAW,aAAU,IACrCE,IACIe,YAAS,IACVqY,EAAatZ,UAAW,6BAA0B,IACrDE,IACIsB,aAAYG,IACb2X,EAAatZ,UAAW,iBAAc,IACzCE,IACIsB,aAAYJ,IACbkY,EAAatZ,UAAW,aAAU,IACrCE,IACIsB,UAAQ5C,EAAMK,cAAe6B,IAC9BwY,EAAatZ,UAAW,gBAAa,IACxCE,IACIe,WAAS,SACVqY,EAAatZ,UAAW,eAAY,IACvCE,IACIe,WAAS,UACVqY,EAAatZ,UAAW,iBAAc,IACzCE,IACIe,YAAS,IACVqY,EAAatZ,UAAW,2BAAwB,IAC5CsZ,GACTpY,iBAEEqY,GAAwB,WACxB,QAASA,GAAO7W,GACZ5C,KAAK4C,QAAUA,EACf5C,KAAKmV,cAAgB,GAAI7K,IAActK,KAAK4C,SAC5C5C,KAAK0Z,UAAY,GAAI/W,GAAU3C,KAAK4C,SAyexC,MAjeA6W,GAAOvZ,UAAUyZ,iBAAmB,WAChC3Z,KAAK4Z,mBACL,IAAIhX,GAAU5C,KAAK4C,QACfiX,GAAiB,CACrBjX,GAAQkX,QAAUlX,EAAQ4S,gBAAgB,GAAGxG,cAC7CpM,EAAQmX,QAAUnX,EAAQ4S,gBAAgB,GAAGxG,aAC7C,IAWIgL,GAEAC,EAbAC,EAAQxd,KAAK0H,MAAkC,IAA5BxB,EAAQhH,gBAAgBP,GAAW,IACtD8e,EAAQzd,KAAK0H,MAAkC,IAA5BxB,EAAQhH,gBAAgBN,GAAW,IACtD8e,EAAa,EACbC,EAAa,EACbC,EAAc1X,EAAQuD,aACtBoU,EAAY7d,KAAK0H,OAAQxB,EAAQhH,gBAAgB9D,MAChDwiB,EAAYnS,OAAOrQ,MAAQ,GAAM8K,EAAQkX,QAAW,KAAO,IAC5DU,EAAa9d,KAAK0H,OAAQxB,EAAQhH,gBAAgBhD,OACjD0hB,EAAYnS,OAAOrQ,MAAQ,GAAM8K,EAAQmX,QAAW,KAAO,IAC5DU,EAAU,EAGVC,GAFa9X,EAAQsC,cAIzB8U,GAAaM,EAAYnS,MACzB,IAAIE,GACAT,CACJ5H,MAAK2a,0BACL3a,KAAKnK,MAAQ,GACbmK,KAAK4a,oBACDhY,EAAQiY,MAAMpK,kBACdyJ,EAAQxd,KAAK0H,MAAoF,KAA7ExB,EAAQhH,gBAAgBP,EAAKiM,WAAW0S,EAAWliB,MAAM+D,YAAc,IAAa,KAE5Goe,EAAeja,KAAK8a,gBAAgBP,EAAWC,EAC/C,KAAK,GAAInf,GAAI,EAAGA,EAAKuH,EAAQkX,QAAUlX,EAAQmX,QAAU1e,IAAK,CAC1D2E,KAAK+a,gBAAgBX,EAAYC,EACjC,IAAIW,GAAe,GAAIzT,GAAY,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAG,EAAM,GAAI,GAmB5E,IAlBAc,EAAc2R,EAAWnkB,OACM,WAA1B+M,EAAQqY,eAA0E,IAA5C3T,WAAW0S,EAAWliB,MAAM+D,cAAwBwM,GAClE,WAAzBiS,EAAYlU,UAAoD,WAA3BkU,EAAYjU,cACjDgC,EAAcrI,KAAKnK,OAEnBmK,KAAK4C,QAAQ8B,oBACb1E,KAAKkb,kBAAkBF,EAAcd,EAAOC,EAAOI,EAAWC,EAAYjV,SAAO,GAAIvF,KAAK4a,iBAAkB,MAAM,GAAOvf,EAAGgf,EAAYD,GAGxIpa,KAAKkb,kBAAkBF,EAAcd,EAAOC,EAAOI,EAAWC,EAAYxa,KAAK3J,KAAMgF,EAAGgf,EAAYD,GAEpGE,EAAYa,YACZvT,EAAc5H,KAAKob,gBAAgBpb,KAAK3J,KAAMikB,EAAY5b,QAC1Dsc,EAAapT,YAAcA,EACtB7B,oBAAkB/F,KAAK4C,QAAQyY,cAChCzT,EAAc5H,KAAKsb,cAAcN,EAAcpT,KAG1B,SAAzB0S,EAAYlU,SACZpG,KAAKub,eAAeP,EAAchB,EAAY3e,EAAG2E,KAAKnK,MAAOwS,GAC7DrI,KAAKwb,yBAAyBjB,EAAWC,EAAY5S,OAGrD,IAA+B,UAA3B0S,EAAYjU,WACZrG,KAAKyb,iBAAiBT,EAAchB,EAAY3e,EAAG2E,KAAKnK,MAAOwS,EAAa4R,GAC5Eja,KAAKwb,yBAAyC,EAAfvB,EAAoB,GAAoB,EAAfA,EAAoB,EAAGrS,OAE9E,IAAK7B,oBAAkB/F,KAAK3J,OAAqC,SAA3BikB,EAAYjU,YAAoD,iBAA3BiU,EAAYjU,YAC5D,KAAzBrG,KAAK3J,KAAKwF,WAKmB,WAA3Bye,EAAYjU,YAA4BN,oBAAkB/F,KAAK3J,OAAkC,KAAzB2J,KAAK3J,KAAKwF,aACvFmE,KAAK0b,iBAAiBV,EAAchB,EAAY3e,EAAEQ,WAAYmE,KAAKnK,MAAOwS,EAAa4R,EAAcja,KAAK3J,MAC1G2J,KAAK2b,oBAAqB,EAC1B3b,KAAK4b,oBAAqB,OARM,CAChC,GAAIC,GAAmB7b,KAAK8b,sBAAsBxU,WAAWtH,KAAK3J,KAAKwF,YAAa+G,EAAQgC,mBAAoBhC,EAAQmC,mBAAoBkV,EAC5Ija,MAAKyb,iBAAiBT,EAAchB,EAAY3e,EAAG2E,KAAKnK,MAAOwS,EAAawT,GAC5E7b,KAAKwb,yBAA6C,EAAnBK,EAAwB,GAAwB,EAAnBA,EAAwB,EAAGjU,GAa/F,GALA8S,EAAiBrgB,KAAK2gB,GAClBpY,EAAQmZ,gBAAmD,UAAjCnZ,EAAQqC,gBAAgBjD,OAClD6X,EAAiB7Z,KAAKgc,mBAAmB5B,EAAYC,GACrDW,EAAatU,QAAUmT,GAEvBS,EAAYa,WAAanb,KAAK4b,oBAAsB5b,KAAK2b,mBAAoB,CAC7E,GAAIM,GAAqB3B,EAAYvJ,UACjC/X,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,sBAAwB0E,EAAG,GAAI4N,IAAUvM,KAAK0H,MAAgC,KAAzB8V,EAAQK,EAAY,IAAY,IAAK7d,KAAK0H,MAAiC,KAA1B+V,EAAQK,EAAa,IAAY,IAAK,SAAU5S,EAAa,KAAM,KAAM,UAAWqU,EAAoBA,EAAmBpmB,OAASmK,KAAKkc,kBAAkBlc,KAAKnK,OACxTmlB,GAAanT,OAAS7O,EAAQrC,GAC1BiM,EAAQmZ,gBAAmD,UAAjCnZ,EAAQqC,gBAAgBjD,OAClDhJ,EAAQ8N,KAAO+S,EAAiB7gB,EAAQ8N,KAAO9G,KAAK4C,QAAQsC,WAAWzP,cAEvEgiB,UAAQC,OAAS9U,EAAQ+H,wBACzB3R,EAAQgQ,GAA4C,WAAvChJ,KAAK4C,QAAQuD,aAAaC,SAAwB,QAAU,OAE7EpG,KAAKmV,cAAcxb,WAAWX,EAASgH,KAAKmc,oBAAqBvU,GAEjE6S,IAAY7X,EAAQkX,QAAU,GAC9BK,EAAQzd,KAAK0H,MAA6B,KAAtB+V,EAAQK,IAAqB,IACjDC,EAAU,EACVJ,EAAa,EAETH,EADAtX,EAAQiY,MAAMpK,gBACN/T,KAAK0H,MAAoF,KAA7ExB,EAAQhH,gBAAgBP,EAAKiM,WAAW0S,EAAWliB,MAAM+D,YAAc,IAAa,IAGhGa,KAAK0H,MAAkC,IAA5BxB,EAAQhH,gBAAgBP,GAAW,IAE1D2E,KAAK2a,uBAAuBtgB,KAAKqgB,GACjCA,KACAN,MAGAF,EAAQxd,KAAK0H,MAA4B,KAArB8V,EAAQK,IAAoB,IAChDE,IACAJ,KAGHzX,EAAQ+H,wBACT/H,EAAQzJ,UAAUtC,YAAYmJ,KAAKoc,sBAC/B9B,EAAYa,WAAwC,WAAzBb,EAAYlU,UAAoD,WAA3BkU,EAAYjU,YAC5EzD,EAAQzJ,UAAUtC,YAAYmJ,KAAKmc,uBAO/C1C,EAAOvZ,UAAU8b,mBAAqB,SAAU5B,EAAYC,GAExD,IAAK,GADDR,IAAiB,EACZ/e,EAAI,EAAGA,EAAIkF,KAAK4C,QAAQyZ,YAAY9jB,OAAQuC,IAAK,CACtD,GAAI2J,GAAkB,IAAN3J,EAAWkF,KAAK4C,QAAQgC,mBAAqB5E,KAAK4C,QAAQyZ,YAAYvhB,GAAG/E,MACrF8O,EAAY/J,IAAMkF,KAAK4C,QAAQyZ,YAAY9jB,OAAS,EAAKyH,KAAK4C,QAAQmC,mBACtE/E,KAAK4C,QAAQyZ,YAAYvhB,EAAI,GAAG/E,MAAQ,IAExCumB,EAAmBtc,KAAK4C,QAAQ0Z,iBAChCC,EAAcxW,oBAAkBuW,EAAiBlC,GAAYC,GAAY,KACd,KAA3DiC,EAAiBlC,GAAYC,GAAY,GAAGxe,WAAkE,GAA9CygB,EAAiBlC,GAAYC,GAAY,GACzGhkB,EAA8C,WAAvC2J,KAAK4C,QAAQuD,aAAaC,UAAkE,iBAAzCpG,KAAK4C,QAAQuD,aAAaE,WACpFkW,EAAavc,KAAK3J,IACtB,KAAK0P,oBAAkB1P,IAASA,GAAQoO,GAAYpO,GAAQwO,EAAU,CAClE,GAAK7E,KAAK4C,QAAQyZ,YAAYvhB,GAAG4L,QAI5B,CACDmT,GAAiB,CACjB,OALAA,GAAiB,CACjB,QAQZ,MAAOA,IAOXJ,EAAOvZ,UAAUob,cAAgB,SAAUN,EAAc3kB,GACrD,GAAImmB,GAAQxc,KAAK4C,QAAQ4S,gBAAgB,GACrCqF,EAAQ7a,KAAK4C,QAAQ4S,gBAAgB,GACrCiH,EAAUD,EAAM1N,cAChB4N,EAAU7B,EAAM/L,cAAc6N,QAAQrJ,UACtCsJ,EAAc/B,EAAM9L,WAAW4N,QAAQrJ,UACvCuJ,GACAnhB,QAASsE,KAAK4C,QACdka,QAAQ,EACRC,KAAM,aACNhnB,MAAOilB,EAAajlB,MACpBgS,OAAQ0U,EAAQzB,EAAaxT,QAAQ3L,WACrCmM,OAAQ0U,EAAQ1B,EAAavT,QAAQ5L,WACrC+L,YAAavR,EACbqR,OAAQ8U,EAAMzN,WAAWiM,EAAaxT,QACtCG,OAAQiV,EAAY5B,EAAavT,QAGrC,OADAzH,MAAK4C,QAAQoa,QAAQ,aAAcH,GAC5BA,EAAQjV,aAMnB6R,EAAOvZ,UAAU6a,gBAAkB,SAAUX,EAAYC,GACnCra,KAAK4C,QAAQuD,YAC/BnG,MAAK4a,mBACL,IAAIqC,GAAYjd,KAAK4C,QAAQwT,WAEzBkG,EAAmBtc,KAAK4C,QAAQ0Z,gBACpC,IAAItc,KAAK4C,QAAQ8B,oBAAqB,CAClC1E,KAAK3J,KAAQ0P,oBAAkBuW,EAAiBlC,GAAYC,GAAY,KACT,KAA3DiC,EAAiBlC,GAAYC,GAAY,GAAGxe,WAAkE,GAA9CygB,EAAiBlC,GAAYC,GAAY,GAC7Gra,KAAKnK,MAASkQ,oBAAkBuW,EAAiBlC,GAAYC,GAAY,KACV,KAA3DiC,EAAiBlC,GAAYC,GAAY,GAAGxe,WAE1CmE,KAAK4C,QAAQsa,kBAAoBld,KAAK4C,QAAQoC,gBAAkBhF,KAAK0Z,UAAU1T,gBAAgBhG,KAAK3J,MADtG2J,KAAK0Z,UAAU1T,gBAAgBsW,EAAiBlC,GAAYC,GAAY,GAE5E,IAAI8C,GAAuB,GAAIhb,GAAkB8a,EAAU3G,YAAwC,SAA1B2G,EAAU1G,YAAyBvW,KAAK4C,QAAQwT,WAAWgH,kBAAkBlmB,KAAO,KAAM8I,KAAK3J,KAAM,OAC9K2J,MAAK4a,iBAAiBvgB,KAAK8iB,GAC3Bnd,KAAK4a,iBAAiBvgB,MAClB+H,YAAa6a,EAAU3G,YAAwC,SAA1B2G,EAAU1G,YAC3CvW,KAAK4C,QAAQwT,WAAWgH,kBAAkBvnB,MAAQ,KACtDwM,WAAa0D,oBAAkBuW,EAAiBlC,GAAYC,GAAY,KACT,KAA3DiC,EAAiBlC,GAAYC,GAAY,GAAGxe,WAAkE,GAA9CygB,EAAiBlC,GAAYC,GAAY,GAC7G/X,UAAW,cAIftC,MAAK3J,KAAOimB,EAAiBlC,GAAYC,GACzCra,KAAKnK,MAAQmK,KAAK0Z,UAAU1T,gBAAgBhG,KAAK3J,OAOzDojB,EAAOvZ,UAAU0Z,kBAAoB,WAC5B5Z,KAAK4C,QAAQ+H,wBACd3K,KAAKoc,oBAAsBpc,KAAK4C,QAAQ3J,SAASqc,aAC7C3e,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBAC9B0E,EAAG2E,KAAK4C,QAAQhH,gBAAgBP,EAAGC,EAAG0E,KAAK4C,QAAQhH,gBAAgBN,EAAG7B,UAAW,sBAEjFuG,KAAK4C,QAAQuD,aAAagV,WACe,WAAvCnb,KAAK4C,QAAQuD,aAAaC,UAAkE,WAAzCpG,KAAK4C,QAAQuD,aAAaE,aAC/ErG,KAAKmc,oBAAsBnc,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBAAwB8C,UAAW,wBAQ5IggB,EAAOvZ,UAAUgb,kBAAoB,SAAUF,EAAcd,EAAOC,EAAOI,EAAWC,EAAYnkB,EAAMgF,EAAG+e,EAAYC,GACnHW,EAAa3f,EAAI6e,EACjBc,EAAa1f,EAAI6e,EACjBa,EAAaljB,MAAQyiB,EACrBS,EAAapiB,OAAS4hB,EACtBQ,EAAajlB,MAAQM,EACrB2kB,EAAarkB,GAAKqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAAkB0E,EAC9D2f,EAAaxT,OAAS4S,EACtBY,EAAavT,OAAS4S,GAM1BZ,EAAOvZ,UAAUqb,eAAiB,SAAUP,EAAchB,EAAY3e,EAAGxF,EAAOwS,GAC5E,GAAID,GAAO,GAAIF,IAAWlI,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAAkB0E,EAAGxF,EAAOmkB,EAAY,EAAG,GAAIrR,IAAKqS,EAAa3f,EAAG2f,EAAa1f,EAAG0f,EAAaljB,MAAOkjB,EAAapiB,QAASyP,GAAerI,KAAK4C,QAAQsC,WAAW5P,WAAY0kB,EAAW5P,OAAQ4P,EAAW5P,OACnQpK,MAAKmV,cAAc5K,cAAcnC,EAAMpI,KAAKoc,qBAAqB,IAMrE3C,EAAOvZ,UAAU4a,gBAAkB,SAAUhjB,EAAOc,GAChD,GAAIwR,GAAUtS,EAAQ,EAAK,CAI3B,OAHIc,GAAS,EAAId,EAAQ,IACrBsS,EAAUxR,EAAS,EAAK,GAErBwR,EAAS,EAAI,EAAIA,GAM5BqP,EAAOvZ,UAAUwb,iBAAmB,SAAU2B,EAAgBrD,EAAY3e,EAAGxF,EAAOwS,EAAa4R,EAAc5jB,GAe3G,IAAK,GAdDinB,GACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAAUthB,KAAK0H,MAAwD,KAAjDiZ,EAAehiB,EAAKgiB,EAAevlB,MAAQ,IAAa,IAC9EmmB,EAAUvhB,KAAK0H,MAAyD,KAAlDiZ,EAAe/hB,EAAK+hB,EAAezkB,OAAS,IAAa,IAC/EslB,EAAYroB,EACZsoB,EAAoBne,KAAK8b,sBAAsBzlB,EAAM2J,KAAK4C,QAAQgC,mBAAoB5E,KAAK4C,QAAQmC,mBAAoB,KAClHzJ,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACxByiB,EAAkBzW,WAAW0S,EAAWliB,MAAM+D,YACpC,IAANP,GACAgiB,EAAQa,GAAqB,IAAM,EAAI,EACvCZ,GAAc,GAEVC,EADsB,IAAtBW,EACW,IAGCA,EAAoB,GAEpCV,EAAK/gB,KAAK0H,MAAwF,KAAjF4Z,EAAU/D,EAAevd,KAAK0hB,KAAKD,EAAoB,KAAOzhB,KAAK0P,GAAK,QAAgB,IACzGsR,EAAKhhB,KAAK0H,MAAwF,KAAjF6Z,EAAUhE,EAAevd,KAAK2hB,KAAKF,EAAoB,KAAOzhB,KAAK0P,GAAK,QAAgB,IACzGuR,EAAKjhB,KAAK0H,MAAgB,IAAV4Z,GAAiB,IACjCJ,EAAKlhB,KAAK0H,MAAiC,KAA1B6Z,EAAUhE,IAAuB,IACxB,IAAtBkE,IACAD,EAAYle,KAAK4C,QAAQoC,mBAI7BsY,EAAQa,GAAqB,IAAM,EAAI,EACvCZ,EAAaC,EACbA,EAAW,IACXU,EAAYle,KAAK4C,QAAQoC,gBACzB3J,GAAQ,YACRwiB,EAASJ,EACTK,EAASJ,EACTD,EAAKE,EACLD,EAAKE,EACLD,EAAKE,EACLD,EAAKE,EACqB,IAAtBK,IACAJ,EAAkB,EAClB1V,EAAcxS,GAGtB,IAAIiU,GAAO,GAAIE,IAAK,IAAI,EAAOgU,EAASC,EAASN,EAAIC,EAAIH,EAAIC,EAAIH,EAAYC,EAAUvD,GAAc,GACjGqE,EAAS,GAAIzU,IAAe7J,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAAkB0E,EAAGyO,EAAMoU,EAAWlE,EAAY+D,EAAiB,EAAG1V,EAGhI,IAFArI,KAAKue,gBAAgBD,EAAQxU,EAAMqU,EAAmBb,GACtDtd,KAAKmV,cAAcnK,SAASsT,EAAQxU,EAAM9J,KAAKoc,qBACrB,MAAtB+B,EACA,QAQZ1E,EAAOvZ,UAAUqe,gBAAkB,SAAUvlB,EAAS8Q,EAAMqU,EAAmBb,GAC3E,GAAIkB,EACJ,QACQL,GACJ,IAAK,KACL,IAAK,GAEGK,EADsB,IAAtBL,GAA2BrU,EAAKI,QAAUJ,EAAKK,IAClC,KAAYnR,EAAQqC,EAAI,IAAMrC,EAAQsC,EAAI,MAAkBwO,EAAKzO,EAAI,KAAOyO,EAAKxO,EAAIwO,EAAKM,SAGvGoU,EAAcxe,KAAK4C,QAAQ+H,sBAAwE,GAAhD,KAAY3R,EAAQqC,EAAI,IAAMrC,EAAQsC,EAAI,KACnE,MAAcwO,EAAKM,OAAU,QACvCN,EAAKM,OAAS,IAAMN,EAAKM,OAAS,UACzB,EAAdN,EAAKM,OAAc,QAA8BN,EAAKM,OAC7D,IAAMN,EAAKM,OAAS,WACG,EAAdN,EAAKM,OAAe,MAErCqU,QAAMzlB,GAAWuG,EAAKif,GACtB,MACJ,SACIA,EAAa,KAAYxlB,EAAQqC,EAAI,IAAMrC,EAAQsC,EAAI,MAAkBwO,EAAKT,GAAK,IAAMS,EAAKR,GAAK,MACnFQ,EAAKM,OAAS,IAAMN,EAAKM,OAAS,MAAkBkT,EAAQ,MACxExT,EAAKrB,GAAK,IAAMqB,EAAKpB,GAAK,KAC9B+V,QAAMzlB,GAAWuG,EAAKif,MAQlC/E,EAAOvZ,UAAUub,iBAAmB,SAAU4B,EAAgBrD,EAAY3e,EAAGxF,EAAOwS,EAAa4R,GAC7F,GAAIyE,GAAS,GAAIlW,IAAaxI,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAAkB0E,EAAGxF,EAAOmkB,EAAY,EAAG3R,GAAerI,KAAK4C,QAAQsC,WAAW5P,WAAYoH,KAAK0H,MAAwD,KAAjDiZ,EAAehiB,EAAKgiB,EAAevlB,MAAQ,IAAa,IAAK4E,KAAK0H,MAAyD,KAAlDiZ,EAAe/hB,EAAK+hB,EAAezkB,OAAS,IAAa,IAAKqhB,EACzSja,MAAKmV,cAAcrK,WAAW4T,EAAQ1e,KAAKoc,sBAM/C3C,EAAOvZ,UAAUsb,yBAA2B,SAAUjB,EAAWC,EAAY5S,GACrE5H,KAAK4C,QAAQuD,aAAagV,YAC1Bnb,KAAK4b,mBAAqBpB,EAAarkB,SAAS6J,KAAK4C,QAAQuD,aAAa4K,UAAU7Z,KAAM,IAC1F8I,KAAK2b,mBAAqBpB,EAAa3S,EAAYrP,QAC9CpC,SAAS6J,KAAK4C,QAAQuD,aAAa4K,UAAU7Z,KAAM,IAAM,KAOtEuiB,EAAOvZ,UAAU4b,sBAAwB,SAAUzlB,EAAM+Y,EAAKC,EAAKjF,GAC/D,GAAI0I,GAAU3c,SAAS6J,KAAK4C,QAAQuD,aAAawY,WAAW7L,QAAS,IACjEC,EAAU5c,SAAS6J,KAAK4C,QAAQuD,aAAawY,WAAW5L,QAAS,KACjED,EAAU,GAAKA,EAAU,KAAO1P,MAAM0P,MACtCA,EAAU,IAEVC,EAAU,GAAKA,EAAU,KAAO3P,MAAM2P,MACtCA,EAAU,IAEd,IAAI6L,IAAsBvoB,EAAO+Y,IAC5BC,EAAMD,GAAQ,GAUnB,OATAwP,GAAoBxb,MAAMwb,GAAqB,IAAMA,GAChD5e,KAAK4C,QAAQ8B,qBAC0B,WAAvC1E,KAAK4C,QAAQuD,aAAaC,UAAkE,SAAzCpG,KAAK4C,QAAQuD,aAAaE,cAC1ErG,KAAK4C,QAAQuD,aAAa0Y,uBAC1BD,EAAoB,IAAMA,GAE9BA,EAAsBA,GAAqB7L,EAAUD,GAAY,IAAOA,GAE5E1I,GAAmBwU,EAAoB,IAC/BliB,KAAK0H,MAAe,IAATgG,GAAgB,IAAO,EAAI,EAAK1N,KAAK0H,MAAe,IAATgG,GAAgB,KAOlFqP,EAAOvZ,UAAUgc,kBAAoB,SAAUrmB,GAC3C,GAAIipB,GAAiBjpB,EAEjBkpB,EAAWxgB,EAAkBZ,EADjCmhB,EAAqC,gBAAnBA,EAAoClhB,OAAOC,iBAAiBrH,SAASI,KAAM,MAAMooB,gBAAkBF,GAGrH,OADepiB,MAAK0H,OAAoB,IAAb2a,EAAS5gB,EAAuB,IAAb4gB,EAAS3gB,EAAuB,IAAb2gB,EAAS1gB,GAAW,MAClE,IAAM,QAAU,SAOvCob,EAAOvZ,UAAU+e,iBAAmB,SAAUC,GAC1C,IAAuC,IAAnCA,EAAOhpB,QAAQ,eACf,IAAwC,IAApCgpB,EAAOhpB,QAAQ,gBAAwB,CACvC,IAA+C,IAA3CgpB,EAAOhpB,QAAQ,uBAA+B,CAC9C,GAAIipB,GAAYD,EAAOhpB,QAAQ,uBAAyB,EACxDgpB,GAASlf,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAAkBuoB,EAAOvC,MAAMwC,GAEtE,GAAI3jB,GAAUhF,SAASC,eAAeyoB,EAClClf,MAAK4C,QAAQwc,qBAAuBF,IAChClf,KAAK4C,QAAQuD,aAAakZ,0BACtBC,EAAa9oB,SAASC,eAAeuJ,KAAK4C,QAAQwc,uBACnCpf,KAAK4C,QAAQ2c,cAC5BD,EAAWE,aAAa,UAAW,KAEnChkB,IAAYwE,KAAK4C,QAAQ2c,cACzB/jB,EAAQgkB,aAAa,UAAW,SAGxCxf,KAAK4C,QAAQwc,mBAAqBF,OAItC,IAAIlf,KAAK4C,QAAQuD,aAAakZ,uBAAwB,CAClD,GAAIC,GAAa9oB,SAASC,eAAeuJ,KAAK4C,QAAQwc,mBAClDE,KAAetf,KAAK4C,QAAQ2c,eAC5BD,EAAWE,aAAa,UAAW,KACnCxf,KAAK4C,QAAQwc,mBAAqB,MAWtD3F,EAAOvZ,UAAUkb,gBAAkB,SAAUlH,EAAKuL,GAC9C,GAAI/gB,GAAS+gB,EACThhB,EAAuC,OAA5BC,EAAOwU,MAAM,UAC5BlT,MAAKtB,OAASsB,KAAK4C,QAAQuQ,KAAKC,iBAC5B1U,OAAQD,EAAW,GAAKC,GAE5B,IAAI3I,GAAQ,EAIZ,OAHuB,KAAnBme,EAAIrY,aACJ9F,EAAQyI,EAAYC,EAAUC,EAAQwV,EAAKlU,KAAKtB,SAE7C3I,GAOX0jB,EAAOvZ,UAAUwf,eAAiB,SAAUrkB,EAAGC,GAC3C,GAAIqkB,GACAC,IACJA,GAAiBvlB,KAAK2F,KAAK4C,QAAQid,cAAclF,uBAAuB,GAAG,GAC3E,IAAImF,GAAQpjB,KAAKC,MAAMtB,EAAIukB,EAAiB,GAAGvkB,GAAKukB,EAAiB,GAAG9nB,OACpEkI,KAAK4C,QAAQ4S,gBAAgB,GAAGxG,cAChCtS,KAAKC,MAAMtB,EAAIukB,EAAiB,GAAGvkB,GAAKukB,EAAiB,GAAG9nB,OAC5DkI,KAAK4C,QAAQ4S,gBAAgB,GAAGxG,cAChC+Q,EAAQrjB,KAAK2W,OAAQ/X,EAAIskB,EAAiB,GAAGtkB,GAAKskB,EAAiB,GAAGhnB,QACtEoH,KAAK4C,QAAQ4S,gBAAgB,GAAGxG,cAChCtS,KAAK2W,OAAQ/X,EAAIskB,EAAiB,GAAGtkB,GAAKskB,EAAiB,GAAGhnB,QAC9DoH,KAAK4C,QAAQ4S,gBAAgB,GAAGxG,cAAgB,CAOpD,OANA8Q,GAAkB,IAAVA,EAAc,EAAIA,EAC1BH,EAAc3f,KAAK4C,QAAQid,cAAclF,uBAAuBoF,GAAOD,EAAQ,GAC/E9f,KAAKggB,gBAAkBhgB,KAAK4C,QAAQ4S,gBAAgB,GAAG1G,cAAcgR,EAAQ,GAC7E9f,KAAKigB,gBAAkBjgB,KAAK4C,QAAQ4S,gBAAgB,GAAGzG,WAAW+Q,EAAQ,GAC1E9f,KAAKkgB,gBAAkBlgB,KAAK4C,QAAQ4S,gBAAgB,GAAG1G,cAAe9O,KAAK4C,QAAQ4S,gBAAgB,GAAG1G,cAAcvW,OAAS,EAAKwnB,GAClI/f,KAAKmgB,gBAAkBngB,KAAK4C,QAAQ4S,gBAAgB,GAAGzG,WAAY/O,KAAK4C,QAAQ4S,gBAAgB,GAAGzG,WAAWxW,OAAS,EAAKwnB,GACrHJ,GAEJlG,KCziBPpa,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAS5Dyf,GAAiC,SAAUnf,GAE3C,QAASmf,KACL,MAAkB,QAAXnf,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAW/D,MAbAX,IAAU+gB,EAAiBnf,GAI3Bb,IACIe,WAAS,KACVif,EAAgBlgB,UAAW,WAAQ,IACtCE,IACIsB,aAAYH,IACb6e,EAAgBlgB,UAAW,aAAU,IACxCE,IACIsB,UAAQ5C,EAAMM,YAAa4B,IAC5Bof,EAAgBlgB,UAAW,gBAAa,IACpCkgB,GACThf,iBAMEif,GAAyB,WACzB,QAASA,GAAQzd,GAEb5C,KAAKsgB,SAAU,EAEftgB,KAAKugB,WAAY,EACjBvgB,KAAK4C,QAAUA,EAgMnB,MA3LAyd,GAAQngB,UAAUsgB,cAAgB,WAC9B,MAAO,WAMXH,EAAQngB,UAAUugB,gBAAkB,SAAUC,EAAQH,GAClD,GAAII,GAAMnqB,SAASC,eAAeuJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBACvD+pB,GAgBDC,EAAI1rB,MAAM+B,WAAa,WAfnB2pB,GAAgC,WAAzBA,EAAI1rB,MAAM+B,aACbgJ,KAAK4gB,eAAiBL,EACtBvgB,KAAK4gB,cAAcC,UAGf7gB,KAAK4gB,eAAiB5gB,KAAK4gB,cAAcplB,SACpBwE,KAAK4gB,cAAcplB,QAAQslB,WACjCtB,aAAa,UAAW,KAG/CmB,EAAI1rB,MAAM+B,WAAa,UAE3BgJ,KAAKugB,WAAY,IAWzBF,EAAQngB,UAAU6gB,QAAU,SAAUne,KAWtCyd,EAAQngB,UAAU8gB,cAAgB,SAAU3lB,EAAGC,EAAG2lB,GAC9C,GAAIhe,GAAS,IACTjD,MAAK4C,QAAQuD,aAAagV,WAAanb,KAAK4C,QAAQid,cAAclE,oBAClE3b,KAAK4C,QAAQid,cAAcjE,qBAC3B3Y,EAAS9M,SAAS6J,KAAK4C,QAAQuD,aAAa4K,UAAU7Z,KAAM,IAAM,GAEtE8I,KAAK4gB,cAAgB,GAAIM,YACrBC,iBAAiB,EACjBle,OAAQA,EACRme,UAAY/lB,EAAGA,EAAGC,EAAGA,GACrBtG,MAAOgL,KAAK4C,QAAQ5N,MACpBqsB,QAASJ,EACTna,KAAM9G,KAAK4C,QAAQ0e,gBAAgBxa,KACnCqB,QACIrQ,MAAOkI,KAAK4C,QAAQ0e,gBAAgBnZ,OAAOrQ,MAC3CjC,MAAOmK,KAAK4C,QAAQ0e,gBAAgBnZ,OAAOtS,OAE/Ckb,WACI7Z,KAAM8I,KAAK4C,QAAQ0e,gBAAgBvQ,UAAU7Z,KAC7CC,WAAY6I,KAAK4C,QAAQ0e,gBAAgBvQ,UAAU5Z,WACnDtB,MAAOmK,KAAK4C,QAAQ0e,gBAAgBvQ,UAAUlb,MAC9CuB,UAAW4I,KAAK4C,QAAQ0e,gBAAgBvQ,UAAU3Z,UAClDC,WAAY2I,KAAK4C,QAAQ0e,gBAAgBvQ,UAAU1Z,YAEvDkqB,YACI3oB,OAAQoH,KAAK4C,QAAQhH,gBAAgBhD,OAASoH,KAAK4C,QAAQhH,gBAAgBN,EAC3ExD,MAAOkI,KAAK4C,QAAQhH,gBAAgB9D,MAAOuD,EAAG2E,KAAK4C,QAAQhH,gBAAgBP,IAEhF,IAAM2E,KAAK4C,QAAQpH,QAAQ7E,GAAK,yBAOvC0pB,EAAQngB,UAAUshB,iBAAmB,SAAU5e,GAC3C,GAAI6e,GAAW/qB,gBAAc,OACzBC,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBAC9BmF,OAAQ,iCAEZkE,MAAK4C,QAAQpH,QAAQ3E,YAAYH,gBAAc,OAC3CC,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,oBAC9BmF,OAAQ,sBAEPjF,YAAY4qB,KAMrBpB,EAAQngB,UAAUwhB,kBAAoB,SAAU/B,EAAagC,GACzD,GAAI5rB,GACAsrB,EACAze,EAAU5C,KAAK4C,QACfqa,EAAYjd,KAAK4C,QAAQwT,UAC7B,IAAIxT,EAAQ8B,oBAAqB,CAC7B,GAAI8X,GAAQ5Z,EAAQ4Z,MAAMviB,OAAsC,KAA7B2I,EAAQ4Z,MAAMviB,MAAM5D,KAAcuM,EAAQ4Z,MAAMviB,MAAM5D,KAAO,SAC5FwkB,EAAQjY,EAAQiY,MAAM5gB,OAAsC,KAA7B2I,EAAQiY,MAAM5gB,MAAM5D,KAAcuM,EAAQiY,MAAM5gB,MAAM5D,KAAO,SAC5FurB,EAAS3E,EAAU3G,YAAwC,SAA1B2G,EAAU1G,YAC3C3T,EAAQwT,WAAWgH,kBAAkBlmB,KAAO,UAC5C2qB,EAAS5E,EAAU3G,YAAwC,SAA1B2G,EAAU1G,YAC3C3T,EAAQwT,WAAWgH,kBAAkBvnB,MAAQ,SACjDE,GAAQ4rB,EAAavG,gBAAgBuE,EAAY5pB,MAAM,GAAGsM,WAAYrC,KAAK4C,QAAQuD,aAAazH,QAChG2iB,GAAW7E,EAAQ,MAAQmF,EAAa3B,gBAAkB,QAChDnF,EAAQ,MAAQ8G,EAAazB,gBAAkB,QAC/C0B,EAAS,MAAQ7rB,EAAQ,QACzB8rB,EAAS,MACTF,EAAavG,gBAAgBuE,EAAY5pB,MAAM,GAAGsM,WAAYrC,KAAK4C,QAAQuD,aAAazH,aAGlG3I,GAAQ4pB,EAAY5pB,MACpBsrB,GAAWM,EAAa3B,gBAAkB,MAAQ2B,EAAazB,gBAAkB,MACzEyB,EAAavG,gBAAgBrlB,EAAOiK,KAAK4C,QAAQuD,aAAazH,QAE1E,OAAO2iB,IAMXhB,EAAQngB,UAAU4hB,cAAgB,SAAUnC,GACxC,GAAIgC,GAAe3hB,KAAK4C,QAAQid,cAC5BoB,GAAmB,GAMvB,IALkBjhB,KAAK4C,QAAQ8B,qBAC1BqB,oBAAkB4Z,EAAY5pB,SAAWgQ,oBAAkB4Z,EAAY5pB,MAAM,GAAGsM,aAC3B,KAA/Csd,EAAY5pB,MAAM,GAAGsM,WAAWxG,aACrCkK,oBAAkB4Z,EAAY5pB,SAAYgQ,oBAAkB4Z,EAAY5pB,QACrC,KAAjC4pB,EAAY5pB,MAAM8F,YAIrB,CACD,GAAKkK,oBAAkB/F,KAAK4C,QAAQmf,eAgChCd,EAAkBjhB,KAAK0hB,kBAAkB/B,EAAagC,OAhCN,CAKhD,GAAIN,GAAUrhB,KAAK0hB,kBAAkB/B,EAAagC,GAC9C9E,GACAnhB,QAASsE,KAAK4C,QACdka,QAAQ,EACRC,KAAM,gBACNhnB,MAAO4pB,EAAY5pB,MACnB2R,OAAQ1H,KAAK4C,QAAQid,cAAcI,gBACnCtY,OAAQ3H,KAAK4C,QAAQid,cAAcM,gBACnCpY,OAAQ/H,KAAK4C,QAAQid,cAAcG,gBAC/BhgB,KAAK4C,QAAQid,cAAcG,gBAAgBnkB,WAAa,KAC5DmM,OAAQhI,KAAK4C,QAAQid,cAAcK,gBAC/BlgB,KAAK4C,QAAQid,cAAcK,gBAAgBrkB,WAAa,KAC5DwlB,QAASA,EAGb,IADArhB,KAAK4C,QAAQoa,QAAQ,gBAAiBH,GACjCA,EAAQC,OAOT,YAHI9c,KAAK4gB,eACL5gB,KAAKygB,iBAAgB,GAJzBQ,GAAkBpE,EAAQwE,QAa7BrhB,KAAK4gB,cAIN5gB,KAAK4gB,cAAcS,QAAUJ,EAH7BjhB,KAAKghB,cAAcrB,EAAYtkB,EAAKskB,EAAY7nB,MAAQ,EAAI6nB,EAAYrkB,EAAKqkB,EAAY/mB,OAAS,EAAIqoB,GAK1GjhB,KAAKygB,iBAAgB,GACrBzgB,KAAK4gB,cAAcO,iBAAmBnhB,KAAKsgB,UAAWtgB,KAAKugB,UAC3DvgB,KAAKsgB,SAAWtgB,cAAwBA,KAAKsgB,QAC7CtgB,KAAKugB,WAAavgB,gBAA0BA,KAAKugB,UACjDvgB,KAAK4gB,cAAcQ,SAAS/lB,EAAIskB,EAAYtkB,EAAKskB,EAAY7nB,MAAQ,EACrEkI,KAAK4gB,cAAcQ,SAAS9lB,EAAIqkB,EAAYrkB,EAAKqkB,EAAY/mB,OAAS,MAhDtEoH,MAAKygB,iBAAgB,GAAO,EAkD3Bd,GAAYjZ,SACb1G,KAAKygB,iBAAgB,GAAO,IAG7BJ,KCvPP2B,GAAgC,WAChC,QAASA,GAAepf,GACpB5C,KAAK4C,QAAUA,EAmLnB,MA7KAof,GAAe9hB,UAAU+hB,kBAAoB,SAAU7L,GAEnD,GAAI8L,GAAgB3c,YAAW6Q,EAAY,MAAM,EACjDpW,MAAK4C,QAAQ0Z,oBACbtc,KAAKmiB,qBACL,IAIIC,GACAC,EAKAC,EAVAzS,EAAO7P,KAAK4C,QAAQ4S,gBACpB+M,EAAa1S,EAAK,GAAGV,UAAY,EACjCqT,EAAc3S,EAAK,GAAGb,eAAiBa,EAAK,GAAGT,IAAM,EAAIS,EAAK,GAAGT,IAAM,GACvE0K,EAAUyI,EAAaC,EAAcD,EAAaC,EAKlDzI,GAFJwI,EAAa1S,EAAK,GAAGV,UAAY,IACjCqT,EAAc3S,EAAK,GAAGb,eAAiBa,EAAK,GAAGT,IAAM,EAAIS,EAAK,GAAGT,IAAM,IAC9BmT,EAAaC,EAGlDC,EAAiB,EACjBC,IACJ1iB,MAAK2iB,iBACL3iB,KAAK4iB,kBACL5iB,KAAK4C,QAAQ+B,cAAgB,KAC7B3E,KAAK4C,QAAQkC,cAAgB,IAC7B,KAAK,GAAI+d,GAA0B,aAAtBhT,EAAK,GAAGvN,UAA2BuN,EAAK,GAAGT,IAAM,EAAGyT,EAAI9I,EAAS8I,IAAK,CAC/E,GAAI1D,GAAkC,aAAtBtP,EAAK,GAAGvN,UAA2BuN,EAAK,GAAGT,IAAM,CAEjE,KADApP,KAAKmiB,mBAAmB9nB,SACjB8kB,EAAYrF,GACXqF,GAAatP,EAAK,GAAGT,KAAO+P,GAAatP,EAAK,GAAGR,KACjDrP,KAAK8iB,iBAAiBZ,EAAe/C,EAAW0D,EAAGJ,GAEvDtD,GAEJmD,GAAe/c,YAAWvF,KAAKmiB,mBAAmBM,GAAiB,MAAM,EACzE,IAAIM,GAAY/iB,KAAKgjB,eAAeZ,EAAQC,EAAQC,EACpDF,GAASW,EAAU,GACnBV,EAASU,EAAU,GACf/iB,KAAK4C,QAAQ4Z,MAAMhM,aACnBxQ,KAAKmiB,mBAAmBM,GAAkBziB,KAAKmiB,mBAAmBM,GAAgBnP,WAElFuP,GAAK7iB,KAAK4C,QAAQ4S,gBAAgB,GAAGpG,KAAOyT,GAAK7iB,KAAK4C,QAAQ4S,gBAAgB,GAAGnG,KACjFqT,EAAiBroB,KAAK2F,KAAKmiB,mBAAmBM,IAElDA,IAECziB,KAAK4C,QAAQiY,MAAMrK,aACpBxQ,KAAKmiB,mBAAmB7O,UACxBoP,EAAiBpP,WAErBtT,KAAK4C,QAAQ0Z,iBAAmBoG,EAChC1iB,KAAK4C,QAAQgC,mBAAqBmB,oBAAkBqc,GAAU,EAAI9a,WAAW8a,EAAOvmB,YACpFmE,KAAK4C,QAAQmC,mBAAqBgB,oBAAkBsc,GAAU,EAAI/a,WAAW+a,EAAOxmB,YACpFmE,KAAK4C,QAAQsa,mBAAoBnX,oBAAkB/F,KAAK4C,QAAQ+B,eAChE3E,KAAK4C,QAAQ+B,cAAgBoB,oBAAkB/F,KAAK4C,QAAQ+B,eACxD3E,KAAK4C,QAAQgC,mBAAqB0C,WAAWtH,KAAK4C,QAAQ+B,cAAc9I,YAC5EmE,KAAK4C,QAAQkC,cAAgBiB,oBAAkB/F,KAAK4C,QAAQkC,eACxD9E,KAAK4C,QAAQmC,mBAAqBuC,WAAWtH,KAAK4C,QAAQkC,cAAcjJ,aAOhFmmB,EAAe9hB,UAAU4iB,iBAAmB,SAAUZ,EAAe/C,EAAW0D,EAAGJ,GAC/E,GAAIziB,KAAK4C,QAAQ8B,oBACb,GAAIwd,EAAc/C,KAAepZ,oBAAkBmc,EAAc/C,GAAW0D,KAC5B,gBAAjCX,GAAc/C,GAAW0D,GAAkB,CAGtD,IAAK,GADDI,GAAgBf,EAAc/C,GAAW0D,GACpCK,EAAQ,EAAGA,EAAQD,EAAc1qB,OAAQ2qB,IAI9C,GAHInd,oBAAkBkd,EAAcC,MAChCD,EAAcC,GAAS,IAEb,IAAVA,EACAljB,KAAK2iB,cAActoB,KAAK4oB,EAAcC,QAErC,IAAc,IAAVA,EAAa,CAClBljB,KAAK4iB,eAAevoB,KAAK4oB,EAAcC,GACvC,OAGRljB,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK4oB,QAGxCld,oBAAkBmc,EAAc/C,MAAgB+C,EAAc/C,GAAW0D,IACzC,IAAhCX,EAAc/C,GAAW0D,IACqB,KAA3CX,EAAc/C,GAAW0D,GAAGhnB,aAChCmE,KAAKmiB,mBAAmBM,GAAgBpoB,MAAM6nB,EAAc/C,GAAW0D,KACvE7iB,KAAK2iB,cAActoB,KAAK6nB,EAAc/C,GAAW0D,KAGjD7iB,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK,QAKjD6nB,GAAc/C,KAAe+C,EAAc/C,GAAW0D,IACrB,IAAhCX,EAAc/C,GAAW0D,IACqB,KAA3CX,EAAc/C,GAAW0D,GAAGhnB,YACa,gBAAjCqmB,GAAc/C,GAAW0D,GAC7BX,EAAc/C,GAAW0D,GAAGtqB,OAAS,IAAMwN,oBAAkBmc,EAAc/C,GAAW0D,GAAG,IACzF7iB,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK6nB,EAAc/C,GAAW0D,GAAG,IAGzE7iB,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK,IAIjD2F,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK6nB,EAAc/C,GAAW0D,IAI1E7iB,KAAKmiB,mBAAmBM,GAAgBpoB,KAAK,KAQzD2nB,EAAe9hB,UAAU8iB,eAAiB,SAAUZ,EAAQC,EAAQC,GAChE,GAAIa,KAWJ,OAVInjB,MAAK4C,QAAQ8B,qBACbye,EAAY9oB,KAAK2F,KAAKojB,YAAYhB,EAAQpiB,KAAK2iB,gBAC/CQ,EAAY9oB,KAAK2F,KAAKqjB,YAAYhB,EAAQriB,KAAK2iB,gBAC/C3iB,KAAK4C,QAAQ+B,cAAgB3E,KAAKojB,YAAYpjB,KAAK4C,QAAQ+B,cAAe3E,KAAK4iB,gBAC/E5iB,KAAK4C,QAAQkC,cAAgB9E,KAAKqjB,YAAYrjB,KAAK4C,QAAQkC,cAAe9E,KAAK4iB,kBAG/EO,EAAY9oB,KAAK2F,KAAKojB,YAAYhB,EAAQE,IAC1Ca,EAAY9oB,KAAK2F,KAAKqjB,YAAYhB,EAAQC,KAEvCa,GAMXnB,EAAe9hB,UAAUkjB,YAAc,SAAUhB,EAAQE,GAOrD,MANIvc,qBAAkBqc,GAClBA,EAASpiB,KAAKsjB,YAAYhB,GAErBtiB,KAAKsjB,YAAYhB,GAAgBF,IACtCA,EAASpiB,KAAKsjB,YAAYhB,IAEtBvc,oBAAkBqc,GAA0CA,EAAhC9a,WAAW8a,EAAOvmB,aAM1DmmB,EAAe9hB,UAAUmjB,YAAc,SAAUhB,EAAQC,GAOrD,MANIvc,qBAAkBsc,IAAWC,EAAa/pB,OAAS,EACnD8pB,EAAS3lB,KAAK2S,IAAInO,MAAMxE,KAAM4lB,GAEzB5lB,KAAK2S,IAAInO,MAAMxE,KAAM4lB,GAAgBD,IAC1CA,EAAS3lB,KAAK2S,IAAInO,MAAMxE,KAAM4lB,IAE1Bvc,oBAAkBsc,GAA0CA,EAAhC/a,WAAW+a,EAAOxmB,aAO1DmmB,EAAe9hB,UAAUojB,YAAc,SAAUhB,GAC7C,MAAOA,GAAazc,KAAK,SAAUC,EAAGtG,GAAK,MAAOsG,GAAItG,IAAM+jB,OAAOvjB,KAAKwjB,UAAU,IAMtFxB,EAAe9hB,UAAUsjB,SAAW,SAAUtP,GAC1C,OAAQnO,oBAAkBmO,IAA2B,KAAnBA,EAAIrY,YAEnCmmB,KCtLP3iB,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAY5D8iB,GAAgC,SAAUxiB,GAE1C,QAASwiB,KACL,MAAkB,QAAXxiB,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAsC/D,MAxCAX,IAAUokB,EAAgBxiB,GAI1Bb,IACIe,WAAS,KACVsiB,EAAevjB,UAAW,aAAU,IACvCE,IACIe,WAAS,KACVsiB,EAAevjB,UAAW,YAAS,IACtCE,IACIe,WAAS,UACVsiB,EAAevjB,UAAW,eAAY,IACzCE,IACIe,YAAS,IACVsiB,EAAevjB,UAAW,cAAW,IACxCE,IACIe,WAAS,WACVsiB,EAAevjB,UAAW,gBAAa,IAC1CE,IACIe,YAAS,IACVsiB,EAAevjB,UAAW,gBAAa,IAC1CE,IACIe,YAAS,IACVsiB,EAAevjB,UAAW,0BAAuB,IACpDE,IACIe,YAAS,IACVsiB,EAAevjB,UAAW,wBAAqB,IAClDE,IACIe,WAAS,QACVsiB,EAAevjB,UAAW,uBAAoB,IACjDE,IACIsB,UAAQ5C,EAAMI,gBAAiB8B,IAChCyiB,EAAevjB,UAAW,gBAAa,IAC1CE,IACIe,WAAS,KACVsiB,EAAevjB,UAAW,kBAAe,IAC5CE,IACIe,YAAS,IACVsiB,EAAevjB,UAAW,uBAAoB,IAC1CujB,GACTriB,iBAMEsiB,GAAwB,WACxB,QAASA,GAAO9gB,GACZ5C,KAAK2jB,mBAAqB,GAAIjsB,GAAK,EAAG,GACtCsI,KAAK4jB,kBAAoB,GACzB5jB,KAAK6jB,sBACL7jB,KAAK8jB,uBACL9jB,KAAK+jB,oBACL/jB,KAAKgkB,WAAa,GAClBhkB,KAAKikB,gBAAkB,GAAIrW,IAAgB,EAAG,EAAG,EAAG,EAAG,EAAG,GAC1D5N,KAAKkkB,YAAc,EACnBlkB,KAAKmkB,cAAgB,EACrBnkB,KAAKokB,UAAY,EACjBpkB,KAAKqkB,SAAW,GAAI1b,IAAK,EAAG,EAAG,EAAG,GAClC3I,KAAKskB,WAAa,GAAI3b,IAAK,EAAG,EAAG,EAAG,GACpC3I,KAAKqO,YAAc,EACnBrO,KAAKukB,YACLvkB,KAAKwkB,yBACLxkB,KAAKykB,WAAa,GAAI9b,IAAK,EAAG,EAAG,EAAG,GACpC3I,KAAK0kB,aAAe,GACpB1kB,KAAK2kB,sBACL3kB,KAAK4kB,qBACL5kB,KAAK6kB,qBACL7kB,KAAK8kB,sBACL9kB,KAAK+kB,sBAEL/kB,KAAKglB,gCAELhlB,KAAKuG,eAELvG,KAAKilB,mBAELjlB,KAAKklB,yBACLllB,KAAK4C,QAAUA,EACf5C,KAAKmV,cAAgB,GAAI7K,IAAc1H,GA6mC3C,MAvmCA8gB,GAAOxjB,UAAUsgB,cAAgB,WAC7B,MAAO,UAOXkD,EAAOxjB,UAAU6gB,QAAU,SAAUne,KASrC8gB,EAAOxjB,UAAUilB,kBAAoB,WACjC,GAAIviB,GAAU5C,KAAK4C,QACfoX,GACAnkB,MAAO,cACPiC,MAAO,EAEXkI,MAAKolB,OAASxiB,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,mBACtE,IAAI0uB,GAAY,GAAInd,IAAWtF,EAAQpH,QAAQ7E,GAAK,eAAgB,OAAQqjB,EAAY,EAAGha,KAAKslB,YAChGtlB,MAAKmV,cAAc5K,cAAc8a,EAAWrlB,KAAKolB,OACjD,IAAIG,GAAcvlB,KAAKwlB,gBACnBC,EAAe,GAAI9c,IAAK4c,EAAYlqB,EAAGkqB,EAAYjqB,EAAGiqB,EAAYztB,MAAOytB,EAAY3sB,OACzF,IAAqC,UAAjCgK,EAAQqC,gBAAgBjD,KAAkB,CAC1C,GAAIsC,GAAoB1B,EAAQ8iB,eAAeC,kBACjB/iB,EAAQ2B,sBAAlC3B,EAAQ0B,eACZtE,MAAKuG,YAAe3D,EAAQgjB,WAAchjB,EAAQijB,cAAgBjjB,EAAQkjB,aAAmB9lB,KAAKuG,YAClGvG,KAAKilB,gBAAmBriB,EAAQgjB,WAAchjB,EAAQijB,cAAgBjjB,EAAQkjB,aAAmB9lB,KAAKilB,gBACtGriB,EAAQyZ,cACR,KAASvhB,EAAI,EAAGA,EAAIwJ,EAAgB/L,OAAQuC,IAAK,CAC7C,GAAI9D,KAAc+O,oBAAkB/F,KAAKklB,sBAAsBpqB,KAAMkF,KAAKklB,sBAAsBpqB,EAChG8H,GAAQyZ,YAAYhiB,KAAK,GAAIiU,IAAiBtX,EAAYsN,EAAgBxJ,GAAG/E,SAGrF,GAAqC,aAAjC6M,EAAQqC,gBAAgBjD,MAAyD,UAAjCY,EAAQqC,gBAAgBjD,OAC3B,IAA7CY,EAAQ8iB,eAAeC,kBAA6B,CACpD,GAAqC,aAAjC/iB,EAAQqC,gBAAgBjD,KAAqB,CAC7C,GAAI8E,OAAO,EACX,IAAIlE,EAAQ+H,sBAAuB,CAC/B,GAAIob,OAAM,GACNna,EAAMhJ,EAAQiI,eAAee,GAE7Bma,GADAnjB,EAAQojB,mBACFpa,EAAIqa,qBAAqBV,EAAYlqB,EAAG,EAAGkqB,EAAYlqB,EAAIkqB,EAAYztB,MAAO,GAG9E8T,EAAIqa,qBAAqB,EAAGV,EAAYjqB,EAAG,EAAGiqB,EAAYjqB,EAAIiqB,EAAY3sB,OAEpF,KAASkC,EAAI,EAAGA,EAAI8H,EAAQ2B,sBAAsBhM,OAAQuC,IAAK,CAC3D,GAAI/E,IAAU6M,EAAQ2B,sBAAsBzJ,GAAG/E,MAAQiK,KAAKkmB,iBACvDlmB,KAAKmmB,eAAiBnmB,KAAKkmB,eAChCnwB,GAAQqN,MAAMrN,GAAS,EAAIA,EAC3BgwB,EAAIK,aAAarwB,EAAO6M,EAAQ2B,sBAAsBzJ,GAAGjF,OAE7D+V,EAAIG,UAAYga,EAChBjf,EAAOif,EAAIlqB,eAEV,CAID,IAAK,GAHDwqB,OAAkB,GAClBC,MAAgB,GAChBC,KACKzrB,EAAI,EAAGA,EAAI8H,EAAQ2B,sBAAsBhM,OAAQuC,IAAK,CAC3D,GAAI0rB,IAAuB5jB,EAAQ2B,sBAAsBzJ,GAAG/E,MAAQiK,KAAKkmB,iBACpElmB,KAAKmmB,eAAiBnmB,KAAKkmB,gBAAmB,GAInD,IAHAM,EAAqBpjB,MAAMojB,GAAsB,EAAIA,EACrDF,EAAgB,GAAI7Y,IAAc7K,EAAQ2B,sBAAsBzJ,GAAGjF,MAAO2wB,EAAqB,KAC/FD,EAAgBlsB,KAAKisB,GACjBtmB,KAAKmmB,iBAAmBnmB,KAAKkmB,eAC7B,MAIJG,EADAzjB,EAAQojB,mBACU,GAAIxY,IAAS5K,EAAQpH,QAAQ7E,GAAK,kBAAmB,KAAM,OAAQ,KAAM,MAGzE,GAAI6W,IAAS5K,EAAQpH,QAAQ7E,GAAK,kBAAmB,KAAM,KAAM,KAAM,OAE7F,IAAI8vB,GAAiB7jB,EAAQ3J,SAASytB,aAAa,iBAAkBL,EAAiBE,EACtFvmB,MAAKolB,OAAOvuB,YAAY4vB,GACxB3f,EAAO,QAAUlE,EAAQpH,QAAQ7E,GAAK,mBAE1C,GAAIgwB,GAAW,GAAIze,IAAWtF,EAAQpH,QAAQ7E,GAAK,mBAAoBmQ,EAAMkT,EAAY,EAAGyL,EAC5FzlB,MAAKmV,cAAc5K,cAAcoc,EAAU3mB,KAAKolB,QAChDplB,KAAK4mB,oBAAoBnB,OAGzBzlB,MAAK6mB,mBAEJjkB,GAAQ+H,uBACT/H,EAAQzJ,UAAUtC,YAAYmJ,KAAKolB,QAEvCplB,KAAK8mB,kBAAkBrB,OAEtB,CACDzlB,KAAK+mB,YAAcnkB,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,yBAC3E,IAAIqwB,GAAW,GAAI9e,IAAWtF,EAAQpH,QAAQ7E,GAAK,kBAAmB,OAAQqjB,EAAY,EAAGha,KAAKwlB,gBAClGxlB,MAAKmV,cAAc5K,cAAcyc,EAAUhnB,KAAK+mB,aAC3CnkB,EAAQ+H,uBACT3K,KAAKolB,OAAOvuB,YAAYmJ,KAAK+mB,aAEjC/mB,KAAKinB,eAAiBrkB,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,eAC9EqJ,KAAKknB,qBAAqBzB,GACtBzlB,KAAKmkB,cAAgB,IACrBnkB,KAAKmnB,YAAcvkB,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,iBAE/EqJ,KAAKonB,qBAAqB3B,GAAc,KAGhD/B,EAAOxjB,UAAU2mB,kBAAoB,WACjC,GAEIQ,GAMAC,EACAC,EACAC,EACAC,EAXA7kB,EAAU5C,KAAK4C,QACf0B,EAAkB1B,EAAQ0B,gBAE1B0V,GACAnkB,MAAO,cACPiC,MAAO,GAEPytB,EAAcvlB,KAAKwlB,gBAKnB1tB,EAAQytB,EAAYztB,MAAQwM,EAAgB/L,OAC5CK,EAAS2sB,EAAY3sB,OAAS0L,EAAgB/L,MAClDyH,MAAKglB,gCACLhlB,KAAKuG,cACL,KAAK,GAAIzL,GAAI,EAAGA,EAAI8H,EAAQ2B,sBAAsBhM,OAAQuC,IAAK,CAC3D,GAAIkgB,GAAe,GAAI7M,IAAkB,EAAG,EAAG,EAAG,EAAG,GAAI,GACrDvL,GAAQojB,oBACRsB,EAAU/B,EAAYlqB,EAAKP,EAAIhD,EAC/ByvB,EAAUhC,EAAYjqB,EACtBksB,EAAc1vB,EACd2vB,EAAelC,EAAY3sB,OAC3BoH,KAAK6jB,mBAAmBxpB,KAAkD,SAA5CuI,EAAQ8iB,eAAegC,kBACjD5sB,IAAM8H,EAAQ2B,sBAAsBhM,OAAS,GAAMqK,EAAQ2B,sBAAsBzJ,GAAG0H,SAClE8kB,EAAlBA,EAAUxvB,KAGdwvB,EAAU/B,EAAYlqB,EACtBksB,EAAUhC,EAAYjqB,EAAKR,EAAIlC,EAC/B4uB,EAAcjC,EAAYztB,MAC1B2vB,EAAe7uB,EACfoH,KAAK6jB,mBAAmBxpB,KAAkD,SAA5CuI,EAAQ8iB,eAAegC,kBACjD5sB,IAAM8H,EAAQ2B,sBAAsBhM,OAAS,GAAMqK,EAAQ2B,sBAAsBzJ,GAAG0H,SACjE+kB,EAAnBA,EAAU3uB,IAElByuB,EAAkB,GAAI1e,IAAK2e,EAASC,EAASC,EAAaC,EAC1D,IAAIlhB,GAAc,GAAI6H,IAAY,EAAG,EAAG,EAAG,EAAG,GAAG,EAAM,EAavD,IAZA7H,EAAYlL,EAAIisB,EAChB/gB,EAAYjL,EAAIisB,EAChBhhB,EAAYzO,MAAQ0vB,EACpBjhB,EAAY3N,OAAS6uB,EACrBlhB,EAAYxQ,MAAQ6M,EAAQ2B,sBAAsBzJ,GAAG/E,MACrDwQ,EAAY8H,YAAcrO,KAAKqO,YAC3B/J,EAAgB/L,SAAWqK,EAAQ2B,sBAAsBhM,QAAUuC,IAAM8H,EAAQ2B,sBAAsBhM,OAAS,IAChHqK,EAAQojB,mBAAqBzf,EAAYzO,MAAQ,EAAIyO,EAAY3N,OAAS,EAC1EoH,KAAKklB,sBAAsBpqB,GAAKkF,KAAKklB,sBAAsBpqB,EAAI,IAEnEyL,EAAYG,UAAWX,oBAAkB/F,KAAKklB,sBAAsBpqB,KAAMkF,KAAKklB,sBAAsBpqB,GACrGkF,KAAKuG,YAAYlM,KAAKkM,IACjB3D,EAAQ2B,sBAAsBzJ,GAAG0H,SAAU,CAC5C,GAAI3M,GAAQ+M,EAAQijB,aAAevhB,EAAgBxJ,GAAGjF,MAClDmK,KAAKuG,YAAYzL,GAAG4L,QAAUpC,EAAgBxJ,GAAGjF,MAAQ,UACzD8wB,EAAW,GAAIze,IAAWtF,EAAQpH,QAAQ7E,GAAK,gBAAkBmE,EAAGjF,EAAOmkB,EAAY,EAAGqN,EAU9F,IATArnB,KAAKmV,cAAc5K,cAAcoc,EAAU3mB,KAAKolB,QAChDpK,EAAa3f,EAAIisB,EACjBtM,EAAa1f,EAAIisB,EACjBvM,EAAaljB,MAAQ0vB,EACrBxM,EAAapiB,OAAS6uB,EACtBzM,EAAapgB,MAAQoF,KAAK+jB,iBAAiBjpB,GAC3CkgB,EAAarkB,GAAKiM,EAAQpH,QAAQ7E,GAAK,gBAAkBmE,EACzDkF,KAAKglB,6BAA6B3qB,KAAK2gB,GAEnB,IADThhB,EAASgG,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UAAW/Q,KAAK8jB,oBAAoBhpB,IAChGvC,QAAgBqK,EAAQ+H,sBAAuB,CACpD,GAAIwH,GAAc/b,EAAY4J,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UAC/E/Q,MAAK2kB,mBAAmBtqB,KAAK,GAAIsT,IAAc3N,KAAK+jB,iBAAiBjpB,GAAI,GAAI6N,IAAKqS,EAAa3f,EAAG2f,EAAa1f,EAAG6W,EAAYra,MAAOqa,EAAYvZ,cAKjK8qB,EAAOxjB,UAAU4mB,kBAAoB,SAAU1e,GAC3C,GAAIxF,GAAU5C,KAAK4C,OAEnB,IADA5C,KAAKilB,mBACDriB,EAAQ8iB,eAAevK,YAA+C,aAAjCvY,EAAQqC,gBAAgBjD,MAC3B,UAAjCY,EAAQqC,gBAAgBjD,MAAgE,SAA5CY,EAAQ8iB,eAAegC,kBAA+B,CACnG,GAAIxe,OAAS,GACTye,MAAmB,GACnBhyB,MAAc,GACdiyB,EAAgB,EAChBvxB,MAAO,EACX2J,MAAK2kB,qBACL,IAAIxS,OAAc,GACd7N,EAAkB1B,EAAQ2B,qBAC9B,IAAI3B,EAAQ+H,sBAAuB,CAC/B,GAAIiB,GAAMhJ,EAAQiI,eAAee,GACjCA,GAAIxD,KAAKpI,KAAKslB,YAAYjqB,EAAG2E,KAAKslB,YAAYhqB,EAAG0E,KAAKslB,YAAYxtB,MAAOkI,KAAKslB,YAAY1sB,QAC1FgT,EAAIE,OACJF,EAAIic,OACJjc,EAAIU,cAGJ3W,GAAciN,EAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,wBAI1E,KAAK,GAFDmxB,OAAS,GACTC,MAAS,GACJjtB,EAAI,EAAGA,EAAIwJ,EAAgB/L,OAAQuC,IAAK,CAC7C,GAAI/E,IAAUuO,EAAgBxJ,GAAG/E,MAAQiK,KAAKkmB,iBACzClmB,KAAKmmB,eAAiBnmB,KAAKkmB,gBAAmB,GAoBnD,IAnBItjB,EAAQojB,oBACR8B,EAAS9nB,KAAK6jB,mBAAmB/oB,GACjCitB,EAAS3f,EAAK9M,EAAI8M,EAAKxP,OAASoH,KAAK8W,aACrC5N,EAAoB,IAAVnT,GAAsB,IAAN+E,GAA4C,UAAjC8H,EAAQqC,gBAAgBjD,KAAqB,QAC7EY,EAAQmC,qBAAuBT,EAAgBxJ,GAAG/E,OAAW6M,EAAQ8iB,eAAeC,mBACrC,SAA5C/iB,EAAQ8iB,eAAegC,iBAA+B,MAAQ,SACtEC,EAAmB,YAGnBG,EAAS1f,EAAK/M,EAAI+M,EAAKtQ,MAAQkI,KAAK8W,aACpCiR,EAAS/nB,KAAK6jB,mBAAmB/oB,GACjC6sB,EAA8B,IAAV5xB,GAAsB,IAAN+E,GAA4C,UAAjC8H,EAAQqC,gBAAgBjD,KAAqB,UACvFY,EAAQmC,qBAAuBT,EAAgBxJ,GAAG/E,OAAW6M,EAAQ8iB,eAAeC,mBACrC,SAA5C/iB,EAAQ8iB,eAAegC,iBAA+B,WAAa,UAE/EE,EAAgBhlB,EAAQojB,mBAAqBhmB,KAAK8jB,oBAAoBhpB,GAAKkF,KAAKlI,OAASkI,KAAKwlB,gBAAgB1tB,MAC1GkI,KAAK8W,aAAe9W,KAAKgoB,mBAC7B3xB,EAAO2D,EAASgG,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UAAW6W,GAC5EzV,EAAc/b,EAAYC,EAAK,GAAIuM,EAAQ8iB,eAAe3U,WACrB,UAAjCnO,EAAQqC,gBAAgBjD,KAAkB,CAC1C,GAAI+d,GAA6B,YAArB4H,EAAiCI,EAA8B,WAArBJ,EAClDI,EAAS5V,EAAYvZ,OAAS,EAAImvB,EAAS5V,EAAYvZ,OACvDknB,EAAmB,QAAX5W,EAAmB4e,EAAS3V,EAAYra,MAAmB,WAAXoR,EACxD4e,EAAS3V,EAAYra,MAAQ,EAAIgwB,EACjCG,EAAe,GAAI7Z,IAAY0R,EAAOC,EAAO5N,EAAYra,MAAOqa,EAAYvZ,OAAQ0L,EAAgBxJ,GAAG/E,OAAO,EAAMiK,KAAKqO,YAC7H4Z,GAAavhB,UAAWX,oBAAkB/F,KAAKklB,sBAAsBpqB,KAAMkF,KAAKklB,sBAAsBpqB,GACtGkF,KAAKilB,gBAAgB5qB,KAAK4tB,GAE9B,GAAiC,KAA7BjoB,KAAK+jB,iBAAiBjpB,GAAW,CACb,IAAhBzE,EAAKkC,SAA4C,IAA5BlC,EAAK,GAAGH,QAAQ,QAAiB0M,EAAQ+H,uBAC9D3K,KAAK2kB,mBAAmBtqB,KAAK,GAAIsT,IAAc3N,KAAK+jB,iBAAiBjpB,GAAI,GAAI6N,IAAKmf,EAAQC,EAAQ5V,EAAYra,MAAOqa,EAAYvZ,SAErI,IAAI+f,GAAY,GAAI1P,IAAU6e,EAAQC,EAAQ7e,EAAQ7S,EAAM,EAAG,iBAAkBsxB,GAC7E3uB,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,gBAAkBmE,EAAG6d,EAAW/V,EAAQ8iB,eAAe3U,UAAWnO,EAAQ8iB,eAAe3U,UAAUlb,OAAS+M,EAAQsC,WAAWvP,YACjLqD,GAAQ8N,KAAOlE,EAAQijB,aAAe7sB,EAAQ8N,KACR,UAAjClE,EAAQqC,gBAAgBjD,MAAqBhC,KAAKuG,YAAYzL,GAAG4L,QAAuB1N,EAAQ8N,KAApB,UAC7EzQ,EAAKkC,OAAS,EACdyH,KAAKmV,cAAchK,eAAenS,EAAS4J,EAAQ8iB,eAAe3U,UAAWpb,GAG7EqK,KAAKmV,cAAcxb,WAAWX,EAASrD,EAAaU,EAAK,IAEzDohB,UAAQC,OAAS9U,EAAQ+H,wBACA,WAArBgd,EACAhyB,EAAYuyB,UAAU1I,aAAa,KAAM,SAEf,YAArBmI,GACLhyB,EAAYuyB,UAAU1I,aAAa,KAAM,UAIrD,GAAIxf,KAAKmmB,iBAAmBnmB,KAAKkmB,gBAAmD,aAAjCtjB,EAAQqC,gBAAgBjD,KACvE,MAGR,IAAKY,EAAQ+H,sBAAuB,CAChC3K,KAAKslB,YAAY1sB,OAASoH,KAAKslB,YAAY1sB,OAAS,EAAIoH,KAAKslB,YAAY1sB,OAAS,EAClFoH,KAAKslB,YAAYxtB,MAAQkI,KAAKslB,YAAYxtB,MAAQ,EAAIkI,KAAKslB,YAAYxtB,MAAQ,EAC/EkI,KAAKolB,OAAOvuB,YAAYlB,EACxB,IAAIwyB,GAAWvlB,EAAQ3J,SAASmvB,gBAAiBzxB,GAAIiM,EAAQpH,QAAQ7E,GAAK,cACtE0xB,EAAWzlB,EAAQ3J,SAASsR,cAAcvK,KAAKslB,YACnD6C,GAAStxB,YAAYwxB,GACrBzlB,EAAQzJ,UAAUtC,YAAYsxB,GAC9BnoB,KAAKolB,OAAO5F,aAAa,QAAS,kBAAoB2I,EAASxxB,GAAK,QAOhF+sB,EAAOxjB,UAAUooB,sBAAwB,SAAUC,EAAGC,EAAOC,GACzD,GAOIC,GACA1vB,EACA2vB,EACA9a,EACAC,EACAC,EACAC,EACAC,EACAC,EAfAtL,EAAU5C,KAAK4C,QACf+c,EAAc/c,EAAQid,cAAcH,eAAe8I,EAAOC,GAC1DG,EAAYhmB,EAAQ8B,oBAAqE,KAA/Cib,EAAY5pB,MAAM,GAAGsM,WAAWxG,WACzEmE,KAAK4C,QAAQsa,kBACVyC,EAAY5pB,MAAM,GAAGsM,WAAWxG,WADF8jB,EAAY5pB,MAAM,GAAGsM,WAAWxG,WACjB,GAAK8jB,EAAY5pB,MAAM8F,WACxEuM,EAAOpI,KAAKwlB,eAWhB,IAA6B,KAAzBoD,EAAU/sB,WA0BV,GAzBK+G,EAAQojB,oBAaT2C,EADavgB,EAAKtQ,MAAQ,MACEoL,OAAO0lB,GAAa5oB,KAAKkmB,iBAChDlmB,KAAKmmB,eAAiBnmB,KAAKkmB,iBAAmB,IACnDyC,EAAavlB,MAAMulB,GAAc,EAAIA,EACrC9a,EAASzF,EAAK/M,EAAIstB,EAClB7a,EAAS1F,EAAK9M,EAAI8M,EAAKxP,OACvBmV,EAAS3F,EAAK/M,EAAI,EAAIstB,EACtB3a,EAASE,EAAS9F,EAAK9M,EAAI8M,EAAKxP,OAAS,EACzCqV,EAAS7F,EAAK/M,EAAI,EAAIstB,IAlBtBA,EADavgB,EAAKxP,OAAS,MACCsK,OAAO0lB,GAAa5oB,KAAKkmB,iBAChDlmB,KAAKmmB,eAAiBnmB,KAAKkmB,iBAAmB,IACnDyC,EAAavlB,MAAMulB,GAAc,EAAIA,EACrC9a,EAASzF,EAAK/M,EAAI,EAClByS,EAAS1F,EAAK9M,EAAIqtB,EAClB5a,EAASE,EAAS7F,EAAK/M,EAAI,EAC3B2S,EAAS5F,EAAK9M,EAAI,EAAIqtB,EACtBza,EAAS9F,EAAK9M,EAAI,EAAIqtB,GAa1BD,EAAY,KAAY7a,EAAS,IAAMC,EAAS,MAChCC,EAAS,IAAMC,EAAS,MAAkBC,EAAS,IAAMC,EAAS,KAClFlV,EAAU,GAAIgO,GAAWpE,EAAQpH,QAAQ7E,GAAK,oBAAqB,OAAQ,IAAM,UAAW,EAAG,MAAO+xB,GACjG9lB,EAAQ+H,sBAKR,CACD3K,KAAK6oB,uBAELjmB,GAAQiI,eAAeG,SAAShS,MADV,IAEtBgH,KAAKikB,gBAAgBpW,OAASA,EAC9B7N,KAAKikB,gBAAgBnW,OAASA,EAC9B9N,KAAKikB,gBAAgBlW,OAASA,EAC9B/N,KAAKikB,gBAAgBjW,OAASA,EAC9BhO,KAAKikB,gBAAgBhW,OAASA,EAC9BjO,KAAKikB,gBAAgB/V,OAASA,MAb9BlO,MAAK8oB,gBAAkBlmB,EAAQ3J,SAAS+R,SAAShS,GACjDgH,KAAK8oB,gBAAgB7zB,MAAM+B,WAAa,UACxCgJ,KAAKolB,OAAOvuB,YAAYmJ,KAAK8oB,qBAejC9oB,MAAK6oB,yBAMbnF,EAAOxjB,UAAU2oB,sBAAwB,WACrC,GAAIjmB,GAAU5C,KAAK4C,OACf5C,MAAK8oB,kBAAoBlmB,EAAQ+H,sBACjC3K,KAAK8oB,gBAAgB7zB,MAAM+B,WAAa,SAEnC4L,EAAQ+H,wBACoC,IAA7ClL,OAAOspB,KAAK/oB,KAAKikB,iBAAiB1rB,SAC9BqK,EAAQojB,oBACRhmB,KAAKqkB,SAAShpB,EAAI2E,KAAKikB,gBAAgBlW,OAAS,EAChD/N,KAAKqkB,SAAS/oB,EAAI0E,KAAKikB,gBAAgBnW,OACvC9N,KAAKqkB,SAASvsB,MAAQkI,KAAKikB,gBAAgBhW,OAASjO,KAAKikB,gBAAgBlW,OAAS,EAClF/N,KAAKqkB,SAASzrB,OAASoH,KAAKikB,gBAAgBjW,OAAS,EAAIhO,KAAKikB,gBAAgBnW,SAG9E9N,KAAKqkB,SAAShpB,EAAI2E,KAAKikB,gBAAgBlW,OAAS,EAChD/N,KAAKqkB,SAAS/oB,EAAI0E,KAAKikB,gBAAgBjW,OAAS,EAChDhO,KAAKqkB,SAASvsB,MAAQkI,KAAKikB,gBAAgBpW,OAAS7N,KAAKikB,gBAAgBlW,OAAS,EAClF/N,KAAKqkB,SAASzrB,OAASoH,KAAKikB,gBAAgB/V,OAASlO,KAAKikB,gBAAgBjW,OAAS,IAG3FpL,EAAQiI,eAAee,IAAIG,UAAYnJ,EAAQsC,WAAW3P,WAC1DqN,EAAQiI,eAAee,IAAIyY,SAASrkB,KAAKqkB,SAAShpB,EAAG2E,KAAKqkB,SAAS/oB,EAAG0E,KAAKqkB,SAASvsB,MAAOkI,KAAKqkB,SAASzrB,UAMjH8qB,EAAOxjB,UAAU8oB,sBAAwB,SAAU5gB,GAC/C,GAAIxF,GAAU5C,KAAK4C,QACf8iB,EAAiB9iB,EAAQ8iB,eACzBphB,EAAkB1B,EAAQ2B,qBAC9BvE,MAAK+jB,oBAC2B,WAA5B2B,EAAe3uB,UAAqD,QAA5B2uB,EAAe3uB,UAC3B,UAA5B2uB,EAAe3uB,UAAoD,SAA5B2uB,EAAe3uB,WACtD2uB,EAAe3uB,SAAW,SAE9B6L,EAAQojB,mBAAiD,WAA5BN,EAAe3uB,UAAqD,QAA5B2uB,EAAe3uB,SACpFiJ,KAAKgoB,kBAAoBplB,EAAQojB,mBAAqB,GAAK,GAC3DhmB,KAAK8W,aAAe4O,EAAevK,UAAYnb,KAAK4C,QAAQojB,mBAAqB,GAAK,EAAI,EAC1FhmB,KAAKynB,aAAe/B,EAAe9sB,OACnCoH,KAAKwnB,YAAc9B,EAAe5tB,KAClC,IAAI4G,GAASkE,EAAQ8iB,eAAezS,YAChCxU,EAAuC,OAA5BC,EAAOwU,MAAM,UAI5B,IAHAlT,KAAKtB,OAASkE,EAAQuQ,KAAKC,iBACvB1U,OAAQD,EAAW,GAAKC,IAES,UAAjCkE,EAAQqC,gBAAgBjD,KACxB,IAASlH,EAAI,EAAGA,EAAIwJ,EAAgB/L,OAAQuC,IAAK,CACzCF,EAAQ0J,EAAgBxJ,GAAGF,MAAQ0J,EAAgBxJ,GAAGF,MACtD4D,EAAYC,EAAUC,EAAQ4F,EAAgBxJ,GAAG/E,MAAOiK,KAAKtB,QAAQ7C,UACrE+G,GAAQ8iB,eAAeC,mBAAiE,SAA5C/iB,EAAQ8iB,eAAegC,kBAChE5sB,EAAI,GAAKA,EAAIwJ,EAAgB/L,OAAS,EACzCyH,KAAK+jB,iBAAiB1pB,KAAK,IAG3B2F,KAAK+jB,iBAAiB1pB,KAAKO,OAKnC,KAAK,GAAIE,GAAI,EAAGA,EAAIwJ,EAAgB/L,OAAQuC,IAAK,CAC7C,GAAIF,GAAQ0J,EAAgBxJ,GAAG0H,SAAW,GAAK8B,EAAgBxJ,GAAGF,MAC9D0J,EAAgBxJ,GAAGF,MAAQ4D,EAAYC,EAAUC,EAAQ4F,EAAgBxJ,GAAG/E,MAAOiK,KAAKtB,QAAQ7C,UACpGmE,MAAK+jB,iBAAiB1pB,KAAKO,GAGE,aAAjCgI,EAAQqC,gBAAgBjD,MAAyD,UAAjCY,EAAQqC,gBAAgBjD,MACxEY,EAAQ8iB,eAAeC,mBACvB3lB,KAAK2jB,mBAAqB3jB,KAAK+P,kBAC3BnN,EAAQojB,oBAAgD,KAA1BN,EAAe9sB,OAC7CoH,KAAKynB,cAAiB,EAAIznB,KAAKgoB,kBAAqBhoB,KAAKgkB,WAAahkB,KAAK2jB,mBAAmB/qB,QAAQiD,YAEhG+G,EAAQojB,oBAA+C,KAAzBN,EAAe5tB,QAA2D,SAA1C4tB,EAAe3U,UAAU5W,cAC3D,UAAjCyI,EAAQqC,gBAAgBjD,MAAoBY,EAAQ8iB,eAAeC,mBACpB,SAA5C/iB,EAAQ8iB,eAAegC,oBAC3B1nB,KAAKwnB,aAAgB,EAAIxnB,KAAKgoB,kBAAqBhoB,KAAKgkB,WAAahkB,KAAK2jB,mBAAmB7rB,OAAO+D,aAIxGmE,KAAKipB,0BAA0B7gB,GAEnCpI,KAAKynB,aAAeznB,KAAKynB,aAAeznB,KAAKynB,aAAe7kB,EAAQojB,mBAAqB,KAAO,OAChGhmB,KAAKwnB,YAAcxnB,KAAKwnB,YAAcxnB,KAAKwnB,YAAc5kB,EAAQojB,mBAC7D,OAA0C,UAAjCpjB,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,kBAA2B,KAAP,KACrG3lB,KAAKpH,OAAS9C,EAAekK,KAAKynB,aAAcrf,EAAKxP,QACrDoH,KAAKlI,MAAQhC,EAAekK,KAAKwnB,YAAapf,EAAKtQ,OAC/C8K,EAAQojB,oBACRhmB,KAAKpH,QAA0C,aAAjCgK,EAAQqC,gBAAgBjD,MAAuBY,EAAQ8iB,eAAeC,oBAChF3lB,KAAKpH,OAAS,GAAK,GAAmBoH,KAAKpH,OACf,QAA5B8sB,EAAe3uB,WACfqR,EAAK9M,GAAK0E,KAAKpH,QAEnBwP,EAAKxP,QAAUoH,KAAKpH,SAGpBoH,KAAKlI,OAAyC,aAAjC8K,EAAQqC,gBAAgBjD,MAAuBY,EAAQ8iB,eAAeC,oBAC/E3lB,KAAKlI,MAAQ,GAAK,GAAkBkI,KAAKlI,MACb,SAA5B4tB,EAAe3uB,WACfqR,EAAK/M,GAAK2E,KAAKlI,OAEnBsQ,EAAKtQ,OAASkI,KAAKlI,QAG3B4rB,EAAOxjB,UAAU+oB,0BAA4B,SAAU7gB,GACnD,GAAIxF,GAAU5C,KAAK4C,OACnB5C,MAAKokB,UAAY,EACjBpkB,KAAKkpB,WAAa,EAClBlpB,KAAKqO,YAAc,CAEnB,IAAIzL,EAAQojB,mBAAoB,CAC5B,IAAK,GAAIlrB,GAAI,EAAGA,EAAI8H,EAAQ0B,gBAAgB/L,OAAQuC,IAAK,CACrD,GAAI5D,GAAO,CACP0L,GAAQ8iB,eAAevK,YAEvBjkB,EAAOd,EADI4J,KAAK+jB,iBAAiBjpB,GACR8H,EAAQ8iB,eAAe3U,WAAWjZ,MAE/D,IAAIqxB,GAAenpB,KAAKgkB,WAAahkB,KAAK8W,aAAe5f,EAAO8I,KAAK0kB,YACrE1kB,MAAKokB,WAAa+E,EAEtBnpB,KAAKokB,WAAapkB,KAAK0kB,aAXb,GAYe,KAArB1kB,KAAKwnB,cACLxnB,KAAKwnB,YAAcxnB,KAAKokB,UAAYhc,EAAKtQ,MAAQsQ,EAAKtQ,MAAM+D,WAAamE,KAAKokB,UAAUvoB,YAElE,KAAtBmE,KAAKynB,eACLznB,KAAKopB,aAAe1sB,KAAKC,KAAKqD,KAAKokB,UAAYtuB,EAAekK,KAAKwnB,YAAapf,EAAKtQ,QACrFkI,KAAKopB,aAAeppB,KAAKopB,aAAe,EAAI,EAAIppB,KAAKopB,aACrDppB,KAAKynB,cAAgBznB,KAAKokB,UAAYhc,EAAKtQ,OAASkI,KAAKokB,UAAYtuB,EAAekK,KAAKwnB,YAAapf,EAAKtQ,SACvGkI,KAAKopB,aAAe,IAAOppB,KAAKgkB,WAAahkB,KAAK0kB,cAAgB1kB,KAAKopB,aAAgBppB,KAAKgoB,kBAC5F7xB,SAASyM,EAAQ8iB,eAAe3U,UAAU7Z,KAAM,IApB9C,IAoB6D2E,aAC5DmE,KAAKgkB,WAAahkB,KAAK0kB,cAAgB1kB,KAAKopB,aAAgBppB,KAAKgoB,mBAAmBnsB,gBAI/FmE,MAAKkpB,YAAelpB,KAAKgkB,WAAahkB,KAAK0kB,cAAgB9hB,EAAQ0B,gBAAgB/L,OAAUyH,KAAK0kB,aACxE,KAAtB1kB,KAAKynB,eACLznB,KAAKynB,aAAeznB,KAAKkpB,WAAa9gB,EAAKxP,OAASwP,EAAKxP,OAAOiD,WAAamE,KAAKkpB,WAAWrtB,YAExE,KAArBmE,KAAKwnB,aAAwE,SAAlD5kB,EAAQ8iB,eAAe3U,UAAU5W,eAC5D6F,KAAK2jB,mBAAqB3jB,KAAK+P,kBAC/B/P,KAAKwnB,aAAgB,EAAIxnB,KAAKgoB,kBAAqBhoB,KAAKgkB,WAAahkB,KAAK8W,aACtE9W,KAAK2jB,mBAAmB7rB,OAAO+D,WAGvC/F,GAAekK,KAAKynB,aAAcrf,EAAKxP,QAAU,KACjDoH,KAAKynB,aAAe,MAEpB3xB,EAAekK,KAAKwnB,YAAapf,EAAKtQ,OAAS,KAC/CkI,KAAKwnB,YAAc,OAG3B9D,EAAOxjB,UAAU6P,gBAAkB,WAC/B,GAAInN,GAAU5C,KAAK4C,OAEnB,IADA5C,KAAK2jB,mBAAqB,GAAIjsB,GAAK,EAAG,IACjCkL,EAAQ8iB,eAAevK,WAAcvY,EAAQojB,oBAAuD,UAAjCpjB,EAAQqC,gBAAgBjD,OAC3FY,EAAQ8iB,eAAeC,mBAAwD,UAAjC/iB,EAAQqC,gBAAgBjD,MAC3B,SAA5CY,EAAQ8iB,eAAegC,iBACvB,MAAO1nB,MAAK2jB,kBAIZ,KAAK,GADDjT,GAAY1Q,KAAK2jB,mBACZ7oB,EAAI,EAAGA,EAAI8H,EAAQ2B,sBAAsBhM,OAAQuC,IAAK,CAC3D,GAAI5D,GAAOd,EAAY4J,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UACxEL,GAAU5Y,MAAS4Y,EAAU5Y,MAAQZ,EAAKY,MAAS4Y,EAAU5Y,MAAQZ,EAAKY,MAC1E4Y,EAAU9X,OAAU8X,EAAU9X,OAAS1B,EAAK0B,OAAU8X,EAAU9X,OAAS1B,EAAK0B,OAElF,MAAO8X,IAMfgT,EAAOxjB,UAAUmpB,oBAAsB,SAAUjhB,EAAMkhB,GACnD,GAEI/xB,GACAD,EAHAsL,EAAU5C,KAAK4C,QACf8iB,EAAiB9iB,EAAQ8iB,eAIzBhN,EAAYgN,EAAehN,UAC3B9f,EAAS9C,EAAekK,KAAKynB,aAAcrf,EAAKxP,QAChDd,EAAQhC,EAAekK,KAAKwnB,YAAapf,EAAKtQ,OAC9C+X,EAAOjN,EAAQ4S,gBACf+T,EAAmB,CACvB,IAAI3mB,EAAQojB,mBAAoB,CAC5BluB,EAAQA,EAAQsQ,EAAKtQ,MAAQsQ,EAAKtQ,MAAQA,EAC1Cc,EAA0C,aAAjCgK,EAAQqC,gBAAgBjD,MAAuBY,EAAQ8iB,eAAeC,kBAC3E/sB,EAAS,GAAKA,EAAS,GAAKoH,KAAKpH,OACrCrB,EAAqB,SAAdmhB,EAAuBtQ,EAAK/M,EAAkB,QAAdqd,EAAsBtQ,EAAK/M,EAAI+M,EAAKtQ,MAAQA,EAC/EsQ,EAAK/M,EAAK+M,EAAKtQ,MAAQ,EAAMA,EAAQ,EACR,KAA7B8K,EAAQ4Z,MAAMviB,MAAM5D,OACpBkzB,EAAmBnzB,EAAYwM,EAAQ4Z,MAAMviB,MAAM5D,KAAMuM,EAAQ4Z,MAAMzL,WAAWnY,OAb5E,GAeV,IAAI4wB,GAAa3Z,EAAK,GAAGY,gBAAkB,EAAItY,EAAI0X,EAAK,GAAGJ,uBAAyBI,EAAK,GAAGlB,aAAa/V,OACrG2wB,EAhBM,EAiBVjyB,GAAkC,QAA5BouB,EAAe3uB,SAAqB6L,EAAQ7G,cAAc1F,KAAOizB,EACnE1mB,EAAQ6mB,OAAOnyB,IAAM8Q,EAAK9M,EAAI8M,EAAKxP,OAAS4wB,MAE/C,CACD5wB,EAASA,EAASwP,EAAKxP,OAASwP,EAAKxP,OAASA,EAC9Cd,EAAyC,aAAjC8K,EAAQqC,gBAAgBjD,MAAuBY,EAAQ8iB,eAAeC,kBAC1E7tB,EAAQ,GAAKA,EAAQ,GAAKA,EAC9BR,EAAoB,SAAdohB,EAAuBtQ,EAAK9M,EAAkB,QAAdod,EAAsBtQ,EAAK9M,EAAI8M,EAAKxP,OAASA,EAC/EwP,EAAK9M,EAAK8M,EAAKxP,OAAS,EAAMA,EAAS,EACV,KAA7BgK,EAAQiY,MAAM5gB,MAAM5D,OACpBkzB,EAAmBnzB,EAAYwM,EAAQiY,MAAM5gB,MAAM5D,KAAMuM,EAAQiY,MAAM9J,WAAWnY,OA3B5E,GA6BV,IAAI8wB,GAAY7Z,EAAK,GAAGY,gBAAkBtY,EAAI0X,EAAK,GAAGH,uBAClDG,EAAK,GAAGlB,aAAa7W,MAAQyxB,EAAmB,GAAc,CAClEhyB,GAAmC,UAA5BmuB,EAAe3uB,SAAuBqR,EAAK/M,EAAI+M,EAAKtQ,MAAQ4xB,EAAY9mB,EAAQ6mB,OAAOlyB,KAElGyI,KAAKslB,YAAc,GAAI3c,IAAKpR,EAAMD,EAAKQ,EAAOc,GAC9CoH,KAAK2pB,uBAAuB3pB,KAAKslB,cAGrC5B,EAAOxjB,UAAU0pB,uBAAyB,SAAUxhB,GAChD,GAAIxF,GAAU5C,KAAK4C,OAGnB,IADA5C,KAAKmkB,cAAgB,EACjBvhB,EAAQojB,mBACJhmB,KAAKokB,UAAYpkB,KAAKlI,OACtBkI,KAAKopB,aAAe1sB,KAAKC,KAAKqD,KAAKokB,UAAYpkB,KAAKlI,OACpDkI,KAAKkpB,YAAelpB,KAAKgkB,WAAahkB,KAAK0kB,cAAgB1kB,KAAKopB,aAChEppB,KAAKkkB,YAAclkB,KAAKopB,cAAgB,EAAIppB,KAAKopB,aAAe1sB,KAAKC,MAAMqD,KAAKpH,OAN1E,GAOFzC,SAASyM,EAAQ8iB,eAAe3U,UAAU7Z,KAAM,IAChD8I,KAAKgoB,oBAAsBhoB,KAAKgkB,WAAahkB,KAAK0kB,eACtD1kB,KAAKmkB,cAAgBznB,KAAKC,KAAKqD,KAAKopB,aAAeppB,KAAKkkB,cAGxDlkB,KAAKkkB,YAAc,MAIvB,IAAIlkB,KAAKkpB,WAAa9gB,EAAKxP,QAAUoH,KAAKkpB,WAAalpB,KAAKpH,OAAQ,CAChE,GAAIixB,GAAY/zB,EAAekK,KAAKynB,aAAcrf,EAAKxP,OACvDixB,GAAYA,EAAYzhB,EAAKxP,OAASwP,EAAKxP,OAASixB,EACpD7pB,KAAKkkB,YAAcxnB,KAAK2W,MAAMwW,GAAa7pB,KAAKgkB,WAAahkB,KAAK0kB,cAAgB,GAClF1kB,KAAKmkB,cAAgBznB,KAAK2S,IAAI,EAAG3S,KAAKC,KAAKiG,EAAQ0B,gBAAgB/L,OAASyH,KAAKkkB,kBAGjFlkB,MAAKkkB,YAActhB,EAAQ0B,gBAAgB/L,OAC3CyH,KAAKynB,aAAeznB,KAAKkpB,WAAWrtB,YAIhD6nB,EAAOxjB,UAAU4pB,qBAAuB,WACpC,GAAIlnB,GAAU5C,KAAK4C,OACnB,IAAI5C,KAAKmkB,cAAgB,EAAG,CACxBnkB,KAAKwkB,yBACLxkB,KAAKolB,OAAOvuB,YAAYmJ,KAAKmnB,YAC7B,IACI4C,GAAc/pB,KAAKslB,YAAYjqB,EAAI2E,KAAKslB,YAAYxtB,MADzC,GAEXkyB,EAAchqB,KAAKslB,YAAYhqB,EAAI0E,KAAKslB,YAAY1sB,OAFzC,GAGXvC,EAAO2J,KAAKqO,YAAc,IAAMrO,KAAKmkB,cACrC8F,EAAW7zB,EAAYC,EAAMuM,EAAQ8iB,eAAe3U,WACpDmZ,EAAQH,EAAcE,EAASnyB,MAAQ,GACvC6gB,EAAY,GAAI1P,IAAUihB,EAAOF,EAAa,QAAS3zB,EAAM,EAAG,iBAAkB,UAClF2C,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,UAAWgiB,EAAW/V,EAAQ8iB,eAAe3U,UAAWnO,EAAQ8iB,eAAe3U,UAAUlb,OAAS+M,EAAQsC,WAAWvP,YACvKqK,MAAKmV,cAAcxb,WAAWX,EAASgH,KAAKmnB,YAAa9wB,GACrDohB,UAAQC,OAAS9U,EAAQ+H,uBACzB3K,KAAKmnB,YAAYe,UAAU1I,aAAa,KAAM,SAElDxf,KAAKykB,WAAa,GAAI9b,IAAKuhB,EAAOF,EAAcC,EAASrxB,OAAS,EAAGqxB,EAASnyB,MAAOmyB,EAASrxB,OAC9F,IAAIuxB,GAAiB,GAAIjiB,IAAWtF,EAAQpH,QAAQ7E,GAAK,cAAe,QAAUd,MAAO,cAAeiC,MAAO,GAAK,EAAGkI,KAAKykB,WAC5HzkB,MAAKmV,cAAc5K,cAAc4f,EAAgBnqB,KAAKmnB,YACtD,IAAIiD,GAAiB,GAAIliB,IAAWtF,EAAQpH,QAAQ7E,GAAK,cAAe,QAAUd,MAAO,cAAeiC,MAAO,GAAK,EAAG,GAAI6Q,IAAKohB,EAfjH,GAeyIC,EAAcK,EAfvJ,GAAA,IAgBfrqB,MAAKmV,cAAc5K,cAAc6f,EAAgBpqB,KAAKmnB,YACtD,IAAImD,GAAa,OAA4B,IAAMN,EAAc,OAChDD,EAlBF,IAkB4B,KAAOC,EAAcK,GAAgB,OAC3EN,EAnBU,IAmBgB,KAAOC,KAAgC,IAClEO,EAAQL,EAAQ,GAChBM,EAAY,KAAYD,EAAQ,IAAMP,EAAc,OACvCO,EAtBF,IAsBsB,KAAOP,EAAcK,GAAgB,OACrEE,EAvBU,IAuBU,KAAOP,KAAgC,IAC5DS,EAAgB,GAAIviB,IAAWtF,EAAQpH,QAAQ7E,GAAK,aAAc,QAAUd,MAAO,cAAeiC,MAAO,GAAK,EAAG,GAAI6Q,IAAK4hB,EAAOP,EAAcK,EAxBpI,GAAA,IAyBfrqB,MAAKmV,cAAc5K,cAAckgB,EAAezqB,KAAKmnB,YACrD,IAAIuD,GAAa,GAAI1jB,GAAWpE,EAAQpH,QAAQ7E,GAAK,oBAAqB,OAAQ,IAAM,UAAW,EAAG,MAAO6zB,GACzGG,EAAc,GAAI3jB,GAAWpE,EAAQpH,QAAQ7E,GAAK,qBAAsB,OAAQ,IAAM,UAAW,EAAG,MAAO2zB,EAG/G,IAFAtqB,KAAKwkB,sBAAsBnqB,KAAK+vB,GAChCpqB,KAAKwkB,sBAAsBnqB,KAAKowB,GAC3B7nB,EAAQ+H,sBAMR,CAED/H,EAAQiI,eAAeG,SAAS0f,MADV,IAEtB9nB,EAAQiI,eAAeG,SAAS2f,MAFV,QAPU,CAChC,GAAIC,GAAQhoB,EAAQ3J,SAAS+R,SAAS0f,GAClCG,EAAajoB,EAAQ3J,SAAS+R,SAAS2f,EAC3C3qB,MAAKmnB,YAAYtwB,YAAY+zB,GAC7B5qB,KAAKmnB,YAAYtwB,YAAYg0B,MASzCnH,EAAOxjB,UAAUypB,uBAAyB,SAAUmB,GAChD,GAEIvzB,GACAD,EACAsB,EACAd,EALA8K,EAAU5C,KAAK4C,OAMkB,WAAjCA,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,mBACpE3lB,KAAK4pB,uBAAuBhnB,EAAQhH,iBAEpCgH,EAAQojB,oBACRzuB,EAAOuzB,EAAMzvB,EATH,GAUV/D,EAAMwzB,EAAMxvB,EAAI0E,KAAKgoB,kBACrBlwB,EAAyC,UAAjC8K,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,kBAChCmF,EAAMhzB,MAAQ,GAAtDgzB,EAAMhzB,MAAS,EAAIkI,KAAK0kB,aAC5B9rB,EAA0C,UAAjCgK,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,kBACM3lB,KAAK4jB,mBAAnF5jB,KAAKgkB,WAAahkB,KAAK0kB,cAAgB1kB,KAAKkkB,YAAclkB,KAAK0kB,eAGpEntB,EAAOuzB,EAAMzvB,EAAI2E,KAAKgoB,kBACtB1wB,EAAMwzB,EAAMxvB,EAlBF,GAmBVxD,EAA0C,UAAjC8K,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,kBACjD3lB,KAAK4jB,kBAA7BkH,EAAMhzB,MApBA,GAqBVc,EAA0C,UAAjCgK,EAAQqC,gBAAgBjD,MAAqBY,EAAQ8iB,eAAeC,kBACMmF,EAAMlyB,OAAS,IAA7FoH,KAAKgkB,WAAahkB,KAAK0kB,cAAgB1kB,KAAKkkB,YAAclkB,KAAK0kB,cAExE1kB,KAAKwlB,gBAAkB,GAAI7c,IAAKpR,EAAMD,EAAKQ,EAAOc,IACb,aAAjCgK,EAAQqC,gBAAgBjD,MAAwD,UAAjCY,EAAQqC,gBAAgBjD,MACvEY,EAAQ8iB,eAAeC,oBACvB3lB,KAAK+qB,uBAAuB/qB,KAAKwlB,kBAGzC9B,EAAOxjB,UAAU6qB,uBAAyB,SAAUzG,GAChD,GAEI0G,GACA30B,EAHAuM,EAAU5C,KAAK4C,QACfwF,EAAOpI,KAAKwlB,gBAGZyF,EAAoB,CACxBjrB,MAAK6jB,sBACL7jB,KAAK8jB,sBACL,IAAIjW,GACAC,EACAxJ,EAAmD,aAAjC1B,EAAQqC,gBAAgBjD,KAC1CY,EAAQ2B,sBAAwB3B,EAAQ0B,gBACxCG,EAAW7B,EAAQ8B,oBAAsB9B,EAAQ+B,cAAgB/B,EAAQgC,mBACzEC,EAAWjC,EAAQ8B,oBAAsB9B,EAAQkC,cAAgBlC,EAAQmC,kBAI7E,IAHA/E,KAAKkmB,eAAiB5hB,EAAgB,GAAGvO,MAAQ0O,EAAWA,EAAWH,EAAgB,GAAGvO,MAC1FiK,KAAKmmB,eAAiB7hB,EAAgBA,EAAgB/L,OAAS,GAAGxC,MAAQ8O,EAAWA,EACjFP,EAAgBA,EAAgB/L,OAAS,GAAGxC,MACX,aAAjC6M,EAAQqC,gBAAgBjD,KACxB,IAAK,GAAI9G,GAAQ,EAAGA,EAAQoJ,EAAgB/L,OAAQ2C,IAAS,CACzD,GAAInF,IAAUuO,EAAgBpJ,GAAOnF,MAAQiK,KAAKkmB,iBAC7ClmB,KAAKmmB,eAAiBnmB,KAAKkmB,gBAAmB,GACnDnwB,GAAQqN,MAAMrN,GAAS,EAAIA,EACtB6M,EAAQojB,oBAMTgF,EAAa5iB,EAAKtQ,MAAQ,IAC1B+V,EAASyW,EAAWjpB,EAAK2vB,EAAaj1B,EACtCiK,KAAK6jB,mBAAmBxpB,KAAKwT,KAP7Bmd,EAAa5iB,EAAKxP,OAAS,IAC3BkV,EAASwW,EAAWhpB,EAAK0vB,EAAaj1B,EACtCiK,KAAK6jB,mBAAmBxpB,KAAKyT,IASzC,GAAI8Z,EACJ,IAAIhlB,EAAQojB,mBAAoB,CAC5B,IAAK,GAAIlrB,GAAI,EAAGA,EAAIwJ,EAAgB/L,OAAQuC,IAAK,CAC7C,GAAqC,aAAjC8H,EAAQqC,gBAAgBjD,KAAqB,CAC7C,GAAIkpB,IAAwBlrB,KAAK6jB,mBAAmB/oB,GAAKkF,KAAK6jB,mBAAmB/oB,EAAI,IAAM,EACvFqwB,GAAoBnrB,KAAK6jB,mBAAmB/oB,EAAI,GAAKkF,KAAK6jB,mBAAmB/oB,IAAM,CAEnF8sB,GADA9sB,IAAMwJ,EAAgB/L,OAAS,EACf2yB,EAEL,IAANpwB,EACWqwB,EAGAD,EAAuBC,EAAmBD,EAAuBC,MAGpF,CACD,GAAIrzB,GAAQkI,KAAKwlB,gBAAgB1tB,MAAQ8K,EAAQ0B,gBAAgB/L,MACjEqvB,GAA4D,SAA5ChlB,EAAQ8iB,eAAegC,iBAA8B5vB,EAAQA,EAAQ,EAEzFkI,KAAK8jB,oBAAoBzpB,KAAKutB,GAE9BqD,GADA50B,EAAO2D,EAASgG,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UAAW6W,IACnDrvB,OAAS0yB,EAAoB50B,EAAKkC,OAAS0yB,EAEhC,WAApCroB,EAAQ8iB,eAAe3uB,UACvB6L,EAAQhH,gBAAgBhD,QAAWoH,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,GACzFjrB,KAAKslB,YAAYhqB,GAAM0E,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,GAC7EjrB,KAAKwlB,gBAAgBlqB,EAAI0E,KAAKslB,YAAYhqB,EAAI0E,KAAKgoB,kBACnDhoB,KAAKslB,YAAY1sB,OAASzC,SAAS6J,KAAKynB,aAAc,IAAOznB,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,KAGnHroB,EAAQhH,gBAAgBN,GAAM0E,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,GACpFroB,EAAQhH,gBAAgBhD,QAAWoH,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,GACzFjrB,KAAKwlB,gBAAgBlqB,EAAI0E,KAAKslB,YAAYhqB,EAAI0E,KAAKgoB,kBACnDhoB,KAAKslB,YAAY1sB,OAASzC,SAAS6J,KAAKynB,aAAc,IAAOznB,KAAK2jB,mBAAmB/qB,QAAUqyB,EAAoB,MAI/HvH,EAAOxjB,UAAU0mB,oBAAsB,SAAUtC,GAC7C,GACI8G,GACAvd,EACAC,EACAC,EACAC,EALApL,EAAU5C,KAAK4C,OAMdA,GAAQ+H,wBACTygB,EAAgBprB,KAAK4C,QAAQ3J,SAASqc,aAAc3e,GAAIiM,EAAQpH,QAAQ7E,GAAK,oBAEjF,KAAK,GAAImE,GAAI,EAAGA,EAAI8H,EAAQ2B,sBAAsBhM,OAAQuC,IAAK,CACtD8H,EAAQojB,oBAMTnY,EAASE,EAAS/N,KAAK6jB,mBAAmB/oB,GAC1CgT,EAASwW,EAAWhpB,EACpB0S,EAASsW,EAAWhpB,EAAIgpB,EAAW1rB,SAPnCiV,EAASyW,EAAWjpB,EACpByS,EAASE,EAAShO,KAAK6jB,mBAAmB/oB,GAC1CiT,EAASuW,EAAWjpB,EAAIipB,EAAWxsB,MAOvC,IAAI4wB,GAAY,GAAItf,IAAKyE,EAAQC,EAAQC,EAAQC,GAC7CtE,EAAO,GAAID,IAAWzJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,kBAAoBmE,EAAG4tB,EAAW,UAAW,EACjG1oB,MAAKmV,cAAc1J,SAAS/B,EAAM0hB,GAC7BxoB,EAAQ+H,uBACT3K,KAAKolB,OAAOvuB,YAAYu0B,KAOpC1H,EAAOxjB,UAAUmrB,yBAA2B,SAAU9C,GAClD,GAAIltB,GAAI2E,KAAK4C,QAAQ0oB,OACjBhwB,EAAI0E,KAAK4C,QAAQ2oB,MACrB,KAA8C,IAA1ChD,EAAEjoB,OAAO3J,GAAGT,QAAQ,kBAA2Bs1B,MAAMlrB,OAAOmrB,YAAYv1B,QAAQ,QAAU,EAAG,CAC7F,GAAIw1B,GAAWF,MAAMlrB,OAAO3J,GAAGgE,MAAMqF,KAAK4C,QAAQpH,QAAQ7E,GAAK,gBAC/D,IAAwB,IAApB+0B,EAASnzB,OAAc,CACvB,GAAI2C,OAAQ,EAERA,GADuB,IAAvBwwB,EAAS,GAAGnzB,QAAuE,SAAvDyH,KAAK4C,QAAQ8iB,eAAe3U,UAAU5W,aAC1DhE,SAASu1B,EAAS,GAAI,IAGtBv1B,SAASu1B,EAAS,GAAGvwB,UAAU,EAAGuwB,EAAS,GAAGnzB,OAAS,GAAI,IAEvE6C,EAAY4E,KAAK+jB,iBAAiB7oB,GAAQG,EAAGC,EAAG0E,KAAK4C,QAAQpH,QAAQmwB,YAAa3rB,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBAAwBwF,EAAW6D,KAAK4C,QAAQpH,QAAQ7E,GAAK,sBAAuB,KAAMqJ,KAAK4C,SAC3MpM,SAASC,eAAeuJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,wBAAwB1B,MAAM+B,WAAa,eAGhG,CACD,GAAIwE,GAAUhF,SAASC,eAAeuJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,uBAC5D6E,KACAA,EAAQvG,MAAM+B,WAAa,YAIvC0sB,EAAOxjB,UAAUgnB,qBAAuB,SAAU9e,GAC9C,GAAIxF,GAAU5C,KAAK4C,OACnB,IAAIA,EAAQojB,mBAAoB,CAC5BhmB,KAAKukB,WACL,IAAI+C,GAAUlf,EAAK/M,EACfksB,EAAUnf,EAAK9M,EACfpE,EAAO,EACP00B,EAAW,EACX9D,EAAS,EACTC,EAAS,EAETjtB,MAAI,EAOR,KAJAkF,KAAK4kB,qBACL5kB,KAAK6kB,qBACL7kB,KAAK8kB,sBACL9kB,KAAK+kB,sBACAjqB,EAAI,EAAGA,EAAI8H,EAAQ0B,gBAAgB/L,OAAQuC,IAAK,CAC7C8H,EAAQ8iB,eAAevK,YAEvBjkB,EAAOd,EADI4J,KAAK+jB,iBAAiBjpB,GACR8H,EAAQ8iB,eAAe3U,WAAWjZ,OAE/DgwB,EAASR,EAXI,GACH,EAWVS,EAASR,EAXC,CAYV,IAAItsB,GAAW2H,EAAQ8iB,eAAevK,UAAY2M,EAAS5wB,EAAOowB,EAAUtnB,KAAKgkB,WAAahkB,KAAK0kB,YACzF,KAAN5pB,GAAWG,EAAW+E,KAAKslB,YAAYxtB,MAAQkI,KAAKslB,YAAYjqB,EAAI2E,KAAK0kB,eACzEkH,GAAY,EAGZ9D,GAFAR,EAAUlf,EAAK/M,GAhBN,GACH,EAkBN0sB,GAFAR,EAAUnf,EAAK9M,EAnBR,GAmBaswB,GAhBd,EAmBFA,EAAY5rB,kBAAsB,IAClCA,KAAKukB,SAASlqB,KAAKS,GAEnBitB,GADAR,EAAUnf,EAAK9M,GArBb,EAuBFswB,EAAW,IAGnB5rB,KAAK4kB,kBAAkBvqB,KAAKytB,GAC5B9nB,KAAK6kB,kBAAkBxqB,KAAK0tB,GAC5B/nB,KAAK8kB,mBAAmBzqB,KAAKitB,GAC7BtnB,KAAK+kB,mBAAmB1qB,KAAKktB,GAC7BD,EAAUA,EAAUtnB,KAAKgkB,WAAahkB,KAAK8W,aAAe5f,EAAO8I,KAAK0kB,aAE1E1kB,KAAKukB,SAASlqB,KAAKS,GACnBkF,KAAKmkB,cAAgBnkB,KAAKukB,SAAShsB,SAG3CmrB,EAAOxjB,UAAUknB,qBAAuB,SAAUhf,EAAM8D,GACpD,GAAItJ,GAAU5C,KAAK4C,QAEfoX,GACAnkB,MAAO,cACPiC,MAAO,EAGXkI,MAAK2kB,qBACL,IAAIqC,GACA9vB,EAAO,GAAIQ,GAAK,EAAG,GAEnBowB,EAAS,EACTC,EAAS,EACTT,EAAUlf,EAAK/M,EACfksB,EAAUnf,EAAK9M,CACf4Q,IACAlM,KAAK8pB,sBAET,IAAIzuB,GACAC,EACAssB,EAAgB5nB,KAAKslB,YAAYxtB,OAASkI,KAAKgkB,WAC/ChkB,KAAKgoB,kBAAoBhoB,KAAK8W,aAC7BlU,GAAQojB,oBAMT3qB,EAAyB,IAArB2E,KAAKqO,YAAoB,EAAIrO,KAAKukB,SAASvkB,KAAKqO,YAAc,GAClE/S,EAAI0E,KAAKukB,SAASvkB,KAAKqO,YAAc,IAJrC/S,GADAA,GADAD,EAAK2E,KAAKqO,YAAerO,KAAiB,YAAKA,KAAiB,aACxDA,KAAKkkB,aACLthB,EAAQ0B,gBAAgB/L,OAAS+C,EAAIsH,EAAQ0B,gBAAgB/L,MAMzE,KAAK,GAAIuC,GAAIO,EAAGP,EAAIQ,EAAGR,IAAK,CAaxB,GAZI8H,EAAQ8iB,eAAevK,YAEvBjkB,EAAOd,EADHC,EAAO2J,KAAK+jB,iBAAiBjpB,GACR8H,EAAQ8iB,eAAe3U,YAEhDnO,EAAQojB,qBACRsB,EAAUtnB,KAAK8kB,mBAAmBhqB,GAClCysB,EAAUvnB,KAAK+kB,mBAAmBjqB,GAClCgtB,EAAS9nB,KAAK4kB,kBAAkB9pB,GAChCitB,EAAS/nB,KAAK6kB,kBAAkB/pB,IAEpCgtB,EAASR,EAAUtnB,KAAKgkB,WAAahkB,KAAK8W,aAC1CiR,EAASR,EArCC,EAsCNrb,GAAatJ,EAAQkjB,WAAa9lB,KAAKuG,YAAYhO,QAAUqK,EAAQ0B,gBAAgB/L,OAAQ,CAC7F,GAAIyiB,GAAe,GAAI5M,IAAYkZ,EAASC,EA5CnC,GAAA,GA4CoE3kB,EAAQ0B,gBAAgBxJ,GAAG/E,OAAO,EAAMiK,KAAKqO,YAG1H,IAFA2M,EAAatU,UAAWX,oBAAkB/F,KAAKklB,sBAAsBpqB,KAAMkF,KAAKklB,sBAAsBpqB,GACtGkF,KAAKuG,YAAYlM,KAAK2gB,GAClBpY,EAAQ8iB,eAAevK,UAAW,CAClC,GAAI8M,GAAe,GAAI7Z,IAAY0Z,EAASC,EAAS7wB,EAAK0B,OAAS,EAAI1B,EAAKY,MAAOZ,EAAK0B,OAAQgK,EAAQ0B,gBAAgBxJ,GAAG/E,OAAO,EAAMiK,KAAKqO,YAC7I4Z,GAAavhB,UAAWX,oBAAkB/F,KAAKklB,sBAAsBpqB,KAAMkF,KAAKklB,sBAAsBpqB,GACtGkF,KAAKilB,gBAAgB5qB,KAAK4tB,IAGlC,GAAIrlB,EAAQ8iB,eAAevK,UAAW,CAClC,GAAI9kB,GAAO2D,EAASgG,KAAK+jB,iBAAiBjpB,GAAI8H,EAAQ8iB,eAAe3U,UAAW6W,IAChD,IAA5BvxB,EAAK,GAAGH,QAAQ,QAAiB0M,EAAQ+H,uBACzC3K,KAAK2kB,mBAAmBtqB,KAAK,GAAIsT,IAAc3N,KAAK+jB,iBAAiBjpB,GAAI,GAAI6N,IAAKmf,EAAQC,EAAQ7wB,EAAKY,MAAOZ,EAAK0B,SAEvH,IAAI+f,GAAY,GAAI1P,IAAU6e,EAAQC,EAAQ,QAAS1xB,EAAM,EAAG,iBAAkB,UAC9E2C,EAAU,GAAI4P,IAAWhG,EAAQpH,QAAQ7E,GAAK,gBAAkBmE,EAAG6d,EAAW/V,EAAQ8iB,eAAe3U,UAAWnO,EAAQ8iB,eAAe3U,UAAUlb,OAAS+M,EAAQsC,WAAWvP,YACjLqD,GAAQ8N,KAAOlE,EAAQijB,aAAe7sB,EAAQ8N,KAAO9G,KAAKuG,YAAYzL,GAAG4L,QAAU1N,EAAQ8N,KAAO,UAClG9G,KAAKmV,cAAcxb,WAAWX,EAASgH,KAAKinB,eAAgB5wB,EAAK,IAC7DohB,UAAQC,OAAS9U,EAAQ+H,uBACzB3K,KAAKinB,eAAeiB,UAAU1I,aAAa,KAAM,SAGzDwH,EAAW,GAAIre,IAAK2e,EAASC,EAlEhB,GAAA,GAmEb,IAAIsE,GAAYjpB,EAAQijB,aAAejjB,EAAQ0B,gBAAgBxJ,GAAGjF,MAC9DmK,KAAKuG,YAAYzL,GAAG4L,QAAU9D,EAAQ0B,gBAAgBxJ,GAAGjF,MAAQ,UACjEwvB,EAAY,GAAInd,IAAWtF,EAAQpH,QAAQ7E,GAAK,eAAiBmE,EAAG+wB,EAAW7R,EAAY,EAAGgN,EAClGhnB,MAAKmV,cAAc5K,cAAc8a,EAAWrlB,KAAKinB,gBACjDrkB,EAAQojB,mBAAqBsB,EAAUA,EAAUtnB,KAAKgkB,WAAahkB,KAAK8W,aAAe5f,EAAKY,MAAQkI,KAAK0kB,aACrG6C,GAAWvnB,KAAKgkB,WAAahkB,KAAK0kB,aAE1C,IAAK9hB,EAAQ+H,sBAAuB,CAChC3K,KAAKslB,YAAY1sB,OAASoH,KAAKslB,YAAY1sB,OAAS,EAAIoH,KAAKslB,YAAY1sB,OAAS,EAClFoH,KAAKslB,YAAYxtB,MAAQkI,KAAKslB,YAAYxtB,MAAQ,EAAIkI,KAAKslB,YAAYxtB,MAAQ,CAC/E,IAAIqwB,GAAWvlB,EAAQ3J,SAASmvB,gBAAiBzxB,GAAIiM,EAAQpH,QAAQ7E,GAAK,0BACtE0xB,EAAWzlB,EAAQ3J,SAASsR,cAAcvK,KAAKslB,YACnD6C,GAAStxB,YAAYwxB,GACrBroB,KAAKinB,eAAepwB,YAAYsxB,GAChCnoB,KAAKinB,eAAezH,aAAa,QAAS,kBAAoB2I,EAASxxB,GAAK,KAC5EqJ,KAAK+mB,YAAYlwB,YAAYmJ,KAAKinB,gBAClCrkB,EAAQzJ,UAAUtC,YAAYmJ,KAAKolB,UAM3C1B,EAAOxjB,UAAU4rB,cAAgB,SAAUlpB,EAASmpB,EAAMC,GAEtD,GAAKA,GAAUD,GAAQ,GAAKA,EAAO/rB,KAAKmkB,gBAAoB6H,GAAUD,EAAO,GAAKA,GAAQ/rB,KAAKmkB,cAAgB,CAS3G,GARI6H,GACAhsB,KAAKqO,aAAe,EACpBrO,KAAKskB,WAAWhpB,GAAK0E,KAAKskB,WAAW1rB,SAGrCoH,KAAKqO,aAAe,EACpBrO,KAAKskB,WAAWhpB,GAAK0E,KAAKskB,WAAW1rB,QAEpCgK,EAAQ+H,uBAOLiB,EAAMhJ,EAAQiI,eAAee,KAC7ByY,SAASrkB,KAAKwlB,gBAAgBnqB,EAlB5B,EAkByC2E,KAAKwlB,gBAAgBlqB,EAlB9D,EAkB2E0E,KAAKwlB,gBAAgB1tB,MAlBhG,EAmBOkI,KAAKwlB,gBAAgB5sB,WAClCgT,EAAIyY,SAASrkB,KAAKykB,WAAWppB,EAAG2E,KAAKykB,WAAWnpB,EAAG0E,KAAKykB,WAAW3sB,MAAOkI,KAAKykB,WAAW7rB,YAR1F,KADAoH,KAAKmnB,YAAY8E,YAAYjsB,KAAKmnB,YAAYrG,YACvC9gB,KAAKinB,eAAeiF,WAAW3zB,QAClCyH,KAAKinB,eAAegF,YAAYjsB,KAAKinB,eAAenG,WAS5D9gB,MAAKonB,qBAAqBpnB,KAAKwlB,iBAAiB,GAEpD,GAAI5iB,EAAQ+H,uBAAyB/H,EAAQupB,gBAAkBvpB,EAAQ2c,aAAc,CACjF,GAAI3T,GAAMhJ,EAAQwpB,wBAAwBxgB,IACtC7U,EAAW6L,EAAQ8iB,eAAe3uB,SAClCs1B,EAAczpB,EAAQhH,gBACtBkkB,EAAqB,UAAb/oB,EAAuBs1B,EAAYhxB,EAAIgxB,EAAYv0B,MAAQ,EACnEioB,EAAqB,WAAbhpB,EAAwBs1B,EAAY/wB,EAAI+wB,EAAYzzB,OAAS,EACrE0zB,EAAyB,UAAbv1B,EAAuB6L,EAAQ5G,cAAclE,OAASu0B,EAAYhxB,EAC9EgxB,EAAYv0B,OAAsB,SAAbf,EAAsBs1B,EAAYhxB,EAAIuH,EAAQ5G,cAAclE,MACjFy0B,EAA0B,QAAbx1B,EAAqBs1B,EAAY/wB,EAAiB,WAAbvE,EAClD6L,EAAQ5G,cAAcpD,QAAUyzB,EAAY/wB,EAAI+wB,EAAYzzB,QAAUgK,EAAQ5G,cAAcpD,MAChGgT,GAAIE,OACJF,EAAI4gB,UAAU1M,EAAOC,EAAOuM,EAAWC,GACvC3gB,EAAIU,SACJ,IAAImgB,GAAYj2B,SAASC,eAAemM,EAAQpH,QAAQ7E,GAAK,WACzD+1B,EAAYl2B,SAASC,eAAemM,EAAQpH,QAAQ7E,GAAK,qBACzDg2B,EAAYF,EAAUG,WAAW,MAAMC,aAAa/M,EAAOC,EAAOuM,EAAWC,EACjFG,GAAUE,WAAW,MAAME,aAAaH,EAAW7M,EAAOC,GAC1D0M,EAAUx3B,MAAMgS,QAAU,QAQlCyc,EAAOxjB,UAAUshB,iBAAmB,SAAU5e,GAC1C,GAAIpH,GAAU9E,gBAAc,OACxBC,GAAIqJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,8BAC9BmF,OAAQ,qBAEZkE,MAAK4C,QAAQpH,QAAQ3E,YAAY2E,IAMrCkoB,EAAOxjB,UAAU4hB,cAAgB,SAAUiL,GACvC,GAAInqB,GAAU5C,KAAK4C,QACfqe,GAAmB8L,EAAkBnyB,OACrCqI,EAAS,IACbA,GAAS9M,SAASyM,EAAQ8iB,eAAe3U,UAAU7Z,KAAM,IAAM,EAC/D8I,KAAK4gB,cAAgB,GAAIM,YACrBje,OAAQA,EACRjO,MAAO4N,EAAQ5N,MACfqsB,QAASJ,EACTG,UACI/lB,EAAG0xB,EAAkB1xB,EAAK0xB,EAAkBj1B,MAAQ,EACpDwD,EAAGyxB,EAAkBzxB,EAAKyxB,EAAkBn0B,OAAS,GAEzDo0B,UAAUpqB,EAAQojB,mBAClBzE,YACI3oB,OAAQoH,KAAKslB,YAAY1sB,OAASoH,KAAKslB,YAAYhqB,EACnDxD,MAAOkI,KAAKslB,YAAYxtB,MAAQkI,KAAKslB,YAAYjqB,EACjDA,EAAuC,UAApCuH,EAAQ8iB,eAAe3uB,SAAuB,EAAIiJ,KAAKslB,YAAYjqB,EACtEC,EAAuC,QAApCsH,EAAQ8iB,eAAe3uB,SAAoD,KAA/B6L,EAAQ7G,cAAc1F,KAAc2J,KAAKslB,YAAY1sB,OAChGoH,KAAKslB,YAAYhqB,EAAI0E,KAAKslB,YAAYhqB,EAAI,IAEnD,IAAM0E,KAAK4C,QAAQpH,QAAQ7E,GAAK,+BACnCqJ,KAAK4gB,cAAcplB,QAAQvG,MAAM+B,WAAa,WAMlD0sB,EAAOxjB,UAAU8gB,cAAgB,SAAUwH,EAAOC,GAE9C,IAAK,GADDsE,GACKjyB,EAAI,EAAGA,EAAIkF,KAAK4C,QAAQ0B,gBAAgB/L,OAAQuC,IAAK,CAC1D,GAAI/D,GAAWiJ,KAAKglB,6BAA6BlqB,EACjD,IAAI0tB,EAAQzxB,EAASsE,GAAKmtB,EAAQzxB,EAASe,MAAQf,EAASsE,GACxDotB,EAAQ1xB,EAASuE,GAAKmtB,EAAQ1xB,EAAS6B,OAAS7B,EAASuE,EAAG,CAC5DyxB,EAAoB/sB,KAAKglB,6BAA6BlqB,EACtD,QAGR,GAAI6lB,GAAMnqB,SAASC,eAAeuJ,KAAK4C,QAAQpH,QAAQ7E,GAAK,8BACxDgqB,IAAgC,YAAzBA,EAAI1rB,MAAM+B,YAA4BgJ,KAAK4gB,gBAAkB5gB,KAAK4C,QAAQnH,UACjFuE,KAAK4gB,cAAcC,UACnBF,EAAI1rB,MAAM+B,WAAa,UAEvB+1B,GACA/sB,KAAK8hB,cAAciL,IAO3BrJ,EAAOxjB,UAAU+sB,qBAAuB,SAAU/xB,GAC9C,GAAI0H,GAAU5C,KAAK4C,QACf2D,EAAcvG,KAAKuG,YAEnBgf,EAAcvlB,KAAKwlB,eAEvB,IADA5iB,EAAQmZ,gBAAiB,EACrBnZ,EAAQ+H,sBAAuB,CAC/B,GAAIiB,GAAMhJ,EAAQiI,eAAee,GAC7BhJ,GAAQ8iB,eAAeC,kBACvB/Z,EAAIyY,SAASkB,EAAYlqB,EANnB,EAMgCkqB,EAAYjqB,EAN5C,EAM0DiqB,EAAYztB,MAAQkI,KAAK8W,aAAe9W,KAAK2jB,mBAAmB7rB,MAN1H,EAM4IytB,EAAY3sB,WAG9JgT,EAAIyY,SAASkB,EAAYlqB,EATnB,EASgCkqB,EAAYjqB,EAT5C,EASyDiqB,EAAYztB,MATrE,EAUOytB,EAAY3sB,eAG5B,CACD,GAAIgK,EAAQ8iB,eAAeC,kBACvB,KAAO3lB,KAAKolB,QAAUplB,KAAKolB,OAAO8G,WAAW3zB,QACzCyH,KAAKolB,OAAO6G,YAAYjsB,KAAKolB,OAAOtE,gBAIxC,MAAO9gB,KAAKinB,gBAAkBjnB,KAAKinB,eAAeiF,WAAW3zB,QACzDyH,KAAKinB,eAAegF,YAAYjsB,KAAKinB,eAAenG,WAG5D5kB,GAAc0G,EAAQid,cAAczD,oBAAoBzlB,IACpDiM,EAAQuD,aAAagV,WACrBjf,EAAc0G,EAAQid,cAAc1D,oBAAoBxlB,IAmBhE,GAhBIiM,EAAQ8iB,eAAeC,mBACnB/iB,EAAQ0B,gBAAgB/L,SAAWqK,EAAQ2B,sBAAsBhM,SAC7D2C,IAAU0H,EAAQ2B,sBAAsBhM,OAAS,EACjDqK,EAAQyZ,YAAYnhB,EAAQ,GAAGwL,QAAU1G,KAAKklB,sBAAsBhqB,EAAQ,GACxEqL,EAAYrL,EAAQ,GAAGwL,SAAWH,EAAYrL,GAAOwL,QAGrDxL,IAAU0H,EAAQ0B,gBAAgB/L,OAAS,IAC3CqK,EAAQyZ,YAAYnhB,EAAQ,GAAGwL,QAAU1G,KAAKklB,sBAAsBhqB,EAAQ,GACxEqL,EAAYrL,EAAQ,GAAGwL,SAAWH,EAAYrL,GAAOwL,UAKzE9D,EAAQyZ,YAAYnhB,GAAOwL,QAAU1G,KAAKklB,sBAAsBhqB,GAASqL,EAAYrL,GAAOwL,SAAWH,EAAYrL,GAAOwL,QAC1H9D,EAAQijB,cAAe,EACnBjjB,EAAQ8iB,eAAeC,kBAAmB,CAC1C3lB,KAAK6mB,mBACL,IAAIpB,GAAe,GAAI9c,IAAK4c,EAAYlqB,EAAGkqB,EAAYjqB,EAAGiqB,EAAYztB,MAAOytB,EAAY3sB,OACzFoH,MAAK8mB,kBAAkBrB,OAGvBzlB,MAAKonB,qBAAqBpnB,KAAKwlB,iBAAiB,EAEpD5iB,GAAQid,cAAclG,mBACtB/W,EAAQsqB,iBACJtqB,EAAQ+H,uBAAyB/H,EAAQupB,gBAUjDzI,EAAOxjB,UAAUitB,6BAA+B,WAC5C,GAAIvqB,GAAU5C,KAAK4C,OACnBA,GAAQmZ,gBAAkBnZ,EAAQijB,aAClC7lB,KAAKklB,sBAAyBtiB,EAAQijB,gBAAe7lB,KAAKklB,sBAC1DtiB,EAAQyZ,YAAezZ,EAAQijB,gBAAejjB,EAAQyZ,YACtDrc,KAAKuG,YAAe3D,EAAQijB,gBAAe7lB,KAAKuG,YAChDvG,KAAKilB,gBAAmBriB,EAAQijB,gBAAe7lB,KAAKilB,iBAEjDvB,KCxtCPrkB,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAiB5DysB,GAAyB,SAAUnsB,GAEnC,QAASmsB,KAML,GAAIjmB,GAAmB,OAAXlG,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,IA+BhE,OA7BAmH,GAAMwD,uBAAwB,EAE9BxD,EAAMkV,eAENlV,EAAM0e,cAAe,EAErB1e,EAAMye,UAAW,EAEjBze,EAAM2e,WAAY,EAElB3e,EAAM6e,mBAAuD,WAAlC7e,EAAMue,eAAe3uB,UAA2D,QAAlCoQ,EAAMue,eAAe3uB,SAE9FoQ,EAAMkmB,gBAAiB,EAEvBlmB,EAAMoY,cAAe,EAErBpY,EAAMmmB,6BAENnmB,EAAMomB,uBAENpmB,EAAMqmB,2BAINrmB,EAAM5J,qBAIN4J,EAAMwL,YAAa,EACZxL,EAssCX,MA5uCA9H,IAAU+tB,EAASnsB,GAwCnBmsB,EAAQltB,UAAUutB,UAAY,WAC1BztB,KAAK0tB,sBACL1tB,KAAK2tB,eACL3tB,KAAK4tB,cAETR,EAAQltB,UAAUwtB,oBAAsB,WACpC1tB,KAAK/G,SAAW,GAAIC,eAAY8G,KAAKxE,QAAQ7E,IAC7CqJ,KAAK6K,eAAiB,GAAIgjB,kBAAe7tB,KAAKxE,QAAQ7E,IACtDqJ,KAAKosB,wBAA0B,GAAIyB,kBAAe7tB,KAAKxE,QAAQ7E,GAAK,cACpEqJ,KAAKuR,YAAc,GAAI2D,IAAWlV,MAClCA,KAAK6f,cAAgB,GAAIpG,IAAOzZ,MAChCA,KAAKmV,cAAgB,GAAI7K,IAActK,MACvCA,KAAK8tB,eAAiB,GAAI9L,IAAehiB,MACzCA,KAAK0Z,UAAY,GAAI/W,GAAU3C,MAC/BA,KAAKof,mBAAqB,GAC1Bpf,KAAK+tB,kBAAoB,GACzB/tB,KAAKguB,cAKTZ,EAAQltB,UAAU8tB,WAAa,WAC3BhuB,KAAKmT,KAAO,GAAI8a,yBAEpBb,EAAQltB,UAAUguB,OAAS,WACvBluB,KAAKmuB,6BACLnuB,KAAKgd,QAAQ,QAAUthB,QAASsE,OAChCA,KAAKouB,WACLpuB,KAAKquB,kBACLruB,KAAKsuB,WACLtuB,KAAKuuB,qBACLvuB,KAAKuR,YAAY0E,yBACjBjW,KAAK8tB,eAAe7L,kBAAkBjiB,KAAKwuB,yBAC3CxuB,KAAK5G,YACL4G,KAAK0Z,UAAUrV,qBACfrE,KAAKyuB,kBACLzuB,KAAK0uB,iBACL1uB,KAAK2uB,kBACD3uB,KAAK4uB,eACL5uB,KAAK4uB,cAAcnO,iBAAgB,IAO3C2M,EAAQltB,UAAU2uB,mBAAqB,WACnC7uB,KAAK4E,mBAAqB,KAC1B5E,KAAK+E,mBAAqB,KAC1B/E,KAAKquB,kBACLruB,KAAKuuB,qBACLvuB,KAAKuR,YAAY0E,yBACjBjW,KAAK8tB,eAAe7L,kBAAkBjiB,KAAKwuB,yBAC3CxuB,KAAK0Z,UAAUrV,qBACfrE,KAAKyuB,mBAMTrB,EAAQltB,UAAUmuB,gBAAkB,WAC5BruB,KAAK0S,cACL1S,KAAK0S,cAAcoc,oBAAoB9uB,KAAKoW,YAG5CpW,KAAKwuB,wBAA0BxuB,KAAKoW,YAO5CgX,EAAQltB,UAAU6uB,cAAgB,WACH,WAAvB/uB,KAAKib,cACLjb,KAAK2K,uBAAwB,EAED,SAAvB3K,KAAKib,eACTjb,KAAKwV,gBAAgB,GAAGxG,cAAgBhP,KAAKwV,gBAAgB,GAAGxG,eAAkB,IACnFhP,KAAK2K,uBAAwB,EAG7B3K,KAAK2K,uBAAwB,GAOrCyiB,EAAQltB,UAAUiuB,2BAA6B,WACR,WAA/BnuB,KAAKmG,aAAaC,UACgB,SAAjCpG,KAAKmG,aAAaE,YAA0D,WAAjCrG,KAAKmG,aAAaE,WAGzDrG,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,UAC9C1G,KAAKwG,4BAA6B,GAHlCxG,KAAKwG,4BAA6B,EAKH,WAA/BxG,KAAKmG,aAAaC,UAA0D,iBAAjCpG,KAAKmG,aAAaE,WAC7DrG,KAAK0E,qBAAsB,EAG3B1E,KAAK0E,qBAAsB,GAGnC0oB,EAAQltB,UAAUwuB,eAAiB,WAC/B1uB,KAAKzC,qBACLyC,KAAKgvB,yBACLhvB,KAAKivB,eACLjvB,KAAKkvB,cACLlvB,KAAKuR,YAAY6D,aACbpV,KAAK4uB,eAAiB5uB,KAAK5E,cAC3B4E,KAAK4uB,cAAchO,cAAgB,KACnC5gB,KAAK4uB,cAAcpN,iBAAiBxhB,OAExCA,KAAK6f,cAAclG,mBACf3Z,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,SACtC1G,KAAKwG,6BACRxG,KAAKyG,aAAa0e,oBACgB,UAA9BnlB,KAAKiF,gBAAgBjD,MAAoBhC,KAAK0lB,eAAeC,mBACpB,SAAzC3lB,KAAK0lB,eAAegC,kBACpB1nB,KAAKyG,aAAa+a,iBAAiBxhB,QAO/CotB,EAAQltB,UAAUsgB,cAAgB,WAC9B,MAAO,WAMX4M,EAAQltB,UAAUivB,eAAiB,WAC/B,MAAO,IAEX/B,EAAQltB,UAAUkvB,kBAAoB,SAAUC,EAASC,GAGrD,IAAK,GAFDr2B,IAAW,EACXs2B,GAAgB,EACXl3B,EAAK,EAAGm3B,EAAK/vB,OAAOspB,KAAKsG,GAAUh3B,EAAKm3B,EAAGj3B,OAAQF,IAExD,OADWm3B,EAAGn3B,IAEV,IAAK,gBACD2H,KAAK8lB,WAAY,EACjB7sB,GAAW,CACX,MACJ,KAAK,eACD+G,KAAKmuB,8BACDnuB,KAAKyG,cAAkB4oB,EAAQlpB,aAAaC,WAC5CkpB,EAAQnpB,aAAaC,UAAcipB,EAAQlpB,aAAaE,aAAeipB,EAAQnpB,aAAaE,aAC5FrG,KAAK6lB,cAAe,EACpB7lB,KAAKyG,aAAa0mB,gCAEtBntB,KAAK6uB,qBACLU,GAAgB,CAChB,MACJ,KAAK,cACDA,GAAgB,CAChB,MACJ,KAAK,aACDvvB,KAAK2S,YAAa,EAClB3S,KAAKmuB,6BACDnuB,KAAKwG,6BACLxG,KAAK6lB,cAAe,EACpB7lB,KAAKyG,aAAa0mB,gCAEtBntB,KAAK6uB,qBACL51B,GAAW,CACX,MACJ,KAAK,gBACL,IAAK,QACL,IAAK,SACL,IAAK,SACDs2B,GAAgB,CAChB,MACJ,KAAK,iBACDvvB,KAAKmuB,8BACDnuB,KAAKwG,4BAAiC6oB,EAAQ3J,eAAehf,UAAY4oB,EAAQ5J,eAAehf,SAC/F2oB,EAAQ3J,eAAeC,oBAAsB2J,EAAQ5J,eAAeC,kBAKrE3lB,KAAK6lB,cAAe,GAJpB7lB,KAAK6lB,cAAe,EACpB7lB,KAAKyG,aAAa0mB,gCAKtBoC,GAAgB,CAChB,MACJ,KAAK,QACL,IAAK,QACDvvB,KAAKmuB,6BACDnuB,KAAKwG,6BACLxG,KAAK6lB,cAAe,EACpB7lB,KAAKyG,aAAa0mB,gCAEtBntB,KAAK6uB,qBACLU,GAAgB,CAChB,MACJ,KAAK,kBACDvvB,KAAKmuB,6BACDnuB,KAAKwG,6BACLxG,KAAK6lB,cAAe,EACpB7lB,KAAKyG,aAAa0mB,gCAEtBntB,KAAK0Z,UAAUrV,qBACfrE,KAAKyuB,kBACLx1B,GAAW,CACX,MACJ,KAAK,QACD+G,KAAKsuB,WACLr1B,GAAW,CACX,MACJ,KAAK,kBACG+G,KAAK4uB,gBACL5uB,KAAK4uB,cAAchO,cAAc9Z,KAAO9G,KAAKshB,gBAAgBxa,KAC7D9G,KAAK4uB,cAAchO,cAAczY,OAASnI,KAAKshB,gBAAgBnZ,OAC/DnI,KAAK4uB,cAAchO,cAAc7P,UAAY/Q,KAAKshB,gBAAgBvQ,UAClE/Q,KAAK4uB,cAAchO,cAAc6O,YAK5CF,GAAiBt2B,GAClB+G,KAAK5G,YACL4G,KAAK0uB,iBACL1uB,KAAK2uB,kBACL3uB,KAAKgd,QAAQ,WACbhd,KAAKktB,kBAEAqC,IACLvvB,KAAK5G,YACL4G,KAAK0vB,eACL1vB,KAAK2uB,kBACL3uB,KAAKgd,QAAQ,YAEbhd,KAAKmsB,gBAAkBnsB,KAAKuf,cAC5Bvf,KAAKktB,iBAETltB,KAAK8lB,WAAY,GAMrBsH,EAAQltB,UAAU9G,UAAY,WAC1B4G,KAAK2vB,YACL3vB,KAAK+uB,gBACL/uB,KAAK4vB,gBACA5vB,KAAK2K,uBAWN3K,KAAK7G,UAAY6G,KAAK6K,eAAeglB,cACjCl5B,GAAIqJ,KAAKxE,QAAQ7E,GAAK,UACtBmB,MAAOkI,KAAKhE,cAAclE,MAC1Bc,OAAQoH,KAAKhE,cAAcpD,SAE3BoH,KAAKmsB,gBACLnsB,KAAK8vB,oBAAmB,KAhB5B9vB,KAAK7G,UAAY6G,KAAK/G,SAASG,WAC3BzC,GAAIqJ,KAAKxE,QAAQ7E,GAAK,OACtBmB,MAAOkI,KAAKhE,cAAclE,MAC1Bc,OAAQoH,KAAKhE,cAAcpD,SAEmB,MAA9CoH,KAAKmG,aAAagC,OAAOrQ,MAAM+D,YAAqD,SAA/BmE,KAAKmG,aAAaC,UACvEpG,KAAK7G,UAAUqmB,aAAa,kBAAmB,gBAkB3D4N,EAAQltB,UAAUyvB,UAAY,WAgB1B,GAfIn5B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,uBAC1CkD,SAAOrD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,uBAEjDH,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,yBAC1CkD,SAAOrD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,yBAEjDH,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCAC1CkD,SAAOrD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCAEjDH,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCAC1CkD,SAAOrD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCAEjDH,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,6BAC1CkD,SAAOrD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,6BAEjDqJ,KAAK7G,WACY3C,SAASC,eAAeuJ,KAAK7G,UAAUxC,IACxC,CACZ,KAAOqJ,KAAK7G,UAAU+yB,WAAW3zB,QAC7ByH,KAAK7G,UAAU8yB,YAAYjsB,KAAK7G,UAAU2nB,WAE9CjnB,UAAOmG,KAAK7G,aAIxBi0B,EAAQltB,UAAU8uB,uBAAyB,WACvC,GAAIe,GAAa/vB,KAAKtJ,cAAc,MACpCq5B,GAAWp5B,GAAKqJ,KAAKxE,QAAQ7E,GAAK,qBAClCqJ,KAAKxE,QAAQ3E,YAAYk5B,EACzB,IAAIC,GAAahwB,KAAKtJ,cAAc,OAChCC,GAAIqJ,KAAKxE,QAAQ7E,GAAK,2BACtBmF,OAAQ,iCAEZkE,MAAKxE,QAAQ3E,YAAYm5B,IAO7B5C,EAAQltB,UAAU+vB,gBAAkB,WAChC,GAAIC,KAmBJ,OAlBIlwB,MAAK5E,aACL80B,EAAQ71B,MACJ81B,OAAQ,UACRC,MAAOpwB,QAGXA,KAAK0lB,gBACLwK,EAAQ71B,MACJ81B,OAAQ,SACRC,MAAOpwB,QAGXA,KAAKoW,YACL8Z,EAAQ71B,MACJ81B,OAAQ,UACRC,MAAOpwB,QAGRkwB,GAQX9C,EAAQltB,UAAU6gB,QAAU,WACxB/gB,KAAK2tB,eACL1sB,EAAOf,UAAU6gB,QAAQ3Z,KAAKpH,MAC9BA,KAAKxE,QAAQ1E,UAAY,GACzBkJ,KAAKxE,QAAQ60B,UAAUx2B,OAAO,cAOlCuzB,EAAQltB,UAAUuvB,QAAU,WACxBxuB,EAAOf,UAAUuvB,QAAQroB,KAAKpH,MAC9BA,KAAKxE,QAAQ60B,UAAUC,IAAI,cAM/BlD,EAAQltB,UAAUyuB,gBAAkB,WAC5B3uB,KAAK2K,uBAAyB3K,KAAKmsB,eACnCnsB,KAAK8vB,oBAAmB,GAGxB9vB,KAAKxE,QAAQ3E,YAAYmJ,KAAK7G,YAGtCi0B,EAAQltB,UAAU+uB,aAAe,WAC7BjvB,KAAKmI,QACDrQ,MAAO,EAEX,IACIsQ,GAAO,GAAIF,IAAWlI,KAAKxE,QAAQ7E,GAAK,iBAAkBqJ,KAAKkF,WAAW3P,WAAYyK,KAAKmI,OAAQ,EAAG,GAAIQ,IAAK7Q,EAAWA,EAAWkI,KAAKhE,cAAclE,MADhJ,EAC+JkI,KAAKhE,cAAcpD,OADlL,GAEZoH,MAAKmV,cAAc5K,cAAcnC,EAAMpI,KAAK7G,YAEhDi0B,EAAQltB,UAAU0vB,cAAgB,WAC9B,GAAI93B,GAAQhC,EAAekK,KAAKlI,MAAOkI,KAAKxE,QAAQmwB,cAAgB3rB,KAAKxE,QAAQmwB,aAAe,IAC5F/yB,EAAS9C,EAAekK,KAAKpH,OAAQoH,KAAKxE,QAAQ+0B,eAAiBvwB,KAAKxE,QAAQ+0B,cAAgB,GACpGvwB,MAAKhE,cAAgB,GAAItE,GAAKI,EAAOc,IAEzCw0B,EAAQltB,UAAUgvB,YAAc,WAC5B,GAAIlvB,KAAKjE,cAAc1F,KAAM,CACzB,GAAI4B,GAAa+H,KAAKjE,cAAcgV,UAChC7H,EAAsC,SAA7BjR,EAAWC,cAA2B,QAClB,QAA7BD,EAAWC,cAA0B,MAAQ,QACjD8H,MAAKmS,YAAc/b,EAAY4J,KAAK9F,gBAAgB,GAAIjC,EACxD,IAAIe,GAAU,GAAI4P,IAAW5I,KAAKxE,QAAQ7E,GAAK,gBAAiB,GAAIsS,IAAUpR,EAAemI,KAAKhE,cAAclE,MAAQkI,KAAKypB,OAAOlyB,KAAOyI,KAAKypB,OAAO3vB,MAAOkG,KAAKypB,OAAOlyB,KAAMyI,KAAKypB,OAAO3vB,MAAO7B,GAAa+H,KAAKypB,OAAOnyB,IAAmC,EAA3B0I,KAAKmS,mBAA0B,EAAIjJ,EAAQlJ,KAAK9F,iBAAkBjC,EAAYA,EAAWpC,OAASmK,KAAKkF,WAAW/P,aAClV6K,MAAK9F,gBAAgB3B,OAAS,EAC9ByH,KAAKmV,cAAchK,eAAenS,EAASf,EAAY+H,KAAK7G,YAG5D6G,KAAKmV,cAAcxb,WAAWX,EAASgH,KAAK7G,UAAW6G,KAAK9F,gBAAgB,KAC5B,IAA5C8F,KAAK9F,gBAAgB,GAAGhE,QAAQ,QAAiB8J,KAAK2K,uBACtD3K,KAAKzC,kBAAkBlD,KAAK,GAAIsT,IAAc3N,KAAKjE,cAAc1F,KAAM,GAAIsS,IAAK3I,KAAKypB,OAAOlyB,KAAMyI,KAAKypB,OAAOnyB,IAAK0I,KAAKmS,YAAYra,MAAOkI,KAAKmS,YAAYvZ,aAK5Kw0B,EAAQltB,UAAUswB,aAAe,SAAUhF,EAAOnwB,EAAGC,EAAGG,GACrC+vB,EAAMlrB,OAAO3J,KACTqJ,KAAKxE,QAAQ7E,GAAK,iBAAsB60B,EAAMlrB,OAAOmrB,YAAYv1B,QAAQ,QAAU,EAClGkF,EAAY4E,KAAKjE,cAAc1F,KAAMgF,EAAGC,EAAG0E,KAAKxE,QAAQmwB,YAAa3rB,KAAKxE,QAAQ7E,GAAK,iBAAkBwF,EAAW6D,KAAKxE,QAAQ7E,GAAK,sBAAuB8E,EAASuE,MAGtK9D,EAAc8D,KAAKxE,QAAQ7E,GAAK,mBAGxCy2B,EAAQltB,UAAUuwB,YAAc,SAAUjF,EAAOnwB,EAAGC,EAAGG,GACnD,GAAIiwB,GAAWF,EAAMlrB,OAAO3J,EAC5B,KAA6D,IAAxD+0B,EAASx1B,QAAQ8J,KAAKxE,QAAQ7E,GAAK,kBAC0B,IAA7D+0B,EAASx1B,QAAQ8J,KAAKxE,QAAQ7E,GAAK,uBAC0B,IAA7D+0B,EAASx1B,QAAQ8J,KAAKxE,QAAQ7E,GAAK,qBAA8B,CAClE,GAAI+5B,GAAcpzB,EAAe0C,KAAKzC,kBAAmBlC,EAAGC,EACxDo1B,GACAt1B,EAAYs1B,EAAar1B,EAAGC,EAAG0E,KAAKxE,QAAQmwB,YAAa3rB,KAAKxE,QAAQ7E,GAAK,gBAAiBwF,EAAW6D,KAAKxE,QAAQ7E,GAAK,sBAAuBqJ,KAAKvE,QAASuE,MAG9J9D,EAAc8D,KAAKxE,QAAQ7E,GAAK,qBAIpCuF,GAAc8D,KAAKxE,QAAQ7E,GAAK,kBAGxCy2B,EAAQltB,UAAUywB,cAAgB,SAAUt1B,EAAGC,GAC3C,GAAIskB,MACAgR,IAOJ,OALAhR,GAAiBvlB,KAAK2F,KAAK6f,cAAclF,uBAAuB,GAAG,IACnEiW,EAAgBv2B,KAAK2F,KAAK6f,cAAclF,uBAAuB3a,KAAK+Z,QAAU,GAAG/Z,KAAK8Z,QAAU,IACtFze,GAAKukB,EAAiB,GAAGvkB,GAAKC,GAAKskB,EAAiB,GAAGtkB,GAC7DD,GAAMu1B,EAAgB,GAAGv1B,EAAIu1B,EAAgB,GAAG94B,OAChDwD,GAAMs1B,EAAgB,GAAGt1B,EAAIs1B,EAAgB,GAAGh4B,QAGxDw0B,EAAQltB,UAAUouB,SAAW,WAEzBtuB,KAAKkF,WAAanQ,EAAciL,KAAKhL,QAEzCo4B,EAAQltB,UAAUuuB,gBAAkB,WAChC,GAAIhF,GAASzpB,KAAKypB,OAEdoH,EAAc,EACdxf,EAAWrR,KAAKyG,cAAiD,QAAjCzG,KAAK0lB,eAAe3uB,UACjDiJ,KAAKwG,4BAAqE,QAAtCxG,KAAKjE,cAAcgV,UAAU7Z,KAAiB,EAAI,GACzFK,EAAOkyB,EAAOlyB,KACdO,EAAQkI,KAAKhE,cAAclE,MAAQP,EAAOkyB,EAAO3vB,KACjDkG,MAAKjE,cAAc1F,OACnB2J,KAAK9F,gBAAkBF,EAASgG,KAAKjE,cAAc1F,KAAM2J,KAAKjE,cAAcgV,UAAWjZ,GACvF+4B,EAAez6B,EAAY4J,KAAKjE,cAAc1F,KAAM2J,KAAKjE,cAAcgV,WAAWnY,OAASoH,KAAK9F,gBAAgB3B,OAC5G8Y,EAER,IAAI/Z,GAAMmyB,EAAOnyB,IAAMu5B,CACvB7wB,MAAK8wB,UAAY,GAAInoB,IAAK8gB,EAAOlyB,KAAMkyB,EAAOnyB,IAAK0I,KAAKhE,cAAclE,MAAQ2xB,EAAOlyB,KAAOkyB,EAAO3vB,MAAO+2B,EAC1G,IAAIj4B,GAASoH,KAAKhE,cAAcpD,OAAStB,EAAMmyB,EAAO1vB,MACtDiG,MAAKpE,gBAAkB,GAAI+M,IAAKpR,EAAMD,EAAKQ,EAAOc,EAClD,IAAI0wB,GAAYtpB,KAAKpE,gBAAgBN,CACjC0E,MAAKyG,cAAgBzG,KAAK0lB,eAAehf,SAAW1G,KAAKwG,4BACzDxG,KAAKyG,aAAauiB,sBAAsBhpB,KAAKpE,iBAEjDoE,KAAKuR,YAAYiF,YAAYxW,KAAKpE,iBAC9BoE,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,SAAW1G,KAAKwG,4BACzDxG,KAAKyG,aAAa4iB,oBAAoBrpB,KAAKpE,gBAAiB0tB,GAEhEtpB,KAAKuR,YAAYkF,kBAAkBzW,KAAKpE,kBAE5CwxB,EAAQltB,UAAUwvB,aAAe,WAC7B1vB,KAAKmuB,6BACLnuB,KAAKyuB,kBACLzuB,KAAK0uB,kBAETtB,EAAQltB,UAAUkuB,SAAW,WACzB,GAAIve,GACA0F,GAAQvV,KAAKwc,MAAOxc,KAAK6a,MAC7B7a,MAAKwV,kBACL,KAAK,GAAI1a,GAAI,EAAGC,EAAMwa,EAAKhd,OAAQuC,EAAIC,EAAKD,KACxC+U,EAAO0F,EAAKza,IACPuV,YAAqB,IAANvV,EAAW,aAAe,WAC9C+U,EAAKN,iBACLvP,KAAKwV,gBAAgBnb,KAAKwV,IAMlCud,EAAQltB,UAAU0tB,WAAa,WAE3B,GAAImD,GAAgBtZ,UAAQuZ,UACxB9mB,EAAQuN,UAAQwZ,gBAChBC,EAAOzZ,UAAQ0Z,cACfC,EAAO3Z,UAAQ4Z,eACfvU,EAASiU,EAAgB,eAAiB,YAC9CO,gBAAahB,IAAItwB,KAAKxE,QAASic,UAAQ8Z,SAAWrnB,EAAQ,QAASlK,KAAKwxB,kBAAmBxxB,MAC3FsxB,eAAahB,IAAItwB,KAAKxE,QAAS0O,EAAOlK,KAAKyxB,iBAAkBzxB,MAC7DsxB,eAAahB,IAAItwB,KAAKxE,QAAS01B,EAAMlxB,KAAK0xB,kBAAmB1xB,MAC7DsxB,eAAahB,IAAItwB,KAAKxE,QAAS41B,EAAMpxB,KAAKyxB,iBAAkBzxB,MAC5DsxB,eAAahB,IAAItwB,KAAKxE,QAASshB,EAAQ9c,KAAK0xB,kBAAmB1xB,MAC/DpC,OAAO+zB,iBAAkBla,UAAQhc,SAAY,eAAiBmC,SAAU,uBAAyBA,QAAW,oBAAsB,SAAUoC,KAAK4xB,cAAcC,KAAK7xB,OACpKA,KAAK8xB,SAAS9xB,KAAKxE,UAKvB4xB,EAAQltB,UAAU4xB,SAAW,SAAUt2B,GACnCA,EAAQvG,MAAM88B,YAAc,UAC5Bv2B,EAAQvG,MAAM+8B,cAAgB,UAC9Bx2B,EAAQvG,MAAMg9B,iBAAmB,OACjCz2B,EAAQvG,MAAMi9B,aAAe,OAC7B12B,EAAQvG,MAAMk9B,iBAAmB,OACjC32B,EAAQvG,MAAM8B,SAAW,WACzByE,EAAQvG,MAAMm9B,QAAU,SAK5BhF,EAAQltB,UAAUytB,aAAe,WAE7B,GAAIoD,GAAgBtZ,UAAQuZ,UACxB9mB,EAAQuN,UAAQwZ,gBAEhBG,GADO3Z,UAAQ0Z,cACR1Z,UAAQ4Z,gBACfvU,EAASiU,EAAgB,eAAiB,YAC9CO,gBAAaz3B,OAAOmG,KAAKxE,QAASic,UAAQ8Z,SAAWrnB,EAAQ,QAASlK,KAAKwxB,mBAC3EF,eAAaz3B,OAAOmG,KAAKxE,QAAS0O,EAAOlK,KAAKyxB,kBAC9CH,eAAaz3B,OAAOmG,KAAKxE,QAAS41B,EAAMpxB,KAAK0xB,mBAC7CJ,eAAaz3B,OAAOmG,KAAKxE,QAAS41B,EAAMpxB,KAAKyxB,kBAC7CH,eAAaz3B,OAAOmG,KAAKxE,QAASshB,EAAQ9c,KAAK0xB,mBAC/C9zB,OAAOy0B,oBAAqB5a,UAAQhc,SAAY,eAAiBmC,SAAU,uBAAyBA,QAAW,oBAAsB,SAAUoC,KAAK4xB,gBAOxJxE,EAAQltB,UAAU0xB,cAAgB,SAAUrJ,GACxC,GAAIphB,GAAQnH,IACZA,MAAK4lB,UAAW,CAChB,IAAI/I,IACAnhB,QAASsE,KACT8c,QAAQ,EACRC,KAAM,UACNuV,YAAa,GAAI56B,GAAK,EAAG,GACzB66B,aAAc,GAAI76B,GAAKsI,KAAKhE,cAAclE,MAAOkI,KAAKhE,cAAcpD,QAmBxE,OAjBAoH,MAAKktB,iBACDltB,KAAKwyB,aACLC,aAAazyB,KAAKwyB,aAEtBxyB,KAAKwyB,YAAcv2B,WAAW,WAC1B,GAAIkL,EAAMurB,YAEN,WADAD,cAAatrB,EAAMqrB,YAGvBrrB,GAAM/N,YACNyjB,EAAQyV,YAAcnrB,EAAMnL,cAC5BmL,EAAM6V,QAAQ,UAAWH,GACzB1V,EAAMuoB,eACNvoB,EAAMwnB,kBACNxnB,EAAM6V,QAAQ,UAAYthB,QAASyL,IACnCA,EAAMye,UAAW,GAClB,MACI,GAMXwH,EAAQltB,UAAUquB,mBAAqB,WACnC,GAAInY,GAAapW,KAAKwuB,uBACtB,IAAIpY,GAAcA,EAAW7d,OAAS,EAAG,CAGrC,IAAK,GAFDo6B,GAAWvc,EAAW7d,OAAS,EAC/Bq6B,EAAW,EACN93B,EAAI,EAAGA,GAAK63B,EAAU73B,IAAK,CAChC,GAAI+3B,GAAWzc,EAAWtb,GAAGvC,MAC7Bq6B,GAAWA,EAAWC,EAAWD,EAAWC,EAEhD7yB,KAAKwV,gBAAgB,GAAGrG,UAAYwjB,EACpC3yB,KAAKwV,gBAAgB,GAAGrG,UAAYyjB,EAAW,MAG/C5yB,MAAKwV,gBAAgB,GAAGrG,UAAY,EACpCnP,KAAKwV,gBAAgB,GAAGrG,UAAY,GAM5Cie,EAAQltB,UAAU4yB,WAAa,SAAUtK,EAAOC,GAC5C,GACIsK,GADA3qB,EAAOpI,KAAKxE,QAAQ5B,uBAGpBm5B,GADA/yB,KAAK2K,sBACWnU,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,WAAWiD,wBAGrDpD,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,QAAQiD,wBAEtEoG,KAAKsrB,OAAU9C,EAAQpgB,EAAK7Q,KAAQmF,KAAK2S,IAAI0jB,EAAcx7B,KAAO6Q,EAAK7Q,KAAM,GAC7EyI,KAAKurB,OAAU9C,EAAQrgB,EAAK9Q,IAAOoF,KAAK2S,IAAI0jB,EAAcz7B,IAAM8Q,EAAK9Q,IAAK,IAE9E81B,EAAQltB,UAAUsxB,kBAAoB,SAAUjJ,GAC5C,GAAIC,GACAC,EAEAuK,EACAC,EAAcjzB,KAAKxE,QAAQ5B,uBAe/B,IAde,eAAX2uB,EAAEvmB,MACFhC,KAAKvE,SAAU,EAEfgtB,GADAuK,EAAWzK,GACM2K,eAAe,GAAGC,QACnC3K,EAAQwK,EAASE,eAAe,GAAGE,UAGnCpzB,KAAKvE,SAAU,EACfgtB,EAAQF,EAAE4K,QACV3K,EAAQD,EAAE6K,SAEd5K,GAASyK,EAAY17B,KACrBkxB,GAASwK,EAAY37B,IACD0I,KAAK2wB,cAAcnI,EAAOC,GAC3B,CACf,GAAI9I,GAAc3f,KAAK6f,cAAcH,eAAe8I,EAAOC,EAC3DzoB,MAAKgd,QAAQ,aACTthB,QAASsE,KACTjK,MAAO4pB,EAAY5pB,MACnBsF,EAAGskB,EAAYtkB,EACfC,EAAGqkB,EAAYrkB,EACfyM,OAAQ/H,KAAK6f,cAAcG,gBAC3BhY,OAAQhI,KAAK6f,cAAcK,gBAC3BxY,OAAQ1H,KAAK6f,cAAcI,gBAC3BtY,OAAQ3H,KAAK6f,cAAcM,gBAC3BlY,YAAajI,KAAK2K,sBAAwB,KAAOnU,SAASC,eAAekpB,EAAYhpB,MAI7F,GADAqJ,KAAKqzB,OAAO,QAAS9K,GACa,aAA9BvoB,KAAKiF,gBAAgBjD,MAAuBhC,KAAKyG,cAC9CzG,KAAK0lB,eAAehf,SAAW1G,KAAKwG,2BAA4B,CACnE,GAAIulB,GAAO/rB,KAAKyG,aAAa+d,qBACzBuH,GAAKxzB,QAAUiwB,EAAQuD,EAAK,GAAG1wB,GAAKmtB,EAAQuD,EAAK,GAAG1wB,EAAI0wB,EAAK,GAAGj0B,OAChE2wB,EAAQsD,EAAK,GAAGzwB,GAAKmtB,EAAQsD,EAAK,GAAGzwB,EAAIywB,EAAK,GAAGnzB,OACjDoH,KAAKyG,aAAaqlB,cAAc9rB,KAAMA,KAAKyG,aAAa4H,aAAa,GAEhE0d,EAAKxzB,QAAUiwB,EAAQuD,EAAK,GAAG1wB,GAAKmtB,EAAQuD,EAAK,GAAG1wB,EAAI0wB,EAAK,GAAGj0B,OACrE2wB,EAAQsD,EAAK,GAAGzwB,GAAKmtB,EAAQsD,EAAK,GAAGzwB,EAAIywB,EAAK,GAAGnzB,QACjDoH,KAAKyG,aAAaqlB,cAAc9rB,KAAMA,KAAKyG,aAAa4H,aAAa,EAKzE,KAAK,GAHD9H,GAAcvG,KAAKyG,aAAaF,YAChC0e,EAAkBjlB,KAAKyG,aAAawe,gBACpCqO,GAAO,EACFx4B,EAAI,EAAGA,EAAIyL,EAAYhO,OAAQuC,IAChCkF,KAAKyG,cAAgBzG,KAAK0lB,eAAe6N,kBACzCvzB,KAAKyG,aAAa4H,cAAgB9H,EAAYzL,GAAGuT,cAC5CilB,GAAS9K,GAASjiB,EAAYzL,GAAGO,GAAKmtB,GAASjiB,EAAYzL,GAAGhD,MAAQyO,EAAYzL,GAAGO,GACrFotB,GAASliB,EAAYzL,GAAGQ,GAAKmtB,GAASliB,EAAYzL,GAAGQ,EAAIiL,EAAYzL,GAAGlC,QACvEoH,KAAK0lB,eAAevK,WAAsD,SAAzCnb,KAAK0lB,eAAegC,kBACnDc,GAASvD,EAAgBnqB,GAAGO,GAAKmtB,GAASvD,EAAgBnqB,GAAGhD,MAAQmtB,EAAgBnqB,GAAGO,GACvFotB,GAASxD,EAAgBnqB,GAAGQ,GAAKmtB,GAASxD,EAAgBnqB,GAAGQ,EAAI2pB,EAAgBnqB,GAAGlC,UACzFoH,KAAKyG,aAAawmB,qBAAqBnyB,GACvCw4B,GAAO,GAKvB,OAAO,GAOXlG,EAAQltB,UAAUuxB,iBAAmB,SAAUlJ,GAC3C,GAAIC,GACAC,EACAiI,EACAsC,EACAC,EAAcjzB,KAAKxE,QAAQ5B,uBAe/B,IAde,cAAX2uB,EAAEvmB,MAAmC,eAAXumB,EAAEvmB,MAC5BhC,KAAKvE,SAAU,EAEf+sB,GADAwK,EAAWzK,GACM2K,eAAe,GAAGE,QACnC3K,EAAQuK,EAASE,eAAe,GAAGC,UAGnCnzB,KAAKvE,SAAU,EACf+sB,EAAQD,EAAE6K,QACV3K,EAAQF,EAAE4K,SAEd3K,GAASyK,EAAY17B,KACrBkxB,GAASwK,EAAY37B,IACrB0I,KAAK8yB,WAAWtK,EAAOC,GACnBF,EAAEjoB,QAAUioB,EAAEjoB,OAAO3J,GAAI,CACzB,GAAI68B,GAAgBxzB,KAAK2wB,cAAcnI,EAAOC,EAC1CzoB,MAAKyG,eACD+sB,EACkC,aAA9BxzB,KAAKiF,gBAAgBjD,MACrBhC,KAAK0lB,eAAe+N,qBAAuBzzB,KAAK0lB,eAAehf,SAAW1G,KAAKwG,4BAC/ExG,KAAKyG,aAAa6hB,sBAAsBC,EAAGC,EAAOC,GAItDzoB,KAAKyG,aAAaoiB,wBAEtB7oB,KAAK0zB,mBAAmBlL,EAAOC,GAEnC,IAAIkL,OAAgB,GAChBhU,MAAc,EAWlB,IAVAgU,KAAgB3zB,KAAK5E,cAAe4E,KAAK4uB,gBAAgB4E,EACrDA,IACA7T,EAAc3f,KAAK6f,cAAcH,eAAe8I,EAAOC,GACvDkL,EAAgB3zB,KAAK4zB,yBAAyBrL,EAAG5I,EAAa6I,EAAOC,EAAOkL,IAEhF3zB,KAAK6zB,mBAAmBtL,EAAG5I,EAAagU,GACpC3zB,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,SAAyC,UAA9B1G,KAAKiF,gBAAgBjD,MACzEhC,KAAK0lB,eAAeC,mBAA8D,SAAzC3lB,KAAK0lB,eAAegC,kBAC7D1nB,KAAKyG,aAAaua,cAAcwH,EAAOC,GAEtCzoB,KAAK2K,sBASL,CACDsoB,EAAcjzB,KAAKxE,QAAQ5B,uBAC3B,IAAIk6B,GAA6C,UAA9B9zB,KAAKiF,gBAAgBjD,OAAoBhC,KAAK0lB,eAAeC,mBACnC,SAAzC3lB,KAAK0lB,eAAegC,kBACxBgJ,EAAcpzB,EAAe0C,KAAKzC,kBAAmBirB,EAAOC,IACvDzoB,KAAKyG,cAAgBqtB,GAAex2B,EAAe0C,KAAKyG,aAAake,mBAAoB6D,EAAOC,IAEjGrtB,EAAYs1B,EAAalI,EAAOC,EAAOzoB,KAAKxE,QAAQmwB,YAAa3rB,KAAKxE,QAAQ7E,GAAK,kBAAmBwF,EAAW6D,KAAKxE,QAAQ7E,GAAK,sBAAuBqJ,KAAKvE,QAASuE,MAGxK9D,EAAc8D,KAAKxE,QAAQ7E,GAAK,uBAlBhCqJ,MAAKjE,cAAc1F,MAAsD,SAA9C2J,KAAKjE,cAAcgV,UAAU5W,cACxD6F,KAAKwwB,aAAajI,EAAGC,EAAOC,EAAOzoB,KAAKvE,SAE5CuE,KAAKywB,YAAYlI,EAAGC,EAAOC,EAAOzoB,KAAKvE,SACnCuE,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,SAAW1G,KAAK0lB,eAAevK,WAAanb,KAAKwG,4BAC1FxG,KAAKyG,aAAa4kB,yBAAyB9C,GAiBvD,OAAO,GAKX6E,EAAQltB,UAAU0zB,yBAA2B,SAAUrL,EAAG5I,EAAa6I,EAAOC,EAAOkL,GAajF,OAZoC,SAA/B3zB,KAAKmG,aAAaC,UAAkC,cAAXmiB,EAAEvmB,MAAmC,eAAXumB,EAAEvmB,MAC3D,gBAAXumB,EAAEvmB,OAA2BhC,KAAKmsB,iBAClCnsB,KAAK+zB,aAAepU,EACpB3f,KAAKqtB,gBAAiB,EACtBrtB,KAAKuf,cAAe,EACpBvf,KAAKg0B,aAAexL,EACpBxoB,KAAKi0B,aAAexL,GAEW,SAA/BzoB,KAAKmG,aAAaC,UAAuBpG,KAAKqtB,gBAAkB1N,IAChE3f,KAAKk0B,uBAAuBl0B,KAAK+zB,aAAcpU,EAAa6I,EAAOC,GACnEkL,GAAgB,GAEbA,GAKXvG,EAAQltB,UAAU2zB,mBAAqB,SAAUtL,EAAG5I,EAAagU,GAC7D,GAAIxsB,GAAQnH,IACR2zB,GACI3zB,KAAK+tB,oBAAsBpO,EAAYhpB,KACnCqJ,KAAK5E,eACA4E,KAAKmG,aAAakZ,wBAA2Brf,KAAK4uB,eAAiB5uB,KAAK5E,eACrE4E,KAAK2K,uBACT3K,KAAK6f,cAAcZ,iBAAiBU,EAAYhpB,IAEpDqJ,KAAK4uB,cAAc9M,cAAcnC,GAC7B3f,KAAKvE,UACDuE,KAAKm0B,cACLv2B,OAAO60B,aAAazyB,KAAKm0B,cAE7Bn0B,KAAKm0B,aAAel4B,WAAW,WAC3BkL,EAAMynB,cAAchO,cAAcC,UAClC1Z,EAAMynB,cAAcrO,WAAY,GACjC,MACY,cAAXgI,EAAEvmB,MACFumB,EAAE6L,mBAIdp0B,KAAK+tB,kBAAoBpO,EAAYhpB,MAIG,IAAxC4xB,EAAEjoB,OAAO3J,GAAGT,QAAQ,kBACf8J,KAAKmG,aAAakZ,yBAA0Brf,KAAK5E,aAAiB4E,KAAK2K,uBACxE3K,KAAK6f,cAAcZ,iBAAiBsJ,EAAEjoB,OAAO3J,IAE7CqJ,KAAK4uB,eAAiB5uB,KAAK5E,aAC3B4E,KAAK4uB,cAAcnO,iBAAgB,GAAO,IAGlDzgB,KAAK+tB,kBAAoB,KAMjCX,EAAQltB,UAAUg0B,uBAAyB,SAAUH,EAAcpU,EAAa6I,EAAOC,GACnF,GAAI4L,GAAUN,EAAavsB,OACvB8sB,EAAUP,EAAatsB,OACvB8sB,EAAU5U,EAAYnY,OACtBgtB,EAAU7U,EAAYlY,OACtBD,EAAS9K,KAAKiV,IAAKgO,EAAYnY,SAAWusB,EAAavsB,OAAS,EAAImY,EAAYnY,OAASusB,EAAavsB,QAAW,EACjHC,EAAS/K,KAAKiV,IAAKgO,EAAYlY,SAAWssB,EAAatsB,OAAS,EAAIkY,EAAYlY,OAASssB,EAAatsB,QAAW,EACjHgtB,EAAOF,EAAUF,EAAUA,EAAUE,EACrCG,EAAOH,EAAUF,EAAUE,EAAUF,EACrCM,EAAOH,EAAUF,EAAUA,EAAUE,EACrCI,EAAOJ,EAAUF,EAAUE,EAAUF,EACrCpa,EAAQua,EACRta,EAAQwa,EACRE,EAAQd,EAAa14B,EACrBy5B,EAAQf,EAAaz4B,CACzB0E,MAAK+0B,kBAAoB,GAAIpsB,IAAK,EAAG,EAAG,EAAG,GAC3C3I,KAAK+0B,kBAAkB15B,EAAI04B,EAAa14B,EAAIskB,EAAYtkB,EAAIskB,EAAYtkB,EAAI04B,EAAa14B,EACzF2E,KAAK+0B,kBAAkBz5B,EAAIy4B,EAAaz4B,EAAIqkB,EAAYrkB,EAAIqkB,EAAYrkB,EAAIy4B,EAAaz4B,EACzF0E,KAAK+0B,kBAAkBj9B,OACI,GADMi8B,EAAa14B,EAAIskB,EAAYtkB,EAAKg5B,EAAUE,EACxEA,EAAUF,IAAiB1U,EAAY7nB,MAC5CkI,KAAK+0B,kBAAkBn8B,QACI,GADOm7B,EAAaz4B,EAAIqkB,EAAYrkB,EAAKg5B,EAAUE,EACzEA,EAAUF,IAAiB3U,EAAY/mB,OAC5CoH,KAAKg1B,4BACLh1B,KAAKutB,sBACL,KAAK,GAAIzyB,GAAI,EAAGA,EAAK0M,EAASC,EAAS3M,IACnCkF,KAAKi1B,qBAAqBJ,EAAOC,GAC7B5a,EAAQwa,GACRG,GAASN,EAAUF,EAAU1U,EAAY7nB,OAAS6nB,EAAY7nB,MAC9DoiB,KAEKC,EAAQya,IACbE,GAASN,EAAUF,EAAU3U,EAAY/mB,QAAU+mB,EAAY/mB,OAC/Di8B,EAAQd,EAAa14B,EACrB6e,EAAQua,EAGhB,IAAIp5B,GAAI2E,KAAKg0B,aAAexL,EAAQA,EAAQxoB,KAAKg0B,aAC7C14B,EAAI0E,KAAKi0B,aAAexL,EAAQA,EAAQzoB,KAAKi0B,aAC7CiB,EAAY1+B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,2BAC1Du+B,GAAUjgC,MAAMsC,KAAQyI,KAAK+0B,kBAAkB15B,EAAI,EAAK,KACxD65B,EAAUjgC,MAAMqC,IAAO0I,KAAK+0B,kBAAkBz5B,EAAI,EAAK,IACvD,IAAInC,GAAY6G,KAAK/G,SAASG,WAC1BzC,GAAIqJ,KAAKxE,QAAQ7E,GAAK,+BACtBmB,MAAOkI,KAAK+0B,kBAAkBj9B,MAAQ,EACtCc,OAAQoH,KAAK+0B,kBAAkBn8B,OAAS,GAE5Cs8B,GAAUr+B,YAAYsC,EACtB,IAAI6c,GAASxf,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCACnDyR,EAAO,GAAIO,IAAKtN,EAAI2E,KAAK+0B,kBAAkB15B,EAAGC,EAAI0E,KAAK+0B,kBAAkBz5B,EAAGoB,KAAKiV,IAAI6W,EAAQxoB,KAAKg0B,cAAet3B,KAAKiV,IAAI8W,EAAQzoB,KAAKi0B,eACvI5O,EAAY,GAAInd,IAAWlI,KAAKxE,QAAQ7E,GAAK,iBAAkB,WAAad,MAAO,cAAeiC,MAAO,GAAK,EAAGsQ,EAAM,UAC3H4N,GAAOnf,YAAYmJ,KAAK/G,SAASsR,cAAc8a,IAC/C7uB,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,kBAAkB1B,MAAMgS,QAAU,OAKhFmmB,EAAQltB,UAAU80B,0BAA4B,WAC1C,GAAKh1B,KAAK2K,sBAiBL,CACD,GAAIiB,GAAM5L,KAAKosB,wBAAwBxgB,IACnCxD,EAAOpI,KAAKstB,0BAA0B,EACtCttB,MAAKstB,0BAA0B/0B,OAAS,IACxCqT,EAAIE,OACJF,EAAI4gB,UAAUpkB,EAAK/M,EAAI,EAAG+M,EAAK9M,EAAI,EAAG8M,EAAKtQ,MAAQ,EAAGsQ,EAAKxP,OAAS,GACpEgT,EAAIU,UACJtM,KAAKstB,0BAA0B6H,aAvBnC,KAAK,GAAIr6B,GAAI,EAAGA,EAAIkF,KAAKutB,oBAAoBh1B,OAAQuC,IAAK,CACtD,GAAIs6B,GAAcp1B,KAAKutB,oBAAoBzyB,GAAGmN,WAC9C,IAAImtB,EAAa,CACb,GAAIl6B,GAAQk6B,EAAYz+B,GAAGgmB,OAAO3c,KAAKxE,QAAQ7E,GAAK,iBAAiB4B,QACjE88B,EAAc7+B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,sBAAwBuE,GAChFo6B,EAAmBF,EAAYG,aAAa,QAC5Cv1B,MAAKwtB,wBAAwBj1B,OAAS,IACtC68B,EAAY5V,aAAa,UAAW,OAChCxf,KAAKmG,aAAagV,WAAaka,GAC/BA,EAAY7V,aAAa,UAAW,QAG5Cxf,KAAKw1B,eAAeJ,EAAaE,IAczCt1B,KAAKxE,QAAQ7E,GACbuF,EAAc8D,KAAKxE,QAAQ7E,GAAK,yBAMxCy2B,EAAQltB,UAAUu1B,8BAAgC,SAAUrtB,GACxD,GAAIqkB,GAAYj2B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,WACtD+1B,EAAYl2B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,qBACtD01B,EAAcrsB,KAAKpE,gBACnB+wB,EAAYF,EAAUG,WAAW,MAAMC,aAAazkB,EAAK/M,EAAG+M,EAAK9M,EAAG8M,EAAKtQ,MAAOsQ,EAAKxP,OACzF8zB,GAAUE,WAAW,MAAME,aAAaH,EAAWvkB,EAAK/M,EAAG+M,EAAK9M,GAChEmxB,EAAUx3B,MAAMgS,QAAU,KAC1B,IAAIyuB,GAAcjJ,EAAUG,WAAW,MAAMC,aAAa,EAAG,EAAG7sB,KAAKhE,cAAclE,MAAOu0B,EAAY/wB,EACtGoxB,GAAUE,WAAW,MAAME,aAAa4I,EAAa,EAAG,EACxD,IAAIC,GAAiBlJ,EAAUG,WAAW,MAAMC,aAAa,EAAGR,EAAY/wB,EAAI+wB,EAAYzzB,OAAQoH,KAAKhE,cAAclE,MAAOkI,KAAKhE,cAAcpD,QAAUyzB,EAAY/wB,EAAI+wB,EAAYzzB,QACvL8zB,GAAUE,WAAW,MAAME,aAAa6I,EAAgB,EAAGtJ,EAAY/wB,EAAI+wB,EAAYzzB,OACvF,IAAIg9B,GAAgBnJ,EAAUG,WAAW,MAAMC,aAAaR,EAAYhxB,EAAIgxB,EAAYv0B,MAAO,EAAGkI,KAAKhE,cAAclE,OAASu0B,EAAYhxB,EAAIgxB,EAAYv0B,OAAQkI,KAAKhE,cAAcpD,OACrL8zB,GAAUE,WAAW,MAAME,aAAa8I,EAAevJ,EAAYhxB,EAAIgxB,EAAYv0B,MAAO,EAC1F,IAAI+9B,GAAepJ,EAAUG,WAAW,MAAMC,aAAa,EAAG,EAAGR,EAAYhxB,EAAG2E,KAAKhE,cAAcpD,OACnG8zB,GAAUE,WAAW,MAAME,aAAa+I,EAAc,EAAG,IAK7DzI,EAAQltB,UAAU+0B,qBAAuB,SAAUJ,EAAOC,GACtD,GAAItY,GAAQxc,KAAKwV,gBAAgB,GAC7BqF,EAAQ7a,KAAKwV,gBAAgB,GAC7BiH,EAAUD,EAAM1N,cAChB4N,EAAU7B,EAAM/L,cAAc6N,QAAQrJ,UACtC0H,EAAehb,KAAK6f,cAAcH,eAAemV,EAAQ,EAAGC,EAAQ,GACpEnV,EAAcnpB,SAASC,eAAeukB,EAAarkB,IACnDm/B,EAAc,GAAIhuB,GAAoB,KAAM,GAAI,GAAI,EAAG,EAAG,KAC9DguB,GAAY//B,MAAQilB,EAAajlB,MACjC+/B,EAAY/tB,OAAS0U,EAAQzB,EAAaxT,QAAQ3L,WAClDi6B,EAAY9tB,OAAS0U,EAAQ1B,EAAavT,QAAQ5L,WAClDi6B,EAAYpuB,OAAS8U,EAAMzN,WAAWiM,EAAaxT,QACnDsuB,EAAYnuB,OAASkT,EAAM9L,WAAW4N,QAAQrJ,UAAU0H,EAAavT,QACrEquB,EAAY7tB,YAAcjI,KAAK2K,sBAAwB,KAAOgV,EAC9D3f,KAAK+1B,YAAYpW,GACb3E,EAAatU,UAAYX,oBAAkBiV,EAAajlB,QACxDiK,KAAKutB,oBAAoBlzB,KAAKy7B,IAOtC1I,EAAQltB,UAAU61B,YAAc,SAAUv6B,GACtC,IAAKwE,KAAK2K,sBAAuB,CAC7B,GAAIqrB,GAAYh2B,KAAKxE,QAAQ7E,GAAK,WAClC6E,GAAQgkB,aAAa,QAASwW,KAOtC5I,EAAQltB,UAAUs1B,eAAiB,SAAUJ,EAAaY,GAClDA,GACAZ,EAAY5V,aAAa,QAASwW,EAAUn3B,QAAQm3B,EAAW,MAMvE5I,EAAQltB,UAAUgtB,eAAiB,WAC/B,GAAKltB,KAAK2K,sBAcL,CACD,GAAI3K,KAAKstB,0BAA0B/0B,OAAS,EAAG,CAC3C,GAAIqT,GAAM5L,KAAKosB,wBAAwBxgB,GACvCA,GAAIE,OACJF,EAAI4gB,UAAUxsB,KAAKstB,0BAA0B,GAAGjyB,EAAI,EAAG2E,KAAKstB,0BAA0B,GAAGhyB,EAAI,EAAG0E,KAAKstB,0BAA0B,GAAGx1B,MAAQ,EAAGkI,KAAKstB,0BAA0B,GAAG10B,OAAS,GACxLgT,EAAIU,UAEK9V,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,WAChD1B,MAAMgS,QAAU,QAnBvB,KAAK,GAFDmB,GAAO5R,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,wBACjDN,EAAOG,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,wBAC5CmE,EAAI,EAAGA,EAAIsN,EAAK8jB,WAAW3zB,OAAQuC,IAAK,CAC7C,GAAIw6B,GAAmBltB,EAAK8jB,WAAWpxB,GAAGy6B,aAAa,QACnDD,KAAqBt1B,KAAKxE,QAAQ7E,GAAK,aACvCqJ,KAAKw1B,eAAeptB,EAAK8jB,WAAWpxB,GAAIw6B,GAE5CltB,EAAK8jB,WAAWpxB,GAAG0kB,aAAa,UAAW,KACvCxf,KAAKmG,aAAagV,WAAa9kB,GAAQA,EAAK61B,WAAWpxB,IACvDzE,EAAK61B,WAAWpxB,GAAG0kB,aAAa,UAAW,KAcvDxf,KAAKwtB,2BACLxtB,KAAKutB,uBACLvtB,KAAKuf,cAAe,EAChBvf,KAAKxE,QAAQ7E,GACbuF,EAAc8D,KAAKxE,QAAQ7E,GAAK,yBAGxCy2B,EAAQltB,UAAUwzB,mBAAqB,SAAUlL,EAAOC,GAIpD,IAAK,GAHDliB,GAAcvG,KAAKyG,aAAaF,YAChC0e,EAAkBjlB,KAAKyG,aAAawe,gBACpCqO,GAAO,EACFx4B,EAAI,EAAGA,EAAIyL,EAAYhO,OAAQuC,IAChCkF,KAAK0lB,eAAe6N,kBAAoBvzB,KAAKyG,aAAa4H,cAAgB9H,EAAYzL,GAAGuT,cACpFilB,GAAS9K,GAASjiB,EAAYzL,GAAGO,GAAKmtB,GAASjiB,EAAYzL,GAAGhD,MAAQyO,EAAYzL,GAAGO,GACrFotB,GAASliB,EAAYzL,GAAGQ,GAAKmtB,GAASliB,EAAYzL,GAAGQ,EAAIiL,EAAYzL,GAAGlC,QACvEoH,KAAK0lB,eAAevK,WAAsD,SAAzCnb,KAAK0lB,eAAegC,kBACnDc,GAASvD,EAAgBnqB,GAAGO,GAAKmtB,GAASvD,EAAgBnqB,GAAGhD,MAAQmtB,EAAgBnqB,GAAGO,GACvFotB,GAASxD,EAAgBnqB,GAAGQ,GAAKmtB,GAASxD,EAAgBnqB,GAAGQ,EAAI2pB,EAAgBnqB,GAAGlC,QACrFoH,KAAK2K,sBACLnU,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,WAAW1B,MAAMghC,OAAS,UAGpEz/B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,QAAQ1B,MAAMghC,OAAS,UAErE3C,GAAO,GAEFA,IACDtzB,KAAK2K,sBACLnU,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,WAAW1B,MAAMghC,OAAS,GAGpEz/B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,QAAQ1B,MAAMghC,OAAS,MAWrF7I,EAAQltB,UAAUwxB,kBAAoB,SAAUnJ,GAC5C,GAAIphB,GAAQnH,IAMZ,IALIuoB,EAAEjoB,QAAUioB,EAAEjoB,OAAO3J,KACpBqJ,KAAKmG,aAAakZ,wBAA2Brf,KAAK4uB,eAAiB5uB,KAAK5E,eACrE4E,KAAK2K,uBACT3K,KAAK6f,cAAcZ,iBAAiBjf,KAAK+tB,mBAEzC/tB,KAAKmsB,gBAAkBnsB,KAAKqtB,eAE5B,GADArtB,KAAKqtB,gBAAiB,EACP,YAAX9E,EAAEvmB,MAAiC,aAAXumB,EAAEvmB,MAAkC,cAAXumB,EAAEvmB,KAAsB,CACzE,GAAKhC,KAAK2K,sBAqBN3K,KAAKstB,0BAA0BjzB,KAAK2F,KAAK+0B,mBACzC/0B,KAAKy1B,8BAA8Bz1B,KAAK+0B,uBAtBX,CAC7B/0B,KAAKwtB,wBAAwBnzB,KAAK2F,KAAKutB,oBAGvC,KAAK,GAFD2I,GAAgB1/B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,wBAC1Dw/B,EAAgB3/B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,wBACrDmE,EAAI,EAAGA,EAAIo7B,EAAchK,WAAW3zB,OAAQuC,IAC1Bo7B,EAAchK,WAAWpxB,GAAGy6B,aAAa,WACvCv1B,KAAKxE,QAAQ7E,GAAK,aACvCu/B,EAAchK,WAAWpxB,GAAG0kB,aAAa,UAAW,OAChDxf,KAAKmG,aAAagV,WAAagb,EAAcjK,WAAWpxB,IACxDq7B,EAAcjK,WAAWpxB,GAAG0kB,aAAa,UAAW,SAIxD0W,EAAchK,WAAWpxB,GAAG0kB,aAAa,UAAW,KAChDxf,KAAKmG,aAAagV,WAAagb,EAAcjK,WAAWpxB,IACxDq7B,EAAcjK,WAAWpxB,GAAG0kB,aAAa,UAAW,MASpEtjB,EAAc8D,KAAKxE,QAAQ7E,GAAK,iBAChC,IAAIyR,GAAO,GAAIO,IAAK,EAAG,EAAG3I,KAAK+0B,kBAAkBj9B,MAAOkI,KAAK+0B,kBAAkBn8B,QAC3EysB,EAAY,GAAInd,IAAWlI,KAAKxE,QAAQ7E,GAAK,uBAAwB,QAAUd,MAAO,cAAeiC,MAAO,GAAK,EAAGsQ,EAAM,QAC/G5R,UAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,gCAChDE,YAAYmJ,KAAK/G,SAASsR,cAAc8a,GACjD,IAAIxI,IACAnhB,QAASsE,KACT8c,QAAQ,EACRC,KAAM,eACN5G,KAAMnW,KAAKutB,oBAEfvtB,MAAKgd,QAAQ,eAAgBH,OAEb,eAAX0L,EAAEvmB,OAA0BhC,KAAKxE,QAAQ7E,OAC9CuF,EAAc8D,KAAKxE,QAAQ7E,GAAK,iBAOxC,IAJIqJ,KAAK4uB,eAAiB5uB,KAAK5E,aAA0B,eAAXmtB,EAAEvmB,MAC5ChC,KAAK4uB,cAAcnO,iBAAgB,GAEvCzgB,KAAK+tB,kBAAoB,GACrB/tB,KAAKyG,cAAgBzG,KAAK0lB,eAAehf,SAAW1G,KAAKyG,aAAama,eACtE5gB,KAAKyG,aAAama,cAAcplB,QAAS,CACzC,GAAI46B,GAAmBp2B,KAAKyG,aAAama,cAAcplB,QAAQslB,UAChD,gBAAXyH,EAAEvmB,KACFo0B,EAAiB5W,aAAa,UAAW,MAGrCxf,KAAKq2B,oBACLz4B,OAAO60B,aAAazyB,KAAKq2B,oBAE7Br2B,KAAKq2B,mBAAqBp6B,WAAW,WACjCm6B,EAAiB5W,aAAa,UAAW,MAC1C,OAeX,GAZkC,aAA9Bxf,KAAKiF,gBAAgBjD,MAAuBhC,KAAKyG,cAAgBzG,KAAK0lB,eAAe+N,qBACrFzzB,KAAK0lB,eAAehf,SAAW1G,KAAKwG,6BACrB,eAAX+hB,EAAEvmB,KACFhC,KAAKyG,aAAaoiB,yBAGd7oB,KAAKs2B,eACL14B,OAAO60B,aAAazyB,KAAKs2B,eAE7Bt2B,KAAKs2B,cAAgBr6B,WAAW,WAAckL,EAAMV,aAAaoiB,yBAA4B,QAGjG7oB,KAAK2K,sBAAuB,CAC5B,GAAI4rB,GAAO//B,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,oBACjD4/B,KACAA,EAAKthC,MAAM+B,WAAa,SACxBgJ,KAAKof,mBAAqB,IAWlC,MARIpf,MAAKjE,cAAc1F,OAAoD,IAA5C2J,KAAK9F,gBAAgB,GAAGhE,QAAQ,QAKvDgG,EAJC8D,KAAK2K,sBAIQ3K,KAAKxE,QAAQ7E,GAAK,kBAHlBqJ,KAAKxE,QAAQ7E,GAAK,mBAMjC,GAOXy2B,EAAQltB,UAAU4vB,mBAAqB,SAAU0G,GAC7C,GAAIA,EAAQ,CACR,GAAIxG,GAAahwB,KAAKtJ,cAAc,OAChCC,GAAIqJ,KAAKxE,QAAQ7E,GAAK,8BACtBmF,OAAQ,qBAEZkE,MAAKxE,QAAQ3E,YAAYm5B,GACzBA,EAAWn5B,YAAYmJ,KAAK7G,WAC5B6G,KAAK7G,UAAUlE,MAAM8B,SAAW,WAChCiJ,KAAK7G,UAAUlE,MAAMsC,KAAO,MAC5ByI,KAAK7G,UAAUlE,MAAMqC,IAAM,MAC3B0I,KAAK7G,UAAUlE,MAAMwhC,OAAS,QAE7B,CACD,GAAIj7B,GAAUhF,SAASC,eAAeuJ,KAAKxE,QAAQ7E,GAAK,+BACpD+/B,EAAkB12B,KAAKosB,wBAAwByD,cAC/C/3B,MAAOkI,KAAKhE,cAAclE,MAC1Bc,OAAQoH,KAAKhE,cAAcpD,OAAQyC,EAAG,EAAGC,EAAG,EAC5CrG,MAAO,kCAEXuG,GAAQ3E,YAAY6/B,KAG5Bt2B,IACIe,WAAS,OACVisB,EAAQltB,UAAW,YAAS,IAC/BE,IACIe,WAAS,OACVisB,EAAQltB,UAAW,aAAU,IAChCE,IACIe,YAAS,IACVisB,EAAQltB,UAAW,kBAAe,IACrCE,IACIu2B,WACDvJ,EAAQltB,UAAW,oBAAiB,IACvCE,IACIu2B,WACDvJ,EAAQltB,UAAW,cAAW,IACjCE,IACIu2B,WACDvJ,EAAQltB,UAAW,aAAU,IAChCE,IACIu2B,WACDvJ,EAAQltB,UAAW,iBAAc,IACpCE,IACIu2B,WACDvJ,EAAQltB,UAAW,mBAAgB,IACtCE,IACIe,WAAS,QACVisB,EAAQltB,UAAW,oBAAiB,IACvCE,IACIe,WAAS,OACVisB,EAAQltB,UAAW,iBAAc,IACpCE,IACIe,WAAS,aACVisB,EAAQltB,UAAW,YAAS,IAC/BE,IACIe,YAAS,IACVisB,EAAQltB,UAAW,qBAAkB,IACxCE,IACIsB,aAAYL,IACb+rB,EAAQltB,UAAW,aAAU,IAChCE,IACIsB,WAAUrL,KAAM,GAAI0a,UAAWjS,EAAMC,kBAAoB0C,IAC1D2rB,EAAQltB,UAAW,oBAAiB,IACvCE,IACIsB,aAAY8M,KACb4e,EAAQltB,UAAW,YAAS,IAC/BE,IACIsB,aAAY+hB,KACb2J,EAAQltB,UAAW,qBAAkB,IACxCE,IACIsB,aAAYe,IACb2qB,EAAQltB,UAAW,sBAAmB,IACzCE,IACIsB,aAAY0e,KACbgN,EAAQltB,UAAW,sBAAmB,IACzCE,IACIsB,aAAY8M,KACb4e,EAAQltB,UAAW,YAAS,IAC/BE,IACIsB,aAAY8X,KACb4T,EAAQltB,UAAW,mBAAgB,IACtCE,IACIu2B,WACDvJ,EAAQltB,UAAW,cAAW,IACjCE,IACIu2B,WACDvJ,EAAQltB,UAAW,WAAQ,IAC9BE,IACIu2B,WACDvJ,EAAQltB,UAAW,gBAAa,IACnCktB,EAAUhtB,IACNw2B,yBACDxJ,IAELyJ,aCnxCEx3B,GAAwC,WACxC,GAAIC,GAAgB,SAAUC,EAAGC,GAI7B,OAHAF,EAAgBG,OAAOC,iBAChBC,uBAA2BC,QAAS,SAAUL,EAAGC,GAAKD,EAAEI,UAAYH,IACvE,SAAUD,EAAGC,GAAK,IAAK,GAAIK,KAAKL,GAAOA,EAAEM,eAAeD,KAAIN,EAAEM,GAAKL,EAAEK,MACpDN,EAAGC,GAE5B,OAAO,UAAUD,EAAGC,GAEhB,QAASO,KAAOC,KAAKC,YAAcV,EADnCD,EAAcC,EAAGC,GAEjBD,EAAEW,UAAkB,OAANV,EAAaC,OAAOU,OAAOX,IAAMO,EAAGG,UAAYV,EAAEU,UAAW,GAAIH,QAGnFK,GAA0C,SAAUC,EAAYC,EAAQC,EAAKC,GAC7E,GAA2HjB,GAAvHkB,EAAIC,UAAUnI,OAAQoI,EAAIF,EAAI,EAAIH,EAAkB,OAATE,EAAgBA,EAAOf,OAAOmB,yBAAyBN,EAAQC,GAAOC,CACrH,IAAuB,gBAAZK,UAAoD,kBAArBA,SAAQC,SAAyBH,EAAIE,QAAQC,SAAST,EAAYC,EAAQC,EAAKC,OACpH,KAAK,GAAI1F,GAAIuF,EAAW9H,OAAS,EAAGuC,GAAK,EAAGA,KAASyE,EAAIc,EAAWvF,MAAI6F,GAAKF,EAAI,EAAIlB,EAAEoB,GAAKF,EAAI,EAAIlB,EAAEe,EAAQC,EAAKI,GAAKpB,EAAEe,EAAQC,KAASI,EAChJ,OAAOF,GAAI,GAAKE,GAAKlB,OAAOsB,eAAeT,EAAQC,EAAKI,GAAIA,GAU5Dm2B,GAAsB,SAAU71B,GAEhC,QAAS61B,KACL,MAAkB,QAAX71B,GAAmBA,EAAOC,MAAMlB,KAAMU,YAAcV,KAuB/D,MAzBAX,IAAUy3B,EAAM71B,GAIhBb,IACIe,WAAS,OACV21B,EAAK52B,UAAW,WAAQ,IAC3BE,IACIe,YAAS,IACV21B,EAAK52B,UAAW,iBAAc,IACjCE,IACIe,WAAS,SACV21B,EAAK52B,UAAW,kBAAe,IAClCE,IACIe,WAAS,KACV21B,EAAK52B,UAAW,mBAAgB,IACnCE,IACIe,WAAS,KACV21B,EAAK52B,UAAW,mBAAgB,IACnCE,IACIe,WAAS,KACV21B,EAAK52B,UAAW,mBAAgB,IACnCE,IACIsB,aAAYF,IACbs1B,EAAK52B,UAAW,wBAAqB,IACjC42B,GACT11B,iBAEE21B,GAAgC,WAChC,QAASA,MAET,MAAOA,MAOPC,GAAyB,WACzB,QAASA,GAAQp0B,GACb5C,KAAKi3B,sBACLj3B,KAAKk3B,sBACLl3B,KAAK4S,gBAAkB,GAAImkB,IAC3B/2B,KAAK6S,gBAAkB,GAAIkkB,IAC3B/2B,KAAK4C,QAAUA,EA0WnB,MAnWAo0B,GAAQ92B,UAAU4uB,oBAAsB,SAAU7R,GAC9C,GAA8B,SAA1BA,EAAU1G,YAAwB,CAClC,GAAIiG,GAAQxc,KAAK4C,QAAQ4Z,MACrB3B,EAAQ7a,KAAK4C,QAAQiY,KACzB7a,MAAK4S,gBAAgBxD,IAAMoN,EAAM1J,QACjC9S,KAAK4S,gBAAgBvD,IAAMmN,EAAMzJ,QACjC/S,KAAK6S,gBAAgBzD,IAAMyL,EAAM/H,QACjC9S,KAAK6S,gBAAgBxD,IAAMwL,EAAM9H,SACP,YAApByJ,EAAMla,WAA+C,aAApBka,EAAMla,YACxCyD,oBAAkByW,EAAM1J,WAAY/M,oBAAkByW,EAAMzJ,YACvC,YAApB8H,EAAMvY,WAA+C,aAApBuY,EAAMvY,YACpCyD,oBAAkB8U,EAAM/H,WAAY/M,oBAAkB8U,EAAM9H,WACjE/S,KAAKgjB,eAAe/F,EAAWT,EAAO3B,GAE1C7a,KAAK4C,QAAQ+P,YAAa,EAE1BsK,OAAgChnB,KAAnBgnB,EAAU9G,KACvBnW,KAAK4C,QAAQ4rB,wBAA0BvR,GAEjCA,EAAU3G,YAAwC,UAA1B2G,EAAU1G,aAA8C,OAAnB0G,EAAU9G,KAC7EnW,KAAK4C,QAAQ4rB,wBAA0BvR,EAAU9G,KAE5C8G,EAAU3G,YAAwC,UAA1B2G,EAAU1G,YACvCvW,KAAK4C,QAAQ4rB,wBAA0BxuB,KAAKm3B,qBAAqBla,GAE5DA,EAAU3G,YAAwC,SAA1B2G,EAAU1G,YACvCvW,KAAK4C,QAAQ4rB,wBAA0BxuB,KAAKo3B,oBAAoBna,GAE1DA,EAAU3G,YAAwC,SAA1B2G,EAAU1G,cACxCvW,KAAKq3B,wBACLr3B,KAAK4C,QAAQ4rB,wBAA0BxuB,KAAKs3B,gBAAgBra,GAC5Djd,KAAK4C,QAAQ+P,YAAa,IAQlCqkB,EAAQ92B,UAAUm3B,sBAAwB,WACtC,GAAI7a,GAAQxc,KAAK4C,QAAQ4Z,MACrB3B,EAAQ7a,KAAK4C,QAAQiY,KAED,aAApB2B,EAAMla,YACNtC,KAAKi3B,mBAAqBj3B,KAAKu3B,yBAAyBv3B,KAAK4S,gBAAgBxD,IAAKpP,KAAK4S,gBAAgBvD,IAAKmN,EAAMjgB,YAE9F,YAApBse,EAAMvY,YACNtC,KAAKk3B,mBAAqBl3B,KAAKu3B,yBAAyBv3B,KAAK6S,gBAAgBzD,IAAKpP,KAAK6S,gBAAgBxD,IAAKwL,EAAMte,YAE9F,aAApBigB,EAAMla,YACNtC,KAAKi3B,mBAAqBj3B,KAAKw3B,sBAAsBx3B,KAAK4S,gBAAgBxD,IAAKpP,KAAK4S,gBAAgBvD,IAAKmN,EAAMlgB,aAAckgB,EAAMjgB,YAE/G,aAApBse,EAAMvY,YACNtC,KAAKk3B,mBAAqBl3B,KAAKw3B,sBAAsBx3B,KAAK6S,gBAAgBzD,IAAKpP,KAAK6S,gBAAgBxD,IAAKwL,EAAMve,aAAcue,EAAMte,aAQ3Iy6B,EAAQ92B,UAAUq3B,yBAA2B,SAAUnoB,EAAKC,EAAK9S,GAG7D,IAFA,GAAIk7B,GAAYroB,EACZsoB,KACGD,GAAapoB,GAChBqoB,EAAar9B,KAAKo9B,EAAU57B,YAC5B47B,GAAwBl7B,CAE5B,OAAOm7B,IAOXV,EAAQ92B,UAAUs3B,sBAAwB,SAAUpoB,EAAKC,EAAK/S,EAAcC,GAUxE,IAFA,GAPIkX,IACAC,SAAU,OACV1R,KAAM,YAEN2R,EAAa3T,KAAK4C,QAAQuQ,KAAKS,cAAcH,GAC7CI,EAAgB7T,KAAK4C,QAAQuQ,KAAKW,cAAcL,GAEhD9U,EADJyQ,EAAM3S,KAAKsX,MAAMJ,EAAWE,EAAc,GAAIpX,MAAKuX,WAASD,MAAME,WAAYC,IAAK9E,IAAO8E,QAEtFwjB,KACG/4B,GAAgB0Q,GACnBqoB,EAAar9B,KAAK,GAAIoC,MAAKkC,GAAc9C,YACzC8C,EAAevC,EAAyBuC,EAAc,EAAGrC,EAAcC,GAAW4X,SAEtF,OAAOujB,IAOXV,EAAQ92B,UAAU8iB,eAAiB,SAAU2U,EAAUnb,EAAO3B,GAC1D,GAAI1E,GAAOwhB,EAASxhB,KAChBvb,EAAQ6E,OAAOspB,KAAK5S,EAAK,GACzBA,GAAK5d,OAAS,IACdyH,KAAK4S,gBAAgBxD,IAAOrJ,oBAAkByW,EAAM1J,SAA2B6kB,EAASrhB,WAEpFH,EAAK,GAAGvb,EAAM,IAAMub,EAAK,GAAG,GAF+BqG,EAAM1J,QAGrE9S,KAAK6S,gBAAgBzD,IAAOrJ,oBAAkB8U,EAAM/H,SAA2B6kB,EAASrhB,WAEpFH,EAAK,GAAGvb,EAAM,IAAMub,EAAK,GAAG,GAF+B0E,EAAM/H,QAGrE9S,KAAK4S,gBAAgBvD,IAAOtJ,oBAAkByW,EAAMzJ,SAA2B4kB,EAASrhB,WAEpFH,EAAK,GAAGvb,EAAM,IAAMub,EAAK,GAAG,GAF+BqG,EAAMzJ,QAGrE/S,KAAK6S,gBAAgBxD,IAAOtJ,oBAAkB8U,EAAM9H,SAA2B4kB,EAASrhB,WAEpFH,EAAK,GAAGvb,EAAM,IAAMub,EAAK,GAAG,GAF+B0E,EAAM9H,QAIzE,KAAK,GAAI6kB,GAAY,EAAGA,EAAYzhB,EAAK5d,OAAQq/B,IAAa,CAE1D,GAAIC,GAAaF,EAASrhB,WAAaH,EAAKyhB,GAAWh9B,EAAM,IAAMub,EAAKyhB,GAAW,GAE/EE,EAAaH,EAASrhB,WAAaH,EAAKyhB,GAAWh9B,EAAM,IAAMub,EAAKyhB,GAAW,EAC/EC,GAAa73B,KAAK4S,gBAAgBxD,KAAOrJ,oBAAkByW,EAAM1J,WACjE9S,KAAK4S,gBAAgBxD,IAAMyoB,GAE3BA,EAAa73B,KAAK4S,gBAAgBvD,KAAOtJ,oBAAkByW,EAAMzJ,WACjE/S,KAAK4S,gBAAgBvD,IAAMwoB,GAE3BC,EAAa93B,KAAK6S,gBAAgBzD,KAAOrJ,oBAAkB8U,EAAM/H,WACjE9S,KAAK6S,gBAAgBzD,IAAM0oB,GAE3BA,EAAa93B,KAAK6S,gBAAgBxD,KAAOtJ,oBAAkB8U,EAAM9H,WACjE/S,KAAK6S,gBAAgBxD,IAAMyoB,KASvCd,EAAQ92B,UAAUo3B,gBAAkB,SAAUS,GAE1C,GAAIC,GAAqBD,EAAY5hB,KACjCsG,EAAUzc,KAAKi3B,mBACfva,EAAU1c,KAAKk3B,mBACfe,EAAoB,EACpBC,EAAoB,CACxB,IAAIF,EAAmBz/B,OAAQ,CAC3ByH,KAAKm4B,kBACL,KAAK,GAAIC,GAAS,EAAGA,EAASJ,EAAmBz/B,OAAQ6/B,IAOrD,IALIH,EADiC,aAAjCj4B,KAAK4C,QAAQ4Z,MAAMla,UACC01B,EAAmBI,GAAQ,GAG3B3b,EAAQvmB,QAAQ8hC,EAAmBI,GAAQ,GAAGv8B,cAE7C,EAAG,CACxB,MAAQmE,KAAKm4B,gBAAgBF,IACzBj4B,KAAKm4B,gBAAgB99B,QAQzB,KAA2B,KALvB69B,EADiC,aAAjCl4B,KAAK4C,QAAQiY,MAAMvY,UACC01B,EAAmBI,GAAQ,GAG3B1b,EAAQxmB,QAAQ8hC,EAAmBI,GAAQ,GAAGv8B,aAExC,CAC1B,KAAsE,KAA/DmE,KAAKm4B,gBAAgBF,GAAmBC,IAC3Cl4B,KAAKm4B,gBAAgBF,GAAmB59B,KAAK,GAEjD2F,MAAKm4B,gBAAgBF,GAAmBC,GAAqBnyB,oBAAkBiyB,EAAmBI,GAAQ,IACtG,GAAKJ,EAAmBI,GAAQ,KAKpD,MAAOp4B,MAAKm4B,iBAOhBnB,EAAQ92B,UAAUk3B,oBAAsB,SAAUW,GAE9C,GAAIC,GAAqBD,EAAY5hB,KACjCkiB,EAAcr4B,KAAK4C,QAAQ4Z,MAAM3K,OAAS7R,KAAK4C,QAAQ4Z,MAAM3K,UAC7DymB,EAAct4B,KAAK4C,QAAQiY,MAAMhJ,OAAS7R,KAAK4C,QAAQiY,MAAMhJ,UAC7D2D,EAAkBxV,KAAK4C,QAAQ4S,eACR,KAAvB6iB,EAAY9/B,QAAuC,IAAvB+/B,EAAY//B,QACxCyH,KAAKu4B,mBAAmBR,EAE5B,IAAItb,GAA4C,aAAjCzc,KAAK4C,QAAQ4Z,MAAMla,UAA6B+1B,EAAY9/B,OAAS,EAChFyH,KAAK4C,QAAQ4Z,MAAM3K,OAAS2D,EAAgB,GAAGjG,cAAiBiG,EAAgB,GAAGzG,WACnF2N,EAA4C,aAAjC1c,KAAK4C,QAAQiY,MAAMvY,UAA6Bg2B,EAAY//B,OAAS,EAChFyH,KAAK4C,QAAQiY,MAAMhJ,OAAS2D,EAAgB,GAAGjG,cAAiBiG,EAAgB,GAAGzG,WACnFkpB,EAAoB,EACpBC,EAAoB,CACxB,IAAIF,EAAmBz/B,OAAQ,CAC3ByH,KAAKm4B,kBACL,KAAK,GAAIj9B,GAAQ,EAAGA,EAAQ88B,EAAmBz/B,OAAQ2C,IAEnD,IAA2B,KAD3B+8B,EAAoBj4B,KAAKw4B,kBAAkBR,EAAmB98B,GAAQ68B,EAAatb,EAASsb,EAAYU,aAAa99B,MAAM,KAAMqF,KAAK4C,QAAQ4Z,MAAMla,YACtH,CAC1B,MAAQtC,KAAKm4B,gBAAgBF,IACzBj4B,KAAKm4B,gBAAgB99B,QAGzB,KAA2B,KAD3B69B,EAAoBl4B,KAAKw4B,kBAAkBR,EAAmB98B,GAAQ68B,EAAarb,EAASqb,EAAYW,aAAa/9B,MAAM,KAAMqF,KAAK4C,QAAQiY,MAAMvY,YACtH,CAC1B,KAAOyD,oBAAkB/F,KAAKm4B,gBAAgBF,GAAmBC,KAC7Dl4B,KAAKm4B,gBAAgBF,GAAmB59B,KAAK,GAE7C2F,MAAK4C,QAAQ8B,oBACb1E,KAAKm4B,gBAAgBF,GAAmBC,IACpCl4B,KAAKw4B,kBAAkBR,EAAmB98B,GAAQ68B,EAAa,KAAMA,EAAY3a,kBAAkBlmB,KAAKyD,MAAM,KAAM,IACpHqF,KAAKw4B,kBAAkBR,EAAmB98B,GAAQ68B,EAAa,KAAMA,EAAY3a,kBAAkBvnB,MAAM8E,MAAM,KAAM,KAIzHqF,KAAKm4B,gBAAgBF,GAAmBC,GAAqBl4B,KAAKw4B,kBAAkBR,EAAmB98B,GAAQ68B,EAAa,KAAMA,EAAYY,aAAah+B,MAAM,KAAM,MAM3L,MAAOqF,MAAKm4B,iBAOhBnB,EAAQ92B,UAAUq4B,mBAAqB,SAAUR,GAQ7C,IAAK,GANDC,GAAqBD,EAAY5hB,KACjCsG,EAAUzc,KAAK4C,QAAQ4Z,MAAM3K,OAAS7R,KAAK4C,QAAQ4Z,MAAM3K,UACzD6K,EAAU1c,KAAK4C,QAAQiY,MAAMhJ,OAAS7R,KAAK4C,QAAQiY,MAAMhJ,UACzD+mB,EAAanc,EAAQlkB,OAAS,EAC9BsgC,EAAanc,EAAQnkB,OAAS,EAC9B2d,EAAiBlW,KAAK4C,QAAQ4S,gBACzBta,EAAQ,EAAGA,EAAQgb,EAAe3d,OAAQ2C,IAAS,CACxD,GAAIoH,GAAY4T,EAAehb,GAAOoH,UAClCuN,EAAOqG,EAAehb,EAC1B,IAAkB,aAAdoH,EAA0B,CAC1B,GAAIw2B,OAAY,GACZC,MAAc,GACdlnB,MAAS,EAWb,IAVyB,eAArBhC,EAAKQ,aACLyoB,EAAYF,EACZG,EAAchB,EAAYU,aAC1B5oB,EAAKN,cAAgBsC,OAGrBinB,EAAYD,EACZE,EAAchB,EAAYW,aAC1B7oB,EAAKN,cAAgBsC,OAEpBinB,EACD,IAAK,GAAIh+B,GAAI,EAAGA,EAAIk9B,EAAmBz/B,OAAQuC,IAC3C,GAAIi+B,IAAef,GAAmBl9B,GAAI,CACtC,GAAI4M,GAASswB,EAAmBl9B,GAAGi+B,GAAal9B,YACL,IAAvCgW,EAAO3b,QAAQwR,EAAO7L,aACtBgW,EAAOxX,KAAKqN,QAMT,aAAdpF,GACLuN,EAAKoF,iBACLpF,EAAK2D,2BAA2BxT,KAAK4C,WAGrCiN,EAAKoF,iBACLpF,EAAK0C,2BAA2BvS,KAAK4C,YASjDo0B,EAAQ92B,UAAUs4B,kBAAoB,SAEtCQ,EAAyBjB,EAAalmB,EAAQonB,EAAe32B,GACzD,GAAIvM,IAAS,CACbiK,MAAKg5B,wBAA0BA,CAC/B,KAAK,GAAIE,GAAa,EAAGA,EAAaD,EAAc1gC,SAChDxC,EAASgQ,oBAAkB8L,GAEiE,KAFtC,aAAdvP,EACpCuP,EAAO3b,QAAQ8J,KAAKg5B,wBAAwBC,EAAcC,KAC1DrnB,EAAOP,IAAIpO,QAAQhN,SAAS8J,KAAKg5B,wBAAwBC,EAAcC,KACtEnzB,oBAAkB/F,KAAKg5B,2BACxBh5B,KAAKg5B,yBAAqC,IAAXjjC,GAAiBgQ,oBAAkB8L,GAC/B7R,KAAKg5B,wBAAwBC,EAAcC,IAA1El5B,KAAKg5B,0BAETjzB,oBAAkB/F,KAAKg5B,0BAR6BE,KAc5D,MAFAnjC,GAASgQ,oBAAkB8L,GAAkB9L,oBAAkB/F,KAAKg5B,0BACpB,KAA5Ch5B,KAAKg5B,wBAAwBn9B,WAAoB,GAAKyL,WAAWtH,KAAKg5B,wBAAwBn9B,YAD7D9F,GASzCihC,EAAQ92B,UAAUi3B,qBAAuB,SAAUY,GAE/C,GAKIx3B,GALAy3B,EAAqBD,EAAY5hB,KACjC8hB,EAAoB,EACpBC,EAAoB,EACpBzb,EAAUzc,KAAK4C,QAAQ4Z,MAAM3K,OAAS7R,KAAK4C,QAAQ4Z,MAAM3K,UACzD6K,EAAU1c,KAAK4C,QAAQiY,MAAMhJ,OAAS7R,KAAK4C,QAAQiY,MAAMhJ,SAE7D,IAAImmB,EAAmBz/B,OAAQ,CAC3ByH,KAAKm4B,kBACL,KAAK,GAAIC,GAAS,EAAGA,EAASJ,EAAmBz/B,OAAQ6/B,IAErD,IAA2B,KAD3BH,EAAoBj4B,KAAKw4B,kBAAkBR,EAAmBI,GAASL,EAAatb,EAASsb,EAAYU,aAAa99B,MAAM,KAAMqF,KAAK4C,QAAQ4Z,MAAMla,YACvH,CAC1B,MAAQtC,KAAKm4B,gBAAgBF,IACzBj4B,KAAKm4B,gBAAgB99B,QAEzB,KAAK,GAAIa,GAAQ,EAAGA,EAAQuE,OAAOspB,KAAK/oB,KAAKg5B,yBAAyBzgC,OAAQ2C,IAG1E,GAFAqF,EAAMd,OAAOspB,KAAK/oB,KAAKg5B,yBAAyB99B,IAErB,KAD3Bg9B,EAAoB33B,IAAQw3B,EAAYU,aAAe/b,EAAQxmB,QAAQqK,IAAQ,GACjD,CAC1B,KAAOwF,oBAAkB/F,KAAKm4B,gBAAgBF,GAAmBC,KAC7Dl4B,KAAKm4B,gBAAgBF,GAAmB59B,KAAK,GAEjD2F,MAAKm4B,gBAAgBF,GAAmBC,GACpCnyB,oBAAkB/F,KAAKg5B,wBAAwBz4B,IAC3C,GAAKP,KAAKg5B,wBAAwBz4B,KAM9D,MAAOP,MAAKm4B,iBAOhBnB,EAAQ92B,UAAU6gB,QAAU,SAAUne,KAStCo0B,EAAQ92B,UAAUsgB,cAAgB,WAC9B,MAAO,WAEJwW"}